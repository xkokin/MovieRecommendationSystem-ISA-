<!DOCTYPE html>
<!-- saved from url=(0073)https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/ -->
<html lang="en-US" class="" style="--wp--custom--scrollbar-width: 15px; --header-height: 202px;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style data-hubspot-styled-components=""></style>
	
	
<script type="text/javascript" async="" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/js"></script><script async="" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gtm.js.download"></script><script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/otSDKStub.js.download" type="text/javascript" charset="UTF-8" data-domain-script="0194a8d2-a02d-772f-9a54-bbcfa568118a"></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/script.js.download"></script><!-- Google Tag Manager -->
<script>
	(function (w, d, s, l, i) {
		w[l] = w[l] || [];
		w[l].push({
			'gtm.start': new Date().getTime(),
			event: 'gtm.js'
		});
		var f = d.getElementsByTagName(s)[0],
			j = d.createElement(s),
			dl = l != 'dataLayer' ? '&l=' + l : '';
		j.async = true;
		j.src =
			'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
				f.parentNode.insertBefore(j, f);
	})(window, document, 'script', 'dataLayer', 'GTM-NDXD39TW');
</script>
<!-- End Google Tag Manager -->
<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<script>window.addEventListener("DOMContentLoaded",()=>{const t=()=>window.innerWidth-document.body.clientWidth;const e=()=>{document.documentElement.style.setProperty("--wp--custom--scrollbar-width",`${t()}px`)};e();window.addEventListener("resize",e);});</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	
	<!-- This site is optimized with the Yoast SEO plugin v24.6 - https://yoast.com/wordpress/plugins/seo/ -->
	<link rel="canonical" href="https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/">
	<meta property="og:locale" content="en_US">
	<meta property="og:type" content="article">
	<meta property="og:title" content="MovieLens-1M Deep Dive - Part I | Towards Data Science">
	<meta property="og:description" content="A hands-on recommendation systems tour using the popular benchmark dataset">
	<meta property="og:url" content="https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/">
	<meta property="og:site_name" content="Towards Data Science">
	<meta property="article:published_time" content="2022-06-08T17:30:47+00:00">
	<meta property="article:modified_time" content="2025-03-05T13:07:45+00:00">
	<meta property="og:image" content="https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-scaled.jpeg">
	<meta property="og:image:width" content="2560">
	<meta property="og:image:height" content="1920">
	<meta property="og:image:type" content="image/jpeg">
	<meta name="author" content="Elad Rapaport">
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:creator" content="@TDataScience">
	<meta name="twitter:site" content="@TDataScience">
	<meta name="twitter:label1" content="Written by">
	<meta name="twitter:data1" content="Elad Rapaport">
	<meta name="twitter:label2" content="Est. reading time">
	<meta name="twitter:data2" content="13 minutes">
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/#article","isPartOf":{"@id":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/"},"author":[{"@id":"https://towardsdatascience.com/#/schema/person/image/9aba0e8fdae15c7ffffe22a27d9520e2"}],"headline":"MovieLens-1M Deep Dive &#8211; Part I","datePublished":"2022-06-08T17:30:47+00:00","dateModified":"2025-03-05T13:07:45+00:00","mainEntityOfPage":{"@id":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/"},"wordCount":2583,"commentCount":0,"publisher":{"@id":"https://towardsdatascience.com/#organization"},"image":{"@id":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/#primaryimage"},"thumbnailUrl":"https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-scaled.jpeg","keywords":["Machine Learning","Python","Recommendation System","Recommender Systems","Surprise"],"articleSection":["Machine Learning"],"inLanguage":"en-US"},{"@type":"WebPage","@id":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/","url":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/","name":"MovieLens-1M Deep Dive - Part I | Towards Data Science","isPartOf":{"@id":"https://towardsdatascience.com/#website"},"primaryImageOfPage":{"@id":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/#primaryimage"},"image":{"@id":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/#primaryimage"},"thumbnailUrl":"https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-scaled.jpeg","datePublished":"2022-06-08T17:30:47+00:00","dateModified":"2025-03-05T13:07:45+00:00","breadcrumb":{"@id":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/"]}]},{"@type":"ImageObject","inLanguage":"en-US","@id":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/#primaryimage","url":"https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-scaled.jpeg","contentUrl":"https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-scaled.jpeg","width":2560,"height":1920,"caption":"Photo from pexels"},{"@type":"BreadcrumbList","@id":"https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://towardsdatascience.com/"},{"@type":"ListItem","position":2,"name":"Latest","item":"https://towardsdatascience.com/latest/"},{"@type":"ListItem","position":3,"name":"MovieLens-1M Deep Dive &#8211; Part I"}]},{"@type":"WebSite","@id":"https://towardsdatascience.com/#website","url":"https://towardsdatascience.com/","name":"Towards Data Science","description":"The world’s leading publication for data science, AI, and ML professionals.","publisher":{"@id":"https://towardsdatascience.com/#organization"},"alternateName":"TDS","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://towardsdatascience.com/?s={search_term_string}"},"query-input":{"@type":"PropertyValueSpecification","valueRequired":true,"valueName":"search_term_string"}}],"inLanguage":"en-US"},{"@type":"Organization","@id":"https://towardsdatascience.com/#organization","name":"Towards Data Science","alternateName":"TDS","url":"https://towardsdatascience.com/","logo":{"@type":"ImageObject","inLanguage":"en-US","@id":"https://towardsdatascience.com/#/schema/logo/image/","url":"https://towardsdatascience.com/wp-content/uploads/2025/02/tds-logo.jpg","contentUrl":"https://towardsdatascience.com/wp-content/uploads/2025/02/tds-logo.jpg","width":696,"height":696,"caption":"Towards Data Science"},"image":{"@id":"https://towardsdatascience.com/#/schema/logo/image/"},"sameAs":["https://x.com/TDataScience","https://www.youtube.com/c/TowardsDataScience","https://www.linkedin.com/company/towards-data-science/"]},{"@type":"Person","@id":"https://towardsdatascience.com/#/schema/person/image/9aba0e8fdae15c7ffffe22a27d9520e2","name":"Elad Rapaport","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https://towardsdatascience.com/#/schema/person/image/23494c9101089ad44ae88ce9d2f56aac","url":"https://secure.gravatar.com/avatar/?s=96&d=mm&r=g","contentUrl":"https://secure.gravatar.com/avatar/?s=96&d=mm&r=g","caption":"Elad Rapaport"},"url":"https://towardsdatascience.com/author/erap129/"}]}</script>
	<!-- / Yoast SEO plugin. -->


<title>MovieLens-1M Deep Dive - Part I | Towards Data Science</title>
<link rel="alternate" type="application/rss+xml" title="Towards Data Science » Feed" href="https://towardsdatascience.com/feed/">
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/towardsdatascience.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.7.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\u2b1b","\ud83d\udc26\u200b\u2b1b")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
</script>
<style id="wp-block-site-logo-inline-css">
.wp-block-site-logo{box-sizing:border-box;line-height:0}.wp-block-site-logo a{display:inline-block;line-height:0}.wp-block-site-logo.is-default-size img{height:auto;width:120px}.wp-block-site-logo img{height:auto;max-width:100%}.wp-block-site-logo a,.wp-block-site-logo img{border-radius:inherit}.wp-block-site-logo.aligncenter{margin-left:auto;margin-right:auto;text-align:center}:root :where(.wp-block-site-logo.is-style-rounded){border-radius:9999px}
</style>
<style id="wp-block-site-tagline-inline-css">
.wp-block-site-tagline{box-sizing:border-box}
</style>
<style id="block-visibility-screen-size-styles-inline-css">
/* Large screens (desktops, 900px and up) */
@media ( min-width: 900px ) {
	.block-visibility-hide-large-screen {
		display: none !important;
	}
}

/* Small screens (mobile devices, less than 879px) */
@media ( max-width: 878.98px ) {
	.block-visibility-hide-small-screen {
		display: none !important;
	}
}
</style>
<style id="wp-block-group-inline-css">
.wp-block-group{box-sizing:border-box}:where(.wp-block-group.wp-block-group-is-layout-constrained){position:relative}
</style>
<style id="ui-kit-theme-group-styles-inline-css">
.wp-block-group.is-layout-flex.is-reversed{flex-direction:row-reverse}.wp-block-group.is-layout-flex.is-reversed.is-vertical{flex-direction:column-reverse}

</style>
<link rel="stylesheet" id="wp-block-button-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/style.min.css" media="all">
<style id="ui-kit-theme-button-styles-inline-css">
.wp-element-button.wp-element-button{background-color:var(--wp--custom--color--button--background--default);border:1px solid var(--wp--custom--color--button--border--default);color:var(--wp--custom--color--button--text--default)}.wp-element-button.wp-element-button svg{color:var(--wp--custom--color--buton--icon--default)}.wp-element-button.wp-element-button:focus,.wp-element-button.wp-element-button:hover{background-color:var(--wp--custom--color--button--background--hover);border:1px solid var(--wp--custom--color--button--border--hover);color:var(--wp--custom--color--button--text--hover)}.wp-element-button.wp-element-button:focus svg,.wp-element-button.wp-element-button:hover svg{color:var(--wp--custom--color--buton--icon--hover)}.wp-element-button.wp-element-button:disabled{background-color:var(--wp--custom--color--button--background--disabled);border:1px solid var(--wp--custom--color--button--border--disabled);color:var(--wp--custom--color--button--text--disabled)}.wp-element-button.wp-element-button:disabled svg{color:var(--wp--custom--color--buton--icon--disabled)}.wp-element-button.wp-element-button.has-inline-icon{display:inline-flex;gap:.5em}.wp-element-button.wp-element-button.has-inline-icon svg{transition:transform .2s ease-in-out}.wp-element-button.wp-element-button.has-inline-icon:focus svg,.wp-element-button.wp-element-button.has-inline-icon:hover svg{transform:translateX(.2em)}

</style>
<style id="wp-block-buttons-inline-css">
.wp-block-buttons.is-vertical{flex-direction:column}.wp-block-buttons.is-vertical>.wp-block-button:last-child{margin-bottom:0}.wp-block-buttons>.wp-block-button{display:inline-block;margin:0}.wp-block-buttons.is-content-justification-left{justify-content:flex-start}.wp-block-buttons.is-content-justification-left.is-vertical{align-items:flex-start}.wp-block-buttons.is-content-justification-center{justify-content:center}.wp-block-buttons.is-content-justification-center.is-vertical{align-items:center}.wp-block-buttons.is-content-justification-right{justify-content:flex-end}.wp-block-buttons.is-content-justification-right.is-vertical{align-items:flex-end}.wp-block-buttons.is-content-justification-space-between{justify-content:space-between}.wp-block-buttons.aligncenter{text-align:center}.wp-block-buttons:not(.is-content-justification-space-between,.is-content-justification-right,.is-content-justification-left,.is-content-justification-center) .wp-block-button.aligncenter{margin-left:auto;margin-right:auto;width:100%}.wp-block-buttons[style*=text-decoration] .wp-block-button,.wp-block-buttons[style*=text-decoration] .wp-block-button__link{text-decoration:inherit}.wp-block-buttons.has-custom-font-size .wp-block-button__link{font-size:inherit}.wp-block-button.aligncenter{text-align:center}
</style>
<style id="wp-block-navigation-link-inline-css">
.wp-block-navigation .wp-block-navigation-item__label{overflow-wrap:break-word}.wp-block-navigation .wp-block-navigation-item__description{display:none}.link-ui-tools{border-top:1px solid #f0f0f0;padding:8px}.link-ui-block-inserter{padding-top:8px}.link-ui-block-inserter__back{margin-left:8px;text-transform:uppercase}
</style>
<style id="wp-block-separator-inline-css">
@charset "UTF-8";.wp-block-separator{border:none;border-top:2px solid}:root :where(.wp-block-separator.is-style-dots){height:auto;line-height:1;text-align:center}:root :where(.wp-block-separator.is-style-dots):before{color:currentColor;content:"···";font-family:serif;font-size:1.5em;letter-spacing:2em;padding-left:2em}.wp-block-separator.is-style-dots{background:none!important;border:none!important}
</style>
<style id="tenup-navigation-style-inline-css">
:where(.wp-block-tenup-navigation) .wp-block-tenup-navigation__list{align-items:center;display:flex;flex-wrap:wrap;gap:inherit;justify-content:center;list-style:none;margin:0;padding:0}.wp-block-tenup-navigation__mobile-actions{display:none}.wp-block-tenup-navigation__button{align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:inherit;cursor:pointer;display:flex;flex-direction:row;flex-wrap:nowrap;padding:0}.wp-block-tenup-navigation__icon[aria-hidden=true]{display:none}.wp-block-navigation-submenu{align-items:center}.wp-block-navigation__submenu-container{align-items:flex-start;background-color:var(--wp--custom--color--surface--primary);border:1px solid var(--wp--custom--color--border--primary);display:flex;flex-direction:column;left:auto;list-style:none;min-width:200px;padding:0;top:100%}.wp-block-navigation__submenu-container .wp-block-navigation-item{display:block;width:100%}.wp-block-navigation__submenu-container .wp-block-navigation-item__content{display:block;padding:var(--wp--custom--spacing--xxs) var(--wp--custom--spacing--xs);width:100%}

		@media (max-width: 899px) {
		.wp-block-tenup-site-header {
			z-index: 1000;
			isolation: isolate;
		}

		:root :where(.wp-block-tenup-navigation.should-collapse-on-mobile > .wp-block-tenup-navigation__list) {
			flex-direction: column;
			align-items: flex-start;
			justify-content: flex-start;
			flex-wrap: nowrap;
			display: flex;
			position: fixed;
			top: var(--header-height, 0);
			bottom: 0;
			left: 0;
			right: 0;
			height: calc(100vh - var(--header-height, 0px));
			height: calc(100dvh - var(--header-height, 0px));
			overflow-y: auto;
			width: var(--wp--custom--full-viewport-width, 100vw);
			z-index: 100;
			isolation: isolate;
			background-color: #fff;
			padding-inline: var(--wp--style--root--padding-left) var(--wp--style--root--padding-right);
		}

		.wp-block-tenup-navigation__list[aria-hidden="true"] {
			display: none !important;
		}

		.wp-block-tenup-navigation-megamenu__container[aria-hidden="true"] {
			transform: translateX(100%) translateY(0);
		}

		.wp-block-tenup-navigation-megamenu__container[aria-hidden="false"] {
			position: fixed;
			top: var(--header-height, 0);
			left: 0;
			width: var(--wp--custom--full-viewport-width, 100vw);
			height: calc(100vh - var(--header-height, 0px));
			height: calc(100dvh - var(--header-height, 0px));
			transform: translateX(0%) translateY(0);
			z-index: 10;
		}

		.wp-block-tenup-navigation-portal {
			display: none;
		}

		.wp-block-tenup-navigation-portal-slot .wp-block-tenup-navigation-portal {
			display: block;
		}

		:root :where(.wp-block-tenup-navigation.should-collapse-on-mobile > .wp-block-tenup-navigation__mobile-actions) {
			display: flex;
		}
	}
</style>
<link rel="stylesheet" id="wp-block-social-links-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/style(1).min.css" media="all">
<style id="tenup-theme-core/social-links-inline-css">
.wp-block-social-link{overflow:visible}.wp-block-social-link:focus,.wp-block-social-link:hover{transform:none}.wp-block-social-link-anchor{border-color:transparent!important;border-radius:99px;border-style:solid!important;border-width:1px!important;padding:var(--wp--custom--spacing--8)!important;transition:all .3s ease!important}.wp-block-social-link-anchor:focus,.wp-block-social-link-anchor:hover{border-color:currentColor!important;transform:none}.wp-block-social-link-anchor:focus-visible{outline-color:var(--wp--custom--color--button--border--hover);outline-offset:var(--wp--custom--spacing--2);outline-style:solid;outline-width:1px}.is-style-section-brand .wp-block-social-link-anchor:focus,.is-style-section-brand .wp-block-social-link-anchor:hover{background-color:var(--wp--custom--color--spindle);border-color:var(--wp--custom--color--spindle)!important;color:var(--wp--custom--color--surface--brand)!important}

</style>
<link rel="stylesheet" id="wp-block-search-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/style(2).min.css" media="all">
<style id="tenup-theme-core/search-inline-css">
main .wp-block-search{max-width:480px}main .wp-block-search__inside-wrapper{align-items:center}main .wp-block-search__button{margin-right:6px}main .wp-block-search__input{height:60px;padding:20px}

</style>
<style id="ui-kit-theme-search-styles-inline-css">
.wp-block-search__inside-wrapper{padding:0}.wp-block-search__button,.wp-block-search__input{height:var(--wp--custom--search-block-height);padding-bottom:0;padding-left:var(--wp--custom--search-block-padding-inline);padding-right:var(--wp--custom--search-block-padding-inline);padding-top:0}.wp-block-search__button-inside .wp-block-search__inside-wrapper{background-color:var(--wp--preset--color--surface-primary)}.wp-block-search__button-inside .wp-block-search__button{margin-left:0;padding-left:var(--wp--custom--search-block-padding-inline);padding-right:var(--wp--custom--search-block-padding-inline)}.wp-block-search__icon-button .wp-block-search__button{align-items:center;display:flex;flex-shrink:0;justify-content:center;padding:0;width:var(--wp--custom--search-block-icon-only-button-width)}.is-style-rounded .wp-block-search__inside-wrapper{border-radius:calc(var(--wp--custom--search-block-height)/2 + 1px)}.is-style-rounded .wp-block-search__input{border-bottom-left-radius:calc(var(--wp--custom--search-block-height)/2);border-top-left-radius:calc(var(--wp--custom--search-block-height)/2)}.is-style-rounded .wp-block-search__button{border-bottom-right-radius:calc(var(--wp--custom--search-block-height)/2);border-top-right-radius:calc(var(--wp--custom--search-block-height)/2)}

</style>
<style id="tenup-search-button-style-inline-css">
.wp-block-tenup-search-button{position:relative}.wp-block-tenup-search-button__search{display:none;position:absolute;right:0;top:100%}.wp-block-tenup-search-button__search[aria-hidden=false]{display:block}.wp-block-tenup-search-button__icon[aria-hidden=true]{display:none}.wp-block-tenup-search-button__button{align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:0;color:inherit;cursor:pointer;display:flex;flex-direction:row;flex-wrap:nowrap;padding:0}

</style>
<style id="tenup-site-header-style-inline-css">
html{scroll-behavior:smooth;scroll-padding-block-start:calc(var(--header-height) + var(--wp-admin--admin-bar--height, 0) + 1rem)}.wp-block-template-part:has(.wp-block-tenup-site-header){display:contents}.wp-block-tenup-site-header{isolation:isolate;width:var(--wp--custom--full-viewport-width);z-index:100}.wp-block-tenup-site-header:where([data-is-sticky=true]){position:sticky;top:0;transition:transform .2s ease-in-out;will-change:transform}.wp-block-tenup-site-header:where([data-is-sticky=true]):where(.not-top){transform:translateY(-100%)}.wp-block-tenup-site-header:where([data-is-sticky=true]):where(.is-pinned){transform:translateY(0)}@media (min-width:601px){.wp-block-tenup-site-header:where([data-is-sticky=true]){top:var(--wp-admin--admin-bar--height,0)}}.wp-block-tenup-site-header .wp-block-navigation{position:static!important}.wp-block-tenup-navigation__backdrop{background-color:transparent;bottom:0;isolation:isolate;left:0;opacity:0;pointer-events:none;position:fixed;right:0;top:0;transition:opacity .32s cubic-bezier(.4,0,.6,1) 80ms;will-change:opacity;z-index:10}.wp-block-tenup-navigation__backdrop[aria-hidden=false]{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:rgba(0,0,0,.4);opacity:1;pointer-events:auto}body.is-mobile-navigation-expanded,html:has(body.is-mobile-navigation-expanded){overflow:clip!important}

</style>
<link rel="stylesheet" id="tenup-theme-tenup/site-header-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/site-header.css" media="all">
<style id="tds-ad-slot-style-inline-css">
.wp-block-tds-ad-slot{align-items:center;justify-content:center;min-height:50px;width:100%}.wp-block-tds-ad-slot.ad-section--header{min-height:60px}@media (min-width:768px){.wp-block-tds-ad-slot.ad-section--header{min-height:86px}}.wp-block-tds-ad-slot.ad-section--footer{bottom:0;min-height:60px;position:fixed;transform:translateY(60px);transition:transform .3s ease;will-change:transform}@media (min-width:768px){.wp-block-tds-ad-slot.ad-section--footer{min-height:86px;transform:translateY(86px)}}body.single .wp-block-tds-ad-slot.ad-section--native-inline{background:none;min-height:100px}.wp-block-post.type-ad .wp-block-tds-ad-slot{height:100%}.ad-section--repeating-native-inline{background:none}

</style>
<style id="tenup-post-primary-term-style-inline-css">
.wp-block-tenup-post-primary-term,.wp-block-tenup-post-primary-term:focus,.wp-block-tenup-post-primary-term:hover{color:inherit;text-decoration:inherit}

</style>
<style id="wp-block-post-title-inline-css">
.wp-block-post-title{box-sizing:border-box;word-break:break-word}.wp-block-post-title :where(a){display:inline-block;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;text-decoration:inherit}
</style>
<style id="tds-post-sub-heading-style-inline-css">


</style>
<style id="wp-block-post-author-name-inline-css">
.wp-block-post-author-name{box-sizing:border-box}
</style>
<style id="wp-block-post-date-inline-css">
.wp-block-post-date{box-sizing:border-box}
</style>
<style id="tds-comment-count-style-inline-css">
.wp-block-tds-comment-count{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;gap:var(--wp--custom--spacing--4)}.wp-block-tds-comment-count__number{font-size:var(--wp--custom--font-size--14);margin:0;padding:0}.wp-block-tds-comment-count__icon{height:var(--wp--custom--spacing--14);width:var(--wp--custom--spacing--14)}.wp-block-tds-comment-count__link{align-items:center;display:flex;gap:6px;-webkit-text-decoration:none;text-decoration:none}

</style>
<style id="tds-member-only-icon-style-inline-css">
.wp-block-tds-member-only-icon{margin-top:-3px!important}

</style>
<style id="tds-share-style-inline-css">


</style>
<style id="wp-block-post-featured-image-inline-css">
.wp-block-post-featured-image{margin-left:0;margin-right:0}.wp-block-post-featured-image a{display:block;height:100%}.wp-block-post-featured-image :where(img){box-sizing:border-box;height:auto;max-width:100%;vertical-align:bottom;width:100%}.wp-block-post-featured-image.alignfull img,.wp-block-post-featured-image.alignwide img{width:100%}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim{background-color:#000;inset:0;position:absolute}.wp-block-post-featured-image{position:relative}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-gradient{background-color:initial}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-0{opacity:0}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-10{opacity:.1}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-20{opacity:.2}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-30{opacity:.3}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-40{opacity:.4}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-50{opacity:.5}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-60{opacity:.6}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-70{opacity:.7}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-80{opacity:.8}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-90{opacity:.9}.wp-block-post-featured-image .wp-block-post-featured-image__overlay.has-background-dim-100{opacity:1}.wp-block-post-featured-image:where(.alignleft,.alignright){width:100%}
</style>
<style id="ui-kit-theme-featured-image-styles-inline-css">
.wp-block-post-template.is-entire-card-clickable .wp-block-post:focus-within .wp-block-post-featured-image img,.wp-block-post-template.is-entire-card-clickable .wp-block-post:hover .wp-block-post-featured-image img,.wp-block-post.is-entire-card-clickable:focus-within .wp-block-post-featured-image img,.wp-block-post.is-entire-card-clickable:hover .wp-block-post-featured-image img{transform:scale3d(1.05,1.05,1)}.wp-block-post .wp-block-group,.wp-block-post-featured-image{overflow:clip}.wp-block-post-featured-image img{transition:transform .75s cubic-bezier(.215,.61,.355,1)}

</style>
<link rel="stylesheet" id="wp-block-image-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/style(3).min.css" media="all">
<style id="wp-block-paragraph-inline-css">
.is-small-text{font-size:.875em}.is-regular-text{font-size:1em}.is-large-text{font-size:2.25em}.is-larger-text{font-size:3em}.has-drop-cap:not(:focus):first-letter{float:left;font-size:8.4em;font-style:normal;font-weight:100;line-height:.68;margin:.05em .1em 0 0;text-transform:uppercase}body.rtl .has-drop-cap:not(:focus):first-letter{float:none;margin-left:.1em}p.has-drop-cap.has-background{overflow:hidden}:root :where(p.has-background){padding:1.25em 2.375em}:where(p.has-text-color:not(.has-link-color)) a{color:inherit}p.has-text-align-left[style*="writing-mode:vertical-lr"],p.has-text-align-right[style*="writing-mode:vertical-rl"]{rotate:180deg}
</style>
<style id="wp-block-list-inline-css">
ol,ul{box-sizing:border-box}:root :where(.wp-block-list.has-background){padding:1.25em 2.375em}
</style>
<style id="wp-block-heading-inline-css">
h1.has-background,h2.has-background,h3.has-background,h4.has-background,h5.has-background,h6.has-background{padding:1.25em 2.375em}h1.has-text-align-left[style*=writing-mode]:where([style*=vertical-lr]),h1.has-text-align-right[style*=writing-mode]:where([style*=vertical-rl]),h2.has-text-align-left[style*=writing-mode]:where([style*=vertical-lr]),h2.has-text-align-right[style*=writing-mode]:where([style*=vertical-rl]),h3.has-text-align-left[style*=writing-mode]:where([style*=vertical-lr]),h3.has-text-align-right[style*=writing-mode]:where([style*=vertical-rl]),h4.has-text-align-left[style*=writing-mode]:where([style*=vertical-lr]),h4.has-text-align-right[style*=writing-mode]:where([style*=vertical-rl]),h5.has-text-align-left[style*=writing-mode]:where([style*=vertical-lr]),h5.has-text-align-right[style*=writing-mode]:where([style*=vertical-rl]),h6.has-text-align-left[style*=writing-mode]:where([style*=vertical-lr]),h6.has-text-align-right[style*=writing-mode]:where([style*=vertical-rl]){rotate:180deg}
</style>
<link rel="stylesheet" id="prismatic-blocks-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/styles-blocks.css" media="all">
<style id="wp-block-post-content-inline-css">
.wp-block-post-content{display:flow-root}
</style>
<style id="wp-block-post-terms-inline-css">
.wp-block-post-terms{box-sizing:border-box}.wp-block-post-terms .wp-block-post-terms__separator{white-space:pre-wrap}
</style>
<link rel="stylesheet" id="outermost-social-sharing-style-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/style-index.css" media="all">
<style id="wp-block-spacer-inline-css">
.wp-block-spacer{clear:both}
</style>
<link rel="stylesheet" id="wp-block-comments-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/style(4).min.css" media="all">
<style id="wp-block-post-excerpt-inline-css">
:where(.wp-block-post-excerpt){box-sizing:border-box;margin-bottom:var(--wp--style--block-gap);margin-top:var(--wp--style--block-gap)}.wp-block-post-excerpt__excerpt{margin-bottom:0;margin-top:0}.wp-block-post-excerpt__more-text{margin-bottom:0;margin-top:var(--wp--style--block-gap)}.wp-block-post-excerpt__more-link{display:inline-block}
</style>
<style id="wp-block-post-template-inline-css">
.wp-block-post-template{list-style:none;margin-bottom:0;margin-top:0;max-width:100%;padding:0}.wp-block-post-template.is-flex-container{display:flex;flex-direction:row;flex-wrap:wrap;gap:1.25em}.wp-block-post-template.is-flex-container>li{margin:0;width:100%}@media (min-width:600px){.wp-block-post-template.is-flex-container.is-flex-container.columns-2>li{width:calc(50% - .625em)}.wp-block-post-template.is-flex-container.is-flex-container.columns-3>li{width:calc(33.33333% - .83333em)}.wp-block-post-template.is-flex-container.is-flex-container.columns-4>li{width:calc(25% - .9375em)}.wp-block-post-template.is-flex-container.is-flex-container.columns-5>li{width:calc(20% - 1em)}.wp-block-post-template.is-flex-container.is-flex-container.columns-6>li{width:calc(16.66667% - 1.04167em)}}@media (max-width:600px){.wp-block-post-template-is-layout-grid.wp-block-post-template-is-layout-grid.wp-block-post-template-is-layout-grid.wp-block-post-template-is-layout-grid{grid-template-columns:1fr}}.wp-block-post-template-is-layout-constrained>li>.alignright,.wp-block-post-template-is-layout-flow>li>.alignright{float:right;margin-inline-end:0;margin-inline-start:2em}.wp-block-post-template-is-layout-constrained>li>.alignleft,.wp-block-post-template-is-layout-flow>li>.alignleft{float:left;margin-inline-end:2em;margin-inline-start:0}.wp-block-post-template-is-layout-constrained>li>.aligncenter,.wp-block-post-template-is-layout-flow>li>.aligncenter{margin-inline-end:auto;margin-inline-start:auto}
</style>
<style id="tenup-copyright-style-inline-css">


</style>
<link rel="stylesheet" id="wp-block-navigation-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/style(5).min.css" media="all">
<style id="wp-block-columns-inline-css">
.wp-block-columns{align-items:normal!important;box-sizing:border-box;display:flex;flex-wrap:wrap!important}@media (min-width:782px){.wp-block-columns{flex-wrap:nowrap!important}}.wp-block-columns.are-vertically-aligned-top{align-items:flex-start}.wp-block-columns.are-vertically-aligned-center{align-items:center}.wp-block-columns.are-vertically-aligned-bottom{align-items:flex-end}@media (max-width:781px){.wp-block-columns:not(.is-not-stacked-on-mobile)>.wp-block-column{flex-basis:100%!important}}@media (min-width:782px){.wp-block-columns:not(.is-not-stacked-on-mobile)>.wp-block-column{flex-basis:0;flex-grow:1}.wp-block-columns:not(.is-not-stacked-on-mobile)>.wp-block-column[style*=flex-basis]{flex-grow:0}}.wp-block-columns.is-not-stacked-on-mobile{flex-wrap:nowrap!important}.wp-block-columns.is-not-stacked-on-mobile>.wp-block-column{flex-basis:0;flex-grow:1}.wp-block-columns.is-not-stacked-on-mobile>.wp-block-column[style*=flex-basis]{flex-grow:0}:where(.wp-block-columns){margin-bottom:1.75em}:where(.wp-block-columns.has-background){padding:1.25em 2.375em}.wp-block-column{flex-grow:1;min-width:0;overflow-wrap:break-word;word-break:break-word}.wp-block-column.is-vertically-aligned-top{align-self:flex-start}.wp-block-column.is-vertically-aligned-center{align-self:center}.wp-block-column.is-vertically-aligned-bottom{align-self:flex-end}.wp-block-column.is-vertically-aligned-stretch{align-self:stretch}.wp-block-column.is-vertically-aligned-bottom,.wp-block-column.is-vertically-aligned-center,.wp-block-column.is-vertically-aligned-top{width:100%}
</style>
<link rel="stylesheet" id="wp-block-library-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/common.min.css" media="all">
<style id="global-styles-inline-css">
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--tds-gray: var(--wp--custom--color--tds-gray);--wp--preset--color--blue-gray: var(--wp--custom--color--neutrals--blue-gray);--wp--preset--color--wild-blue-yonder: var(--wp--custom--color--wild-blue-yonder);--wp--preset--color--spindle: var(--wp--custom--color--spindle);--wp--preset--color--surface-primary: var(--wp--custom--color--surface--primary);--wp--preset--color--surface-secondary: var(--wp--custom--color--surface--secondary);--wp--preset--color--surface-tertiary: var(--wp--custom--color--surface--tertiary);--wp--preset--color--text-primary: var(--wp--custom--color--text--primary);--wp--preset--color--text-secondary: var(--wp--custom--color--text--secondary);--wp--preset--color--text-link: var(--wp--custom--color--text--link);--wp--preset--color--gray-300: var(--wp--custom--color--neutrals--gray-300);--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: clamp(14px, 0.875rem + ((1vw - 3.9px) * 0.566), 20px);--wp--preset--font-size--large: clamp(22.041px, 1.378rem + ((1vw - 3.9px) * 1.317), 36px);--wp--preset--font-size--x-large: clamp(25.014px, 1.563rem + ((1vw - 3.9px) * 1.602), 42px);--wp--preset--font-size--heading-1: var(--wp--custom--font--size--heading--1);--wp--preset--font-size--heading-2: var(--wp--custom--font--size--heading--2);--wp--preset--font-size--heading-3: var(--wp--custom--font--size--heading--3);--wp--preset--font-size--heading-4: var(--wp--custom--font--size--heading--4);--wp--preset--font-size--heading-5: var(--wp--custom--font--size--heading--5);--wp--preset--font-size--heading-6: var(--wp--custom--font--size--heading--6);--wp--preset--font-size--subtitle-1: var(--wp--custom--font--size--subHead--lg);--wp--preset--font-size--subtitle-2: var(--wp--custom--font--size--subHead--md);--wp--preset--font-size--subtitle-3: var(--wp--custom--font--size--subHead--sm);--wp--preset--font-size--body-1: var(--wp--custom--font--size--body--lg);--wp--preset--font-size--body-2: var(--wp--custom--font--size--body--md);--wp--preset--font-size--underline-1: var(--wp--custom--font--size--underline--sm);--wp--preset--font-size--underline-2: var(--wp--custom--font--size--underline--lg);--wp--preset--font-size--caption-1: var(--wp--custom--font--size--caption--md);--wp--preset--font-size--caption-2: var(--wp--custom--font--size--caption--sm);--wp--preset--font-size--eyebrow-1: var(--wp--custom--font--size--eyebrow--md);--wp--preset--font-size--eyebrow-2: var(--wp--custom--font--size--eyebrow--sm);--wp--preset--font-family--work-sans: "Work Sans", sans-serif;--wp--preset--font-family--source-serif-4: "Source Serif 4", serif;--wp--preset--spacing--20: var(--wp--custom--spacing--20);--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: var(--wp--custom--spacing--40);--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: var(--wp--custom--spacing--80);--wp--preset--spacing--2: var(--wp--custom--spacing--2);--wp--preset--spacing--4: var(--wp--custom--spacing--4);--wp--preset--spacing--8: var(--wp--custom--spacing--8);--wp--preset--spacing--10: var(--wp--custom--spacing--10);--wp--preset--spacing--12: var(--wp--custom--spacing--12);--wp--preset--spacing--16: var(--wp--custom--spacing--16);--wp--preset--spacing--24: var(--wp--custom--spacing--24);--wp--preset--spacing--32: var(--wp--custom--spacing--32);--wp--preset--spacing--48: var(--wp--custom--spacing--48);--wp--preset--spacing--64: var(--wp--custom--spacing--64);--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);--wp--preset--shadow--default: 0px 1px 4px 0px #0000000A;;--wp--custom--uikit--separator-height: 1;--wp--custom--color--border--brand: var(--wp--custom--color--brand--900);--wp--custom--color--border--disabled: var(--wp--custom--color--neutrals--500);--wp--custom--color--border--error: var(--wp--custom--color--feedback--error--900);--wp--custom--color--border--primary: var(--wp--custom--color--neutrals--300);--wp--custom--color--border--secondary: var(--wp--custom--color--neutrals--900);--wp--custom--color--border--success: var(--wp--custom--color--feedback--success--500);--wp--custom--color--border--tertiary: var(--wp--custom--color--neutrals--700);--wp--custom--color--brand--300: var(--wp--custom--color--primary--300);--wp--custom--color--brand--500: var(--wp--custom--color--primary--500);--wp--custom--color--brand--900: var(--wp--custom--color--primary--900);--wp--custom--color--neutrals--transparent: transparent;--wp--custom--color--neutrals--white: #FFFFFF;--wp--custom--color--neutrals--100: #F1F3F4;--wp--custom--color--neutrals--300: #D5D7D8;--wp--custom--color--neutrals--700: #5F6368;--wp--custom--color--neutrals--900: #141414;--wp--custom--color--neutrals--black: #000000;--wp--custom--color--neutrals--blue-gray: #5A7690;--wp--custom--color--neutrals--gray-100: #F7F7F7;--wp--custom--color--neutrals--gray-300: #F3F3F6;--wp--custom--color--neutrals--gray-700: #757575;--wp--custom--color--neutrals--gray-900: #2A2A2A;--wp--custom--color--primary--300: #F63456;--wp--custom--color--primary--500: #E12243;--wp--custom--color--primary--900: #B30826;--wp--custom--color--secondary--300: #ABFCF2;--wp--custom--color--secondary--900: #1FB4AF;--wp--custom--color--feedback--error-900: #E80A31;--wp--custom--color--feedback--error-500: #F51D43;--wp--custom--color--feedback--success-900: #00BA27;--wp--custom--color--feedback--success-500: #00AC30;--wp--custom--color--surface--brand: var(--wp--custom--color--tds-gray);--wp--custom--color--surface--brand-light: var(--wp--custom--color--brand--300);--wp--custom--color--surface--disabled: var(--wp--custom--color--neutrals--gray-100);--wp--custom--color--surface--inverted: var(--wp--custom--color--neutrals--gray-900);--wp--custom--color--surface--primary: var(--wp--custom--color--background--white);--wp--custom--color--surface--secondary: var(--wp--custom--color--neutrals--gray-100);--wp--custom--color--surface--tertiary: var(--wp--custom--color--neutrals--gray-300);--wp--custom--color--text--brand: var(--wp--custom--color--tds-gray);--wp--custom--color--text--disabled: var(--wp--custom--color--neutrals--gray-700);--wp--custom--color--text--inverted: var(--wp--custom--color--neutrals--white);--wp--custom--color--text--primary: var(--wp--custom--color--text--dark-blue);--wp--custom--color--text--secondary: var(--wp--custom--color--text--slate-gray);--wp--custom--color--text--blue-gray: var(--wp--custom--color--neutrals--blue-gray);--wp--custom--color--text--dark-blue: var(--wp--custom--color--neutrals--gray-900);--wp--custom--color--text--link: var(--wp--custom--color--text--blue-gray);--wp--custom--color--text--slate-gray: var(--wp--custom--color--neutrals--gray-700);--wp--custom--color--button--text--default: var(--wp--custom--color--button--primary--text--default);--wp--custom--color--button--text--hover: var(--wp--custom--color--button--primary--text--hover);--wp--custom--color--button--text--disabled: var(--wp--custom--color--button--primary--text--disabled);--wp--custom--color--button--text--focus: var(--wp--custom--color--button--primary--text--focus);--wp--custom--color--button--background--default: var(--wp--custom--color--button--primary--background--default);--wp--custom--color--button--background--hover: var(--wp--custom--color--button--primary--background--hover);--wp--custom--color--button--background--disabled: var(--wp--custom--color--button--primary--background--disabled);--wp--custom--color--button--background--focus: var(--wp--custom--color--button--primary--background--focus);--wp--custom--color--button--border--default: var(--wp--custom--color--button--primary--border--default);--wp--custom--color--button--border--hover: var(--wp--custom--color--button--primary--border--hover);--wp--custom--color--button--border--disabled: var(--wp--custom--color--button--primary--border--disabled);--wp--custom--color--button--icon--default: var(--wp--custom--color--button--primary--icon--default);--wp--custom--color--button--icon--hover: var(--wp--custom--color--button--primary--icon--hover);--wp--custom--color--button--icon--disabled: var(--wp--custom--color--button--primary--icon--disabled);--wp--custom--color--button--icon--focus: var(--wp--custom--color--button--primary--icon--focus);--wp--custom--color--button--primary--text--default: var(--wp--custom--color--spindle);--wp--custom--color--button--primary--text--hover: var(--wp--custom--color--text--brand);--wp--custom--color--button--primary--text--disabled: var(--wp--custom--color--background--white);--wp--custom--color--button--primary--text--focus: var(--wp--custom--color--spindle);--wp--custom--color--button--primary--background--default: var(--wp--custom--color--surface--brand);--wp--custom--color--button--primary--background--hover: var(--wp--custom--color--surface--primary);--wp--custom--color--button--primary--background--disabled: var(--wp--custom--color--text--disabled);--wp--custom--color--button--primary--background--focus: var(--wp--custom--color--tds-gray);--wp--custom--color--button--primary--border--default: var(--wp--custom--color--spindle);--wp--custom--color--button--primary--border--hover: var(--wp--custom--color--surface--brand);--wp--custom--color--button--primary--border--disabled: transparent;--wp--custom--color--button--primary--icon--default: var(--wp--custom--color--button--text--default);--wp--custom--color--button--primary--icon--hover: var(--wp--custom--color--button--text--hover);--wp--custom--color--button--primary--icon--disabled: var(--wp--custom--color--background--white);--wp--custom--color--button--primary--icon--focus: var(--wp--custom--color--spindle);--wp--custom--color--button--secondary--text--default: var(--wp--custom--color--text--brand);--wp--custom--color--button--secondary--text--hover: var(--wp--custom--color--spindle);--wp--custom--color--button--secondary--text--disabled: var(--wp--custom--color--text--disabled);--wp--custom--color--button--secondary--text--focus: var(--wp--custom--color--surface--inverted);--wp--custom--color--button--secondary--background--default: var(--wp--custom--color--surface--primary);--wp--custom--color--button--secondary--background--hover: var(--wp--custom--color--surface--inverted);--wp--custom--color--button--secondary--background--disabled: var(--wp--custom--color--surface--disabled);--wp--custom--color--button--secondary--background--focus: transparent;--wp--custom--color--button--secondary--border--default: var(--wp--custom--color--surface--brand);--wp--custom--color--button--secondary--border--hover: var(--wp--custom--color--surface--inverted);--wp--custom--color--button--secondary--border--disabled: var(--wp--custom--color--text--disabled);--wp--custom--color--button--secondary--icon--default: var(--wp--custom--color--button--text--default);--wp--custom--color--button--secondary--icon--hover: var(--wp--custom--color--button--text--hover);--wp--custom--color--button--secondary--icon--disabled: var(--wp--custom--color--text--disabled);--wp--custom--color--button--secondary--icon--focus: var(--wp--custom--color--surface--inverted);--wp--custom--color--button--link--background--default: transparent;--wp--custom--color--button--link--background--disabled: transparent;--wp--custom--color--button--link--background--hover: transparent;--wp--custom--color--button--link--border--default: transparent;--wp--custom--color--button--link--border--disabled: transparent;--wp--custom--color--button--link--border--hover: transparent;--wp--custom--color--button--link--icon--default: var(--wp--custom--color--button--text--default);--wp--custom--color--button--link--icon--disabled: var(--wp--custom--color--button--text--disabled);--wp--custom--color--button--link--icon--hover: var(--wp--custom--color--button--text--hover);--wp--custom--color--button--link--text--default: var(--wp--custom--color--text--default);--wp--custom--color--button--link--text--disabled: var(--wp--custom--color--text--disabled);--wp--custom--color--button--link--text--hover: var(--wp--custom--color--text--default);--wp--custom--color--button--small--background--default: var(--wp--custom--color--spindle);--wp--custom--color--button--small--background--disabled: var(--wp--custom--color--surface--disabled);--wp--custom--color--button--small--background--hover: var(--wp--custom--color--surface--brand);--wp--custom--color--button--small--background--focus: var(--wp--custom--color--spindle);--wp--custom--color--button--small--border--default: var(--wp--custom--color--surface--brand);--wp--custom--color--button--small--border--disabled: var(--wp--custom--color--text--disabled);--wp--custom--color--button--small--border--hover: var(--wp--custom--color--spindle);--wp--custom--color--button--small--border--focus: var(--wp--custom--color--text--brand);--wp--custom--color--button--small--text--default: var(--wp--custom--color--text--brand);--wp--custom--color--button--small--text--disabled: var(--wp--custom--color--text--disabled);--wp--custom--color--button--small--text--hover: var(--wp--custom--color--spindle);--wp--custom--color--button--small--text--focus: var(--wp--custom--color--text--brand);--wp--custom--color--alert--green: #00C129;--wp--custom--color--alert--red: #DD1212;--wp--custom--color--background--blue-gray: #F3F3F6;--wp--custom--color--background--light-gray: #F7F7F7;--wp--custom--color--background--white: #FFFFFF;--wp--custom--color--spindle: #C0D7F0;--wp--custom--color--tds-gray: #355876;--wp--custom--color--wild-blue-yonder: #6F8EB1;--wp--custom--font--line-height--120: 1.2;--wp--custom--font--line-height--140: 1.4;--wp--custom--font--line-height--150: 1.5;--wp--custom--font--line-height--125: 1.25;--wp--custom--font--line-height--130: 1.3;--wp--custom--font--line-height--160: 1.6;--wp--custom--font--size--body--lg: var(--wp--custom--font--size--24);--wp--custom--font--size--body--md: var(--wp--custom--font--size--20);--wp--custom--font--size--body--sm: var(--wp--custom--font--size--16);--wp--custom--font--size--button--lg: var(--wp--custom--font--size--16);--wp--custom--font--size--button--sm: var(--wp--custom--font--size--14);--wp--custom--font--size--display--lg--fluid: true;--wp--custom--font--size--display--lg--max: 5.625rem;--wp--custom--font--size--display--lg--min: 3.625rem;--wp--custom--font--size--display--md--fluid: true;--wp--custom--font--size--display--md--max: 4.1875rem;--wp--custom--font--size--display--md--min: 3.375rem;--wp--custom--font--size--eyebrow--lg: 0.75rem;--wp--custom--font--size--eyebrow--sm: var(--wp--custom--font--size--12);--wp--custom--font--size--eyebrow--md: var(--wp--custom--font--size--14);--wp--custom--font--size--heading--1--fluid: true;--wp--custom--font--size--heading--1--max: var(--wp--custom--font--size--64);--wp--custom--font--size--heading--1--min: var(--wp--custom--font--size--48);--wp--custom--font--size--heading--2--fluid: true;--wp--custom--font--size--heading--2--max: var(--wp--custom--font--size--52);--wp--custom--font--size--heading--2--min: var(--wp--custom--font--size--40);--wp--custom--font--size--heading--3--fluid: true;--wp--custom--font--size--heading--3--max: var(--wp--custom--font--size--44);--wp--custom--font--size--heading--3--min: var(--wp--custom--font--size--32);--wp--custom--font--size--heading--4--fluid: true;--wp--custom--font--size--heading--4--max: var(--wp--custom--font--size--40);--wp--custom--font--size--heading--4--min: var(--wp--custom--font--size--30);--wp--custom--font--size--heading--5--fluid: true;--wp--custom--font--size--heading--5--max: var(--wp--custom--font--size--32);--wp--custom--font--size--heading--5--min: var(--wp--custom--font--size--24);--wp--custom--font--size--heading--6--fluid: true;--wp--custom--font--size--heading--6--max: var(--wp--custom--font--size--24);--wp--custom--font--size--heading--6--min: var(--wp--custom--font--size--18);--wp--custom--font--size--sub-head--lg: var(--wp--custom--font--size--20);--wp--custom--font--size--sub-head--md: var(--wp--custom--font--size--16);--wp--custom--font--size--sub-head--sm: var(--wp--custom--font--size--14);--wp--custom--font--size--caption--md: var(--wp--custom--font--size--14);--wp--custom--font--size--caption--sm: var(--wp--custom--font--size--12);--wp--custom--font--size--code: var(--wp--custom--font--size--14);--wp--custom--font--size--underline--lg: var(--wp--custom--font--size--20);--wp--custom--font--size--underline--sm: var(--wp--custom--font--size--16);--wp--custom--font--size--10: 0.625rem;--wp--custom--font--size--12: 0.75rem;--wp--custom--font--size--14: 0.875rem;--wp--custom--font--size--16: 1rem;--wp--custom--font--size--18: 1.125rem;--wp--custom--font--size--20: 1.25rem;--wp--custom--font--size--24: 1.5rem;--wp--custom--font--size--30: 1.875rem;--wp--custom--font--size--32: 2rem;--wp--custom--font--size--40: 2.5rem;--wp--custom--font--size--44: 2.75rem;--wp--custom--font--size--48: 3rem;--wp--custom--font--size--52: 3.25rem;--wp--custom--font--size--64: 4rem;--wp--custom--full-viewport-width: calc(100vw - var(--wp--custom--scrollbar-width, 0px));--wp--custom--main-content-width-side-spacing: calc((var(--wp--custom--full-viewport-width) - var(--wp--style--global--content-size)) / 2);--wp--custom--main-wide-width-side-spacing: calc((var(--wp--custom--full-viewport-width) - var(--wp--style--global--wide-size)) / 2);--wp--custom--scrollbar-width: 0px;--wp--custom--search-block-height: var(--wp--preset--spacing--fluid-medium-large, 3rem);--wp--custom--search-block-icon-only-button-width: var(--wp--preset--spacing--fluid-medium-large, 3rem);--wp--custom--search-block-padding-inline: var(--wp--preset--spacing--base, 1rem);--wp--custom--site-content-width: calc(var(--wp--custom--full-viewport-width) - (2 * var(--wp--custom--site-outer-padding)));--wp--custom--site-outer-padding: max(var(--wp--preset--spacing--base, 1rem), env(safe-area-inset-left));--wp--custom--spacing--0: 0;--wp--custom--spacing--xxxs: 2px;--wp--custom--spacing--xxs: 4px;--wp--custom--spacing--xs: 8px;--wp--custom--spacing--s: 12px;--wp--custom--spacing--base: 16px;--wp--custom--spacing--md: 24px;--wp--custom--spacing--lg: 40px;--wp--custom--spacing--xl: 64px;--wp--custom--spacing--xxl: 80px;--wp--custom--spacing--xxxl: 128px;--wp--custom--spacing--2: 2px;--wp--custom--spacing--4: 4px;--wp--custom--spacing--8: 8px;--wp--custom--spacing--10: 10px;--wp--custom--spacing--12: 12px;--wp--custom--spacing--14: 14px;--wp--custom--spacing--16: 16px;--wp--custom--spacing--20: 20px;--wp--custom--spacing--24: 24px;--wp--custom--spacing--32: 32px;--wp--custom--spacing--40: 40px;--wp--custom--spacing--48: 48px;--wp--custom--spacing--56: 56px;--wp--custom--spacing--64: 64px;--wp--custom--spacing--72: 72px;--wp--custom--spacing--80: 80px;--wp--custom--spacing--96: 96px;--wp--custom--spacing--112: 112px;--wp--custom--spacing--120: 120px;--wp--custom--spacing--128: 128px;--wp--custom--spacing--144: 144px;--wp--custom--spacing--160: 160px;}.wp-block-tenup-accordion-header{--wp--custom--tenup--icon-position: right;--wp--custom--tenup--icon--icon-set: uikit;--wp--custom--tenup--icon--icon-name: chevron-down;--wp--custom--tenup--expanded--icon--icon-set: uikit;--wp--custom--tenup--expanded--icon--icon-name: chevron-up;}:root { --wp--style--global--content-size: min(680px, var(--wp--custom--site-content-width));--wp--style--global--wide-size: min(1032px, var(--wp--custom--site-content-width)); }:where(body) { margin: 0; }.wp-site-blocks { padding-top: var(--wp--style--root--padding-top); padding-bottom: var(--wp--style--root--padding-bottom); }.has-global-padding { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }.has-global-padding > .alignfull { margin-right: calc(var(--wp--style--root--padding-right) * -1); margin-left: calc(var(--wp--style--root--padding-left) * -1); }.has-global-padding :where(:not(.alignfull.is-layout-flow) > .has-global-padding:not(.wp-block-block, .alignfull)) { padding-right: 0; padding-left: 0; }.has-global-padding :where(:not(.alignfull.is-layout-flow) > .has-global-padding:not(.wp-block-block, .alignfull)) > .alignfull { margin-left: 0; margin-right: 0; }.wp-site-blocks > .alignleft { float: left; margin-right: 2em; }.wp-site-blocks > .alignright { float: right; margin-left: 2em; }.wp-site-blocks > .aligncenter { justify-content: center; margin-left: auto; margin-right: auto; }:where(.wp-site-blocks) > * { margin-block-start: var(--wp--preset--spacing--md); margin-block-end: 0; }:where(.wp-site-blocks) > :first-child { margin-block-start: 0; }:where(.wp-site-blocks) > :last-child { margin-block-end: 0; }:root { --wp--style--block-gap: var(--wp--preset--spacing--md); }:root :where(.is-layout-flow) > :first-child{margin-block-start: 0;}:root :where(.is-layout-flow) > :last-child{margin-block-end: 0;}:root :where(.is-layout-flow) > *{margin-block-start: var(--wp--preset--spacing--md);margin-block-end: 0;}:root :where(.is-layout-constrained) > :first-child{margin-block-start: 0;}:root :where(.is-layout-constrained) > :last-child{margin-block-end: 0;}:root :where(.is-layout-constrained) > *{margin-block-start: var(--wp--preset--spacing--md);margin-block-end: 0;}:root :where(.is-layout-flex){gap: var(--wp--preset--spacing--md);}:root :where(.is-layout-grid){gap: var(--wp--preset--spacing--md);}.is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}.is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}.is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}.is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}.is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}.is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}.is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}.is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}body{background-color: var(--wp--preset--color--surface-primary);color: var(--wp--preset--color--text-primary);font-family: "Work Sans", sans-serif;font-size: var(--wp--preset--font-size--body);line-height: 1.5;--wp--style--root--padding-top: 0;--wp--style--root--padding-right: var(--wp--custom--site-outer-padding);--wp--style--root--padding-bottom: 0;--wp--style--root--padding-left: var(--wp--custom--site-outer-padding);}a:where(:not(.wp-element-button)){color: inherit;text-decoration: underline;}:root :where(a:where(:not(.wp-element-button)):hover){color: var(--wp--preset--color--brand);}h1, h2, h3, h4, h5, h6{color: var(--wp--preset--color--text-primary);}h1{font-size: var(--wp--preset--font-size--heading-4);line-height: var(--wp--custom--font--line-height--120);}h2{color: var(--wp--custom--color--text--primary);font-size: var(--wp--preset--font-size--heading-5);line-height: var(--wp--custom--font--line-height--120);}h3{color: var(--wp--custom--color--neutrals--black);font-size: var(--wp--preset--font-size--heading-6);}h4{font-size: var(--wp--preset--font-size--subtitle-1);}h5{font-size: var(--wp--preset--font-size--subtitle-2);}h6{font-size: var(--wp--preset--font-size--subtitle-3);}:root :where(.wp-element-button, .wp-block-button__link){background-color: #32373c;border-radius: 9999px;border-width: 1px;color: #fff;font-family: inherit;font-size: var(--wp--preset--font-size--body);line-height: inherit;padding-top: var(--wp--custom--spacing--10);padding-right: var(--wp--custom--spacing--32);padding-bottom: var(--wp--custom--spacing--10);padding-left: var(--wp--custom--spacing--16);text-decoration: none;}:root :where(.wp-element-caption, .wp-block-audio figcaption, .wp-block-embed figcaption, .wp-block-gallery figcaption, .wp-block-image figcaption, .wp-block-table figcaption, .wp-block-video figcaption){color: var(--wp--custom--color--neutrals--gray-900);text-align: center;font-size: var(--wp--custom--font--size--12);line-height: var(--wp--custom--font--line-height--130);padding-top: var(--wp--custom--spacing--8);padding-bottom: var(--wp--custom--spacing--8);}cite{color: var(--wp--custom--color--tds-gray);text-align: left;font-size: var(--wp--custom--font--size--20);font-style: normal;font-weight: 400;line-height: var(--wp--custom--font--line-height--120);text-transform: uppercase;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-tds-gray-color{color: var(--wp--preset--color--tds-gray) !important;}.has-blue-gray-color{color: var(--wp--preset--color--blue-gray) !important;}.has-wild-blue-yonder-color{color: var(--wp--preset--color--wild-blue-yonder) !important;}.has-spindle-color{color: var(--wp--preset--color--spindle) !important;}.has-surface-primary-color{color: var(--wp--preset--color--surface-primary) !important;}.has-surface-secondary-color{color: var(--wp--preset--color--surface-secondary) !important;}.has-surface-tertiary-color{color: var(--wp--preset--color--surface-tertiary) !important;}.has-text-primary-color{color: var(--wp--preset--color--text-primary) !important;}.has-text-secondary-color{color: var(--wp--preset--color--text-secondary) !important;}.has-text-link-color{color: var(--wp--preset--color--text-link) !important;}.has-gray-300-color{color: var(--wp--preset--color--gray-300) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-tds-gray-background-color{background-color: var(--wp--preset--color--tds-gray) !important;}.has-blue-gray-background-color{background-color: var(--wp--preset--color--blue-gray) !important;}.has-wild-blue-yonder-background-color{background-color: var(--wp--preset--color--wild-blue-yonder) !important;}.has-spindle-background-color{background-color: var(--wp--preset--color--spindle) !important;}.has-surface-primary-background-color{background-color: var(--wp--preset--color--surface-primary) !important;}.has-surface-secondary-background-color{background-color: var(--wp--preset--color--surface-secondary) !important;}.has-surface-tertiary-background-color{background-color: var(--wp--preset--color--surface-tertiary) !important;}.has-text-primary-background-color{background-color: var(--wp--preset--color--text-primary) !important;}.has-text-secondary-background-color{background-color: var(--wp--preset--color--text-secondary) !important;}.has-text-link-background-color{background-color: var(--wp--preset--color--text-link) !important;}.has-gray-300-background-color{background-color: var(--wp--preset--color--gray-300) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-tds-gray-border-color{border-color: var(--wp--preset--color--tds-gray) !important;}.has-blue-gray-border-color{border-color: var(--wp--preset--color--blue-gray) !important;}.has-wild-blue-yonder-border-color{border-color: var(--wp--preset--color--wild-blue-yonder) !important;}.has-spindle-border-color{border-color: var(--wp--preset--color--spindle) !important;}.has-surface-primary-border-color{border-color: var(--wp--preset--color--surface-primary) !important;}.has-surface-secondary-border-color{border-color: var(--wp--preset--color--surface-secondary) !important;}.has-surface-tertiary-border-color{border-color: var(--wp--preset--color--surface-tertiary) !important;}.has-text-primary-border-color{border-color: var(--wp--preset--color--text-primary) !important;}.has-text-secondary-border-color{border-color: var(--wp--preset--color--text-secondary) !important;}.has-text-link-border-color{border-color: var(--wp--preset--color--text-link) !important;}.has-gray-300-border-color{border-color: var(--wp--preset--color--gray-300) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}.has-heading-1-font-size{font-size: var(--wp--preset--font-size--heading-1) !important;}.has-heading-2-font-size{font-size: var(--wp--preset--font-size--heading-2) !important;}.has-heading-3-font-size{font-size: var(--wp--preset--font-size--heading-3) !important;}.has-heading-4-font-size{font-size: var(--wp--preset--font-size--heading-4) !important;}.has-heading-5-font-size{font-size: var(--wp--preset--font-size--heading-5) !important;}.has-heading-6-font-size{font-size: var(--wp--preset--font-size--heading-6) !important;}.has-subtitle-1-font-size{font-size: var(--wp--preset--font-size--subtitle-1) !important;}.has-subtitle-2-font-size{font-size: var(--wp--preset--font-size--subtitle-2) !important;}.has-subtitle-3-font-size{font-size: var(--wp--preset--font-size--subtitle-3) !important;}.has-body-1-font-size{font-size: var(--wp--preset--font-size--body-1) !important;}.has-body-2-font-size{font-size: var(--wp--preset--font-size--body-2) !important;}.has-underline-1-font-size{font-size: var(--wp--preset--font-size--underline-1) !important;}.has-underline-2-font-size{font-size: var(--wp--preset--font-size--underline-2) !important;}.has-caption-1-font-size{font-size: var(--wp--preset--font-size--caption-1) !important;}.has-caption-2-font-size{font-size: var(--wp--preset--font-size--caption-2) !important;}.has-eyebrow-1-font-size{font-size: var(--wp--preset--font-size--eyebrow-1) !important;}.has-eyebrow-2-font-size{font-size: var(--wp--preset--font-size--eyebrow-2) !important;}.has-work-sans-font-family{font-family: var(--wp--preset--font-family--work-sans) !important;}.has-source-serif-4-font-family{font-family: var(--wp--preset--font-family--source-serif-4) !important;}
:root :where(.wp-block-post-template-is-layout-flow) > :first-child{margin-block-start: 0;}:root :where(.wp-block-post-template-is-layout-flow) > :last-child{margin-block-end: 0;}:root :where(.wp-block-post-template-is-layout-flow) > *{margin-block-start: 64px 24px;margin-block-end: 0;}:root :where(.wp-block-post-template-is-layout-constrained) > :first-child{margin-block-start: 0;}:root :where(.wp-block-post-template-is-layout-constrained) > :last-child{margin-block-end: 0;}:root :where(.wp-block-post-template-is-layout-constrained) > *{margin-block-start: 64px 24px;margin-block-end: 0;}:root :where(.wp-block-post-template-is-layout-flex){gap: 64px 24px;}:root :where(.wp-block-post-template-is-layout-grid){gap: 64px 24px;}
:root :where(.wp-block-tenup-accordion){background-color: var(--wp--preset--color--surface-primary);border-radius: 8px;border-color: var(--wp--custom--color--neutrals--300);border-width: 1px;border-style: solid;color: var(--wp--preset--color--surface-inverted);font-size: var(--wp--preset--font-size--body);}
:root :where(.wp-block-tenup-accordion-header){font-weight: 700;padding-top: var(--wp--preset--spacing--xs);padding-right: var(--wp--preset--spacing--s);padding-bottom: var(--wp--preset--spacing--xs);padding-left: var(--wp--preset--spacing--s);}
:root :where(.wp-block-tenup-accordion-content){margin-top: 0;margin-right: var(--wp--preset--spacing--s);margin-bottom: 0;margin-left: var(--wp--preset--spacing--s);padding-top: 0;padding-bottom: var(--wp--preset--spacing--xs);}
:root :where(.wp-block-navigation-link a:where(:not(.wp-element-button)):hover){text-decoration: underline;}
:root :where(.wp-block-navigation-link a:where(:not(.wp-element-button)):focus){text-decoration: underline;}
:root :where(.wp-block-post-title a:where(:not(.wp-element-button))){text-decoration: inherit;}
:root :where(.wp-block-post-title a:where(:not(.wp-element-button)):hover){color: var(--wp--preset--color--brand);}
:root :where(.wp-block-post-title a:where(:not(.wp-element-button)):focus){color: var(--wp--preset--color--brand);}
:root :where(.wp-block-tds-search-title){color: var(--wp--custom--color--text--secondary);}
:root :where(.wp-block-buttons-is-layout-flow) > :first-child{margin-block-start: 0;}:root :where(.wp-block-buttons-is-layout-flow) > :last-child{margin-block-end: 0;}:root :where(.wp-block-buttons-is-layout-flow) > *{margin-block-start: var(--wp--custom--spacing--8);margin-block-end: 0;}:root :where(.wp-block-buttons-is-layout-constrained) > :first-child{margin-block-start: 0;}:root :where(.wp-block-buttons-is-layout-constrained) > :last-child{margin-block-end: 0;}:root :where(.wp-block-buttons-is-layout-constrained) > *{margin-block-start: var(--wp--custom--spacing--8);margin-block-end: 0;}:root :where(.wp-block-buttons-is-layout-flex){gap: var(--wp--custom--spacing--8);}:root :where(.wp-block-buttons-is-layout-grid){gap: var(--wp--custom--spacing--8);}
:root :where(.wp-block-post-content){color: var(--wp--custom--color--text--primary);font-size: var(--wp--custom--font--size--20);line-height: var(--wp--custom--font--line-height--160);}
:root :where(.wp-block-separator){background-color: var(--wp--custom--color--neutrals--gray-300);color: var(--wp--custom--color--neutrals--gray-300);}
:root :where(.wp-block-social-links){color: var(--wp--custom--color--tds-gray);}:root :where(.wp-block-social-links-is-layout-flow) > :first-child{margin-block-start: 0;}:root :where(.wp-block-social-links-is-layout-flow) > :last-child{margin-block-end: 0;}:root :where(.wp-block-social-links-is-layout-flow) > *{margin-block-start: var(--wp--custom--spacing--16);margin-block-end: 0;}:root :where(.wp-block-social-links-is-layout-constrained) > :first-child{margin-block-start: 0;}:root :where(.wp-block-social-links-is-layout-constrained) > :last-child{margin-block-end: 0;}:root :where(.wp-block-social-links-is-layout-constrained) > *{margin-block-start: var(--wp--custom--spacing--16);margin-block-end: 0;}:root :where(.wp-block-social-links-is-layout-flex){gap: var(--wp--custom--spacing--16);}:root :where(.wp-block-social-links-is-layout-grid){gap: var(--wp--custom--spacing--16);}
:root :where(.wp-block-post-excerpt){font-size: var(--wp--custom--font--size--16);font-weight: 400;line-height: var(--wp--custom--font--line-height--125);}
</style>
<style id="block-style-variation-styles-inline-css">
:root :where(.wp-block-group.is-style-section-brand--1){background-color: var(--wp--custom--color--surface--brand);color: var(--wp--custom--color--text--inverted);}
:root :where(.wp-block-button.is-style-button-link--2 .wp-block-button__link){background-color: transparent;}
:root :where(.wp-block-button.is-style-button-link--3 .wp-block-button__link){background-color: transparent;}
:root :where(.wp-block-button.is-style-button-secondary--4 .wp-block-button__link){background-color: var(--wp--custom--color--button--background--default);padding-right: var(--wp--custom--spacing--32);padding-left: var(--wp--custom--spacing--32);}
:root :where(.wp-block-group.is-style-section-brand--7){background-color: var(--wp--custom--color--surface--brand);color: var(--wp--custom--color--text--inverted);}
</style>
<style id="wp-emoji-styles-inline-css">

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<style id="tenup-ui-kit-custom-section-style-variables-inline-css">
:is(.wp-block-button).is-style-button-link{--wp--custom--color--button--text--default:var(--wp--custom--color--button--link--text--default);--wp--custom--color--button--text--hover:var(--wp--custom--color--button--link--text--hover);--wp--custom--color--button--text--disabled:var(--wp--custom--color--button--link--text--disabled);--wp--custom--color--button--background--default:transparent;--wp--custom--color--button--background--hover:transparent;--wp--custom--color--button--background--disabled:transparent;--wp--custom--color--button--border--default:transparent;--wp--custom--color--button--border--hover:transparent;--wp--custom--color--button--border--disabled:transparent;--wp--custom--color--button--icon--default:var(--wp--custom--color--button--link--icon--default);--wp--custom--color--button--icon--hover:var(--wp--custom--color--button--link--icon--hover);--wp--custom--color--button--icon--disabled:var(--wp--custom--color--button--link--icon--disabled);}:is(.wp-block-button).is-style-button-secondary{--wp--custom--color--button--text--default:var(--wp--custom--color--button--secondary--text--default);--wp--custom--color--button--text--hover:var(--wp--custom--color--button--secondary--text--hover);--wp--custom--color--button--text--disabled:var(--wp--custom--color--button--secondary--text--disabled);--wp--custom--color--button--background--default:var(--wp--custom--color--button--secondary--background--default);--wp--custom--color--button--background--hover:var(--wp--custom--color--button--secondary--background--hover);--wp--custom--color--button--background--focus:var(--wp--custom--color--button--secondary--background--focus);--wp--custom--color--button--background--disabled:var(--wp--custom--color--button--secondary--background--disabled);--wp--custom--color--button--border--default:var(--wp--custom--color--button--secondary--border--default);--wp--custom--color--button--border--hover:var(--wp--custom--color--button--secondary--border--hover);--wp--custom--color--button--border--disabled:var(--wp--custom--color--button--secondary--border--disabled);--wp--custom--color--button--icon--default:var(--wp--custom--color--button--secondary--icon--default);--wp--custom--color--button--icon--hover:var(--wp--custom--color--button--secondary--icon--hover);--wp--custom--color--button--icon--disabled:var(--wp--custom--color--button--secondary--icon--disabled);}:is(.wp-block-button).is-style-button-small{--wp--custom--color--button--text--default:var(--wp--custom--color--button--small--text--default);--wp--custom--color--button--text--hover:var(--wp--custom--color--button--small--text--hover);--wp--custom--color--button--text--disabled:var(--wp--custom--color--button--small--text--disabled);--wp--custom--color--button--background--default:var(--wp--custom--color--button--small--background--default);--wp--custom--color--button--background--hover:var(--wp--custom--color--button--small--background--hover);--wp--custom--color--button--background--disabled:var(--wp--custom--color--button--small--background--disabled);--wp--custom--color--button--border--default:var(--wp--custom--color--button--small--border--default);--wp--custom--color--button--border--hover:var(--wp--custom--color--button--small--border--hover);--wp--custom--color--button--border--disabled:var(--wp--custom--color--button--small--border--disabled);--wp--custom--color--button--icon--default:var(--wp--custom--color--button--small--icon--default);--wp--custom--color--button--icon--hover:var(--wp--custom--color--button--small--icon--hover);--wp--custom--color--button--icon--disabled:var(--wp--custom--color--button--small--icon--disabled);}:is(.wp-block-group).is-style-section-brand{--wp--custom--color--text--link:var(--wp--custom--color--text--inverted);--wp--custom--color--button--text--default:var(--wp--custom--color--text--brand);--wp--custom--color--button--text--hover:var(--wp--custom--color--spindle);--wp--custom--color--button--background--default:var(--wp--custom--color--surface--primary);--wp--custom--color--button--background--hover:var(--wp--custom--color--surface--brand);--wp--custom--color--button--border--default:var(--wp--custom--color--spindle);--wp--custom--color--button--border--hover:var(--wp--custom--color--spindle);--wp--custom--color--button--icon--hover:var(--wp--custom--color--spindle);--wp--custom--color--button--secondary--text--default:var(--wp--custom--color--spindle);--wp--custom--color--button--secondary--text--hover:var(--wp--custom--color--text--brand);--wp--custom--color--button--secondary--text--focus:var(--wp--custom--color--text--brand);--wp--custom--color--button--secondary--background--default:var(--wp--custom--color--surface--brand);--wp--custom--color--button--secondary--background--hover:var(--wp--custom--color--surface--primary);--wp--custom--color--button--secondary--background--focus:var(--wp--custom--color--surface--primary);--wp--custom--color--button--secondary--border--default:var(--wp--custom--color--spindle);--wp--custom--color--button--secondary--border--hover:var(--wp--custom--color--surface--primary);--wp--custom--color--button--secondary--border--focus:var(--wp--custom--color--surface--primary);--wp--custom--color--button--small--text--focus:var(--wp--custom--color--spindle);--wp--custom--color--button--small--background--focus:var(--wp--custom--color--surface--brand);--wp--custom--color--button--link--text--default:var(--wp--custom--color--spindle);--wp--custom--color--button--link--text--hover:var(--wp--custom--color--text--inverted);--wp--custom--color--button--link--text--focus:var(--wp--custom--color--spindle);--wp--custom--color--button--link--border--focus:var(--wp--custom--color--spindle);}
</style>
<style id="tenup-ui-kit-custom-fluid-font-sizes-inline-css">
:root{--wp--custom--font--size--display--lg:clamp(3.625rem, 3.625rem + ((1vw - 0.244rem) * 3.019), 5.625rem);--wp--custom--font--size--display--md:clamp(3.375rem, 3.375rem + ((1vw - 0.244rem) * 1.227), 4.1875rem);--wp--custom--font--size--heading--1:clamp(3rem, 3rem + ((1vw - 0.244rem) * 1.509), 4rem);--wp--custom--font--size--heading--2:clamp(2.5rem, 2.5rem + ((1vw - 0.244rem) * 1.132), 3.25rem);--wp--custom--font--size--heading--3:clamp(2rem, 2rem + ((1vw - 0.244rem) * 1.132), 2.75rem);--wp--custom--font--size--heading--4:clamp(1.875rem, 1.875rem + ((1vw - 0.244rem) * 0.943), 2.5rem);--wp--custom--font--size--heading--5:clamp(1.5rem, 1.5rem + ((1vw - 0.244rem) * 0.755), 2rem);--wp--custom--font--size--heading--6:clamp(1.125rem, 1.125rem + ((1vw - 0.244rem) * 0.566), 1.5rem);}
</style>
<style id="core-block-supports-inline-css">
.wp-elements-8e4b23c29f02df13fa8f7ecfc078e179 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--surface-brand-light);}.wp-container-core-group-is-layout-1{gap:var(--wp--preset--spacing--8);flex-direction:column;align-items:flex-start;}.wp-container-core-buttons-is-layout-1{gap:var(--wp--preset--spacing--24) var(--wp--preset--spacing--24);}.wp-container-core-group-is-layout-2{flex-wrap:nowrap;justify-content:space-between;}.wp-container-tenup-navigation-is-layout-1{gap:var(--wp--preset--spacing--16) var(--wp--preset--spacing--24);}.wp-container-core-social-links-is-layout-1{flex-wrap:nowrap;gap:0.5em var(--wp--preset--spacing--16);}.wp-container-core-group-is-layout-3{flex-wrap:nowrap;}.wp-container-core-group-is-layout-4{flex-wrap:nowrap;justify-content:space-between;}.wp-container-core-group-is-layout-5 > *{margin-block-start:0;margin-block-end:0;}.wp-container-core-group-is-layout-5 > * + *{margin-block-start:var(--wp--preset--spacing--32);margin-block-end:0;}.wp-elements-806543f678f7226b7a84507ff2b40769 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-secondary);}.wp-elements-9b2ad2dd7327f7f9edd7e31363df7ec6 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-secondary);}.wp-elements-ae8718f4d12f383075d1049181331d0f a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-primary);}.wp-elements-cb326d70ba567e67e913c5a867d4bc75 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-secondary);}.wp-elements-be697443e49d2f37d650dbe8f98af4d2 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-secondary);}.wp-elements-717bb1e0e8956d465f5b94f3ba248dbf a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-secondary);}.wp-container-core-group-is-layout-7{flex-wrap:nowrap;gap:var(--wp--preset--spacing--8);}.wp-container-core-group-is-layout-8{gap:var(--wp--preset--spacing--4);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-9{flex-wrap:nowrap;gap:var(--wp--preset--spacing--10);justify-content:flex-start;}.wp-container-core-group-is-layout-10{gap:var(--wp--preset--spacing--10);justify-content:space-between;}.wp-container-core-group-is-layout-11 > *{margin-block-start:0;margin-block-end:0;}.wp-container-core-group-is-layout-11 > * + *{margin-block-start:var(--wp--preset--spacing--16);margin-block-end:0;}.wp-container-core-group-is-layout-13{gap:var(--wp--preset--spacing--12);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-14{flex-wrap:nowrap;gap:var(--wp--preset--spacing--20);align-items:flex-start;}.wp-container-core-group-is-layout-17 > *{margin-block-start:0;margin-block-end:0;}.wp-container-core-group-is-layout-17 > * + *{margin-block-start:var(--wp--preset--spacing--32);margin-block-end:0;}.wp-elements-c804df8ecfea890347697a4469c7a87f a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-primary);}.wp-elements-361e18664420f2745478f0373bcee025 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-secondary);}.wp-container-core-group-is-layout-20{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;}.wp-elements-9b2da9e78c2e95c41dab8b5a7bd89187 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-secondary);}.wp-elements-405d4e0f55fae1c84a82bd83ba2e27c0 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--blue-gray);}.wp-elements-421d182eef1a5225f64372b8a5605ad9 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-secondary);}.wp-elements-2f08df38809735c44d27c382513ecb52 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--text-secondary);}.wp-container-core-group-is-layout-21{flex-wrap:nowrap;gap:var(--wp--preset--spacing--8);}.wp-container-core-group-is-layout-22{gap:var(--wp--preset--spacing--4);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-23{flex-wrap:nowrap;gap:var(--wp--preset--spacing--10);}.wp-container-core-group-is-layout-24{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;justify-content:flex-start;}.wp-container-core-group-is-layout-25{flex-wrap:nowrap;gap:0;flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-26{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-27{flex-wrap:nowrap;gap:var(--wp--preset--spacing--8);}.wp-container-core-group-is-layout-28{gap:var(--wp--preset--spacing--4);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-29{flex-wrap:nowrap;gap:var(--wp--preset--spacing--10);}.wp-container-core-group-is-layout-30{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;justify-content:flex-start;}.wp-container-core-group-is-layout-31{flex-wrap:nowrap;gap:0;flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-32{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-33{flex-wrap:nowrap;gap:var(--wp--preset--spacing--8);}.wp-container-core-group-is-layout-34{gap:var(--wp--preset--spacing--4);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-35{flex-wrap:nowrap;gap:var(--wp--preset--spacing--10);}.wp-container-core-group-is-layout-36{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;justify-content:flex-start;}.wp-container-core-group-is-layout-37{flex-wrap:nowrap;gap:0;flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-38{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-39{flex-wrap:nowrap;gap:var(--wp--preset--spacing--8);}.wp-container-core-group-is-layout-40{gap:var(--wp--preset--spacing--4);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-41{flex-wrap:nowrap;gap:var(--wp--preset--spacing--10);}.wp-container-core-group-is-layout-42{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;justify-content:flex-start;}.wp-container-core-group-is-layout-43{flex-wrap:nowrap;gap:0;flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-44{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-45{flex-wrap:nowrap;gap:var(--wp--preset--spacing--8);}.wp-container-core-group-is-layout-46{gap:var(--wp--preset--spacing--4);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-47{flex-wrap:nowrap;gap:var(--wp--preset--spacing--10);}.wp-container-core-group-is-layout-48{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;justify-content:flex-start;}.wp-container-core-group-is-layout-49{flex-wrap:nowrap;gap:0;flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-50{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-51{flex-wrap:nowrap;gap:var(--wp--preset--spacing--8);}.wp-container-core-group-is-layout-52{gap:var(--wp--preset--spacing--4);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-53{flex-wrap:nowrap;gap:var(--wp--preset--spacing--10);}.wp-container-core-group-is-layout-54{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;justify-content:flex-start;}.wp-container-core-group-is-layout-55{flex-wrap:nowrap;gap:0;flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-56{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-57{flex-wrap:nowrap;gap:var(--wp--preset--spacing--8);}.wp-container-core-group-is-layout-58{gap:var(--wp--preset--spacing--4);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-59{flex-wrap:nowrap;gap:var(--wp--preset--spacing--10);}.wp-container-core-group-is-layout-60{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;justify-content:flex-start;}.wp-container-core-group-is-layout-61{flex-wrap:nowrap;gap:0;flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-62{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-63{flex-wrap:nowrap;gap:var(--wp--preset--spacing--8);}.wp-container-core-group-is-layout-64{gap:var(--wp--preset--spacing--4);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-65{flex-wrap:nowrap;gap:var(--wp--preset--spacing--10);}.wp-container-core-group-is-layout-66{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;justify-content:flex-start;}.wp-container-core-group-is-layout-67{flex-wrap:nowrap;gap:0;flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-68{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-69{flex-wrap:nowrap;gap:var(--wp--preset--spacing--8);}.wp-container-core-group-is-layout-70{gap:var(--wp--preset--spacing--4);flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-71{flex-wrap:nowrap;gap:var(--wp--preset--spacing--10);}.wp-container-core-group-is-layout-72{gap:var(--wp--preset--spacing--10);flex-direction:column;align-items:flex-start;justify-content:flex-start;}.wp-container-core-group-is-layout-73{flex-wrap:nowrap;gap:0;flex-direction:column;align-items:flex-start;}.wp-container-core-post-template-is-layout-1{grid-template-columns:repeat(auto-fill, minmax(min(20rem, 100%), 1fr));container-type:inline-size;gap:var(--wp--preset--spacing--24);}.wp-elements-053ca6a4d4dc3c2e0f0e05387d746340 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--spindle);}.wp-container-core-group-is-layout-77{flex-wrap:nowrap;justify-content:center;}.wp-container-core-navigation-is-layout-1{gap:var(--wp--preset--spacing--8);justify-content:center;}.wp-container-core-group-is-layout-78{flex-wrap:nowrap;flex-direction:column;align-items:flex-start;}.wp-elements-8abfba23580a95812086dc19dff05bae a:where(:not(.wp-element-button)){color:var(--wp--preset--color--surface-primary);}.wp-container-core-columns-is-layout-1{flex-wrap:nowrap;}.wp-container-core-group-is-layout-79 > .alignfull{margin-right:calc(var(--wp--preset--spacing--16) * -1);margin-left:calc(var(--wp--preset--spacing--16) * -1);}.wp-container-core-group-is-layout-79 > *{margin-block-start:0;margin-block-end:0;}.wp-container-core-group-is-layout-79 > * + *{margin-block-start:var(--wp--preset--spacing--32);margin-block-end:0;}
</style>
<style id="wp-style-engine-tenup-ui-kit--custom-section-style-variables-inline-css">
:is(.wp-block-button).is-style-button-link{--wp--custom--color--button--text--default:var(--wp--custom--color--button--link--text--default);--wp--custom--color--button--text--hover:var(--wp--custom--color--button--link--text--hover);--wp--custom--color--button--text--disabled:var(--wp--custom--color--button--link--text--disabled);--wp--custom--color--button--background--default:transparent;--wp--custom--color--button--background--hover:transparent;--wp--custom--color--button--background--disabled:transparent;--wp--custom--color--button--border--default:transparent;--wp--custom--color--button--border--hover:transparent;--wp--custom--color--button--border--disabled:transparent;--wp--custom--color--button--icon--default:var(--wp--custom--color--button--link--icon--default);--wp--custom--color--button--icon--hover:var(--wp--custom--color--button--link--icon--hover);--wp--custom--color--button--icon--disabled:var(--wp--custom--color--button--link--icon--disabled);}:is(.wp-block-button).is-style-button-secondary{--wp--custom--color--button--text--default:var(--wp--custom--color--button--secondary--text--default);--wp--custom--color--button--text--hover:var(--wp--custom--color--button--secondary--text--hover);--wp--custom--color--button--text--disabled:var(--wp--custom--color--button--secondary--text--disabled);--wp--custom--color--button--background--default:var(--wp--custom--color--button--secondary--background--default);--wp--custom--color--button--background--hover:var(--wp--custom--color--button--secondary--background--hover);--wp--custom--color--button--background--focus:var(--wp--custom--color--button--secondary--background--focus);--wp--custom--color--button--background--disabled:var(--wp--custom--color--button--secondary--background--disabled);--wp--custom--color--button--border--default:var(--wp--custom--color--button--secondary--border--default);--wp--custom--color--button--border--hover:var(--wp--custom--color--button--secondary--border--hover);--wp--custom--color--button--border--disabled:var(--wp--custom--color--button--secondary--border--disabled);--wp--custom--color--button--icon--default:var(--wp--custom--color--button--secondary--icon--default);--wp--custom--color--button--icon--hover:var(--wp--custom--color--button--secondary--icon--hover);--wp--custom--color--button--icon--disabled:var(--wp--custom--color--button--secondary--icon--disabled);}:is(.wp-block-button).is-style-button-small{--wp--custom--color--button--text--default:var(--wp--custom--color--button--small--text--default);--wp--custom--color--button--text--hover:var(--wp--custom--color--button--small--text--hover);--wp--custom--color--button--text--disabled:var(--wp--custom--color--button--small--text--disabled);--wp--custom--color--button--background--default:var(--wp--custom--color--button--small--background--default);--wp--custom--color--button--background--hover:var(--wp--custom--color--button--small--background--hover);--wp--custom--color--button--background--disabled:var(--wp--custom--color--button--small--background--disabled);--wp--custom--color--button--border--default:var(--wp--custom--color--button--small--border--default);--wp--custom--color--button--border--hover:var(--wp--custom--color--button--small--border--hover);--wp--custom--color--button--border--disabled:var(--wp--custom--color--button--small--border--disabled);--wp--custom--color--button--icon--default:var(--wp--custom--color--button--small--icon--default);--wp--custom--color--button--icon--hover:var(--wp--custom--color--button--small--icon--hover);--wp--custom--color--button--icon--disabled:var(--wp--custom--color--button--small--icon--disabled);}:is(.wp-block-group).is-style-section-brand{--wp--custom--color--text--link:var(--wp--custom--color--text--inverted);--wp--custom--color--button--text--default:var(--wp--custom--color--text--brand);--wp--custom--color--button--text--hover:var(--wp--custom--color--spindle);--wp--custom--color--button--background--default:var(--wp--custom--color--surface--primary);--wp--custom--color--button--background--hover:var(--wp--custom--color--surface--brand);--wp--custom--color--button--border--default:var(--wp--custom--color--spindle);--wp--custom--color--button--border--hover:var(--wp--custom--color--spindle);--wp--custom--color--button--icon--hover:var(--wp--custom--color--spindle);--wp--custom--color--button--secondary--text--default:var(--wp--custom--color--spindle);--wp--custom--color--button--secondary--text--hover:var(--wp--custom--color--text--brand);--wp--custom--color--button--secondary--text--focus:var(--wp--custom--color--text--brand);--wp--custom--color--button--secondary--background--default:var(--wp--custom--color--surface--brand);--wp--custom--color--button--secondary--background--hover:var(--wp--custom--color--surface--primary);--wp--custom--color--button--secondary--background--focus:var(--wp--custom--color--surface--primary);--wp--custom--color--button--secondary--border--default:var(--wp--custom--color--spindle);--wp--custom--color--button--secondary--border--hover:var(--wp--custom--color--surface--primary);--wp--custom--color--button--secondary--border--focus:var(--wp--custom--color--surface--primary);--wp--custom--color--button--small--text--focus:var(--wp--custom--color--spindle);--wp--custom--color--button--small--background--focus:var(--wp--custom--color--surface--brand);--wp--custom--color--button--link--text--default:var(--wp--custom--color--spindle);--wp--custom--color--button--link--text--hover:var(--wp--custom--color--text--inverted);--wp--custom--color--button--link--text--focus:var(--wp--custom--color--spindle);--wp--custom--color--button--link--border--focus:var(--wp--custom--color--spindle);}
</style>
<style id="wp-style-engine-tenup-ui-kit--custom-fluid-font-size-variables-inline-css">
:root{--wp--custom--font--size--display--lg:clamp(3.625rem, 3.625rem + ((1vw - 0.244rem) * 3.019), 5.625rem);--wp--custom--font--size--display--md:clamp(3.375rem, 3.375rem + ((1vw - 0.244rem) * 1.227), 4.1875rem);--wp--custom--font--size--heading--1:clamp(3rem, 3rem + ((1vw - 0.244rem) * 1.509), 4rem);--wp--custom--font--size--heading--2:clamp(2.5rem, 2.5rem + ((1vw - 0.244rem) * 1.132), 3.25rem);--wp--custom--font--size--heading--3:clamp(2rem, 2rem + ((1vw - 0.244rem) * 1.132), 2.75rem);--wp--custom--font--size--heading--4:clamp(1.875rem, 1.875rem + ((1vw - 0.244rem) * 0.943), 2.5rem);--wp--custom--font--size--heading--5:clamp(1.5rem, 1.5rem + ((1vw - 0.244rem) * 0.755), 2rem);--wp--custom--font--size--heading--6:clamp(1.125rem, 1.125rem + ((1vw - 0.244rem) * 0.566), 1.5rem);}
</style>
<style id="wp-block-template-skip-link-inline-css">

		.skip-link.screen-reader-text {
			border: 0;
			clip: rect(1px,1px,1px,1px);
			clip-path: inset(50%);
			height: 1px;
			margin: -1px;
			overflow: hidden;
			padding: 0;
			position: absolute !important;
			width: 1px;
			word-wrap: normal !important;
		}

		.skip-link.screen-reader-text:focus {
			background-color: #eee;
			clip: auto !important;
			clip-path: none;
			color: #444;
			display: block;
			font-size: 1em;
			height: auto;
			left: 5px;
			line-height: normal;
			padding: 15px 23px 14px;
			text-decoration: none;
			top: 5px;
			width: auto;
			z-index: 100000;
		}
</style>
<style id="dominant-color-styles-inline-css">
img[data-dominant-color]:not(.has-transparency) { background-color: var(--dominant-color); }
</style>
<link rel="stylesheet" id="ui-kit-theme-styles-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/parent-frontend.css" media="all">
<link rel="stylesheet" id="styles-css" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/frontend.css" media="all">
<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/view.js.download" id="tds-share-view-script-js" defer="" data-wp-strategy="defer"></script>
<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/frontend.js.download" id="frontend-js" defer="" data-wp-strategy="defer"></script>
<link rel="https://api.w.org/" href="https://towardsdatascience.com/wp-json/"><link rel="alternate" title="JSON" type="application/json" href="https://towardsdatascience.com/wp-json/wp/v2/posts/127579"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://towardsdatascience.com/xmlrpc.php?rsd">
<link rel="shortlink" href="https://towardsdatascience.com/?p=127579">
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="https://towardsdatascience.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Ftowardsdatascience.com%2Fmovielens-1m-deep-dive-part-i-8acfeda1ad4%2F">
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="https://towardsdatascience.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Ftowardsdatascience.com%2Fmovielens-1m-deep-dive-part-i-8acfeda1ad4%2F&amp;format=xml">
<meta name="generator" content="dominant-color-images 1.2.0">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
	<script type="importmap" id="wp-importmap">
{"imports":{"@wordpress\/interactivity":"https:\/\/towardsdatascience.com\/wp-includes\/js\/dist\/script-modules\/interactivity\/index.min.js?ver=06b8f695ef48ab2d9277","@10up-ui-kit\/headroomjs":"https:\/\/towardsdatascience.com\/wp-content\/plugins\/ui-kit-navigation\/\/dist\/js\/headroom.js?ver=^0.12.0","@10up-ui-kit\/scroll-lock":"https:\/\/towardsdatascience.com\/wp-content\/plugins\/ui-kit-navigation\/\/dist\/js\/scroll-lock.js?ver=^2.1.5"}}
</script>
<script type="module" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/view-module.js.download" id="tenup-navigation-portal-view-script-module-js-module"></script>
<script type="module" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/view-module(1).js.download" id="tenup-navigation-view-script-module-js-module"></script>
<script type="module" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/view-module(2).js.download" id="tenup-search-button-view-script-module-js-module"></script>
<script type="module" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/view-module(3).js.download" id="@ui-kit-navigation/site-header-view-script-js-module"></script>
<script type="module" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/frontend-module.js.download" id="@tds/frontend-js-module"></script>
<link rel="modulepreload" href="https://towardsdatascience.com/wp-includes/js/dist/script-modules/interactivity/index.min.js?ver=06b8f695ef48ab2d9277" id="@wordpress/interactivity-js-modulepreload"><link rel="modulepreload" href="https://towardsdatascience.com/wp-content/plugins/ui-kit-navigation//dist/js/scroll-lock.js?ver=2.1.5" id="@10up-ui-kit/scroll-lock-js-modulepreload"><style class="wp-fonts-local">
@font-face{font-family:"Work Sans";font-style:normal;font-weight:300;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32KxfXNi0Dp6_cOyA.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:normal;font-weight:400;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K0nXNi0Dp6_cOyA.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:normal;font-weight:500;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K3vXNi0Dp6_cOyA.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:normal;font-weight:600;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K5fQNi0Dp6_cOyA.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:normal;font-weight:700;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K67QNi0Dp6_cOyA.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:normal;font-weight:800;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K8nQNi0Dp6_cOyA.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:normal;font-weight:900;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K-DQNi0Dp6_cOyA.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:italic;font-weight:900;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUd2wJpo3ZKyDSQQ.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:italic;font-weight:800;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUXmwJpo3ZKyDSQQ.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:italic;font-weight:700;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUOWwJpo3ZKyDSQQ.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:italic;font-weight:600;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUAGwJpo3ZKyDSQQ.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:italic;font-weight:500;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGU7GsJpo3ZKyDSQQ.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:italic;font-weight:400;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGU3msJpo3ZKyDSQQ.woff2') format('woff2');}
@font-face{font-family:"Work Sans";font-style:italic;font-weight:300;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/QGY9z_wNahGAdqQ43Rh_ebrnlwyYfEPxPoGUgGsJpo3ZKyDSQQ.woff2') format('woff2');}
@font-face{font-family:"Source Serif 4";font-style:italic;font-weight:500;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/source-serif-4/source-serif-4-500-italic.woff2') format('woff2');}
@font-face{font-family:"Source Serif 4";font-style:italic;font-weight:400;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/source-serif-4/source-serif-4-400-italic.woff2') format('woff2');}
@font-face{font-family:"Source Serif 4";font-style:normal;font-weight:400;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/source-serif-4/source-serif-4-400.woff2') format('woff2');}
@font-face{font-family:"Source Serif 4";font-style:normal;font-weight:500;font-display:fallback;src:url('https://towardsdatascience.com/wp-content/themes/tds-theme/assets/fonts/source-serif-4/source-serif-4-500.woff2') format('woff2');}
</style>
<link rel="icon" href="https://towardsdatascience.com/wp-content/uploads/2025/02/cropped-Favicon-32x32.png" sizes="32x32">
<link rel="icon" href="https://towardsdatascience.com/wp-content/uploads/2025/02/cropped-Favicon-192x192.png" sizes="192x192">
<link rel="apple-touch-icon" href="https://towardsdatascience.com/wp-content/uploads/2025/02/cropped-Favicon-180x180.png">
<meta name="msapplication-TileImage" content="https://towardsdatascience.com/wp-content/uploads/2025/02/cropped-Favicon-270x270.png">
<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/otBannerSdk.js.download" async="" type="text/javascript"></script><style id="onetrust-style">#onetrust-banner-sdk .onetrust-vendors-list-handler{cursor:pointer;color:#1f96db;font-size:inherit;font-weight:bold;text-decoration:none;margin-left:5px}#onetrust-banner-sdk .onetrust-vendors-list-handler:hover{color:#1f96db}#onetrust-banner-sdk:focus{outline:2px solid #000;outline-offset:-2px}#onetrust-banner-sdk a:focus{outline:2px solid #000}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{outline-offset:1px}#onetrust-banner-sdk.ot-bnr-w-logo .ot-bnr-logo{height:64px;width:64px}#onetrust-banner-sdk .ot-tcf2-vendor-count.ot-text-bold{font-weight:bold}#onetrust-banner-sdk .ot-close-icon,#onetrust-pc-sdk .ot-close-icon,#ot-sync-ntfy .ot-close-icon{background-size:contain;background-repeat:no-repeat;background-position:center;height:12px;width:12px}#onetrust-banner-sdk .powered-by-logo,#onetrust-banner-sdk .ot-pc-footer-logo a,#onetrust-pc-sdk .powered-by-logo,#onetrust-pc-sdk .ot-pc-footer-logo a,#ot-sync-ntfy .powered-by-logo,#ot-sync-ntfy .ot-pc-footer-logo a{background-size:contain;background-repeat:no-repeat;background-position:center;height:25px;width:152px;display:block;text-decoration:none;font-size:.75em}#onetrust-banner-sdk .powered-by-logo:hover,#onetrust-banner-sdk .ot-pc-footer-logo a:hover,#onetrust-pc-sdk .powered-by-logo:hover,#onetrust-pc-sdk .ot-pc-footer-logo a:hover,#ot-sync-ntfy .powered-by-logo:hover,#ot-sync-ntfy .ot-pc-footer-logo a:hover{color:#565656}#onetrust-banner-sdk h3 *,#onetrust-banner-sdk h4 *,#onetrust-banner-sdk h6 *,#onetrust-banner-sdk button *,#onetrust-banner-sdk a[data-parent-id] *,#onetrust-pc-sdk h3 *,#onetrust-pc-sdk h4 *,#onetrust-pc-sdk h6 *,#onetrust-pc-sdk button *,#onetrust-pc-sdk a[data-parent-id] *,#ot-sync-ntfy h3 *,#ot-sync-ntfy h4 *,#ot-sync-ntfy h6 *,#ot-sync-ntfy button *,#ot-sync-ntfy a[data-parent-id] *{font-size:inherit;font-weight:inherit;color:inherit}#onetrust-banner-sdk .ot-hide,#onetrust-pc-sdk .ot-hide,#ot-sync-ntfy .ot-hide{display:none !important}#onetrust-banner-sdk button.ot-link-btn:hover,#onetrust-pc-sdk button.ot-link-btn:hover,#ot-sync-ntfy button.ot-link-btn:hover{text-decoration:underline;opacity:1}#onetrust-pc-sdk .ot-sdk-row .ot-sdk-column{padding:0}#onetrust-pc-sdk .ot-sdk-container{padding-right:0}#onetrust-pc-sdk .ot-sdk-row{flex-direction:initial;width:100%}#onetrust-pc-sdk [type=checkbox]:checked,#onetrust-pc-sdk [type=checkbox]:not(:checked){pointer-events:initial}#onetrust-pc-sdk [type=checkbox]:disabled+label::before,#onetrust-pc-sdk [type=checkbox]:disabled+label:after,#onetrust-pc-sdk [type=checkbox]:disabled+label{pointer-events:none;opacity:.8}#onetrust-pc-sdk #vendor-list-content{transform:translate3d(0, 0, 0)}#onetrust-pc-sdk li input[type=checkbox]{z-index:1}#onetrust-pc-sdk li .ot-checkbox label{z-index:2}#onetrust-pc-sdk li .ot-checkbox input[type=checkbox]{height:auto;width:auto}#onetrust-pc-sdk li .host-title a,#onetrust-pc-sdk li .ot-host-name a,#onetrust-pc-sdk li .accordion-text,#onetrust-pc-sdk li .ot-acc-txt{z-index:2;position:relative}#onetrust-pc-sdk input{margin:3px .1ex}#onetrust-pc-sdk .pc-logo,#onetrust-pc-sdk .ot-pc-logo{height:60px;width:180px;background-position:center;background-size:contain;background-repeat:no-repeat;display:inline-flex;justify-content:center;align-items:center}#onetrust-pc-sdk .pc-logo img,#onetrust-pc-sdk .ot-pc-logo img{max-height:100%;max-width:100%}#onetrust-pc-sdk .screen-reader-only,#onetrust-pc-sdk .ot-scrn-rdr,.ot-sdk-cookie-policy .screen-reader-only,.ot-sdk-cookie-policy .ot-scrn-rdr{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}#onetrust-pc-sdk.ot-fade-in,.onetrust-pc-dark-filter.ot-fade-in,#onetrust-banner-sdk.ot-fade-in{animation-name:onetrust-fade-in;animation-duration:400ms;animation-timing-function:ease-in-out}#onetrust-pc-sdk.ot-hide{display:none !important}.onetrust-pc-dark-filter.ot-hide{display:none !important}#ot-sdk-btn.ot-sdk-show-settings,#ot-sdk-btn.optanon-show-settings{color:#fff;background-color:#468254;height:auto;white-space:normal;word-wrap:break-word;padding:.8em 2em;font-size:.8em;line-height:1.2;cursor:pointer;-moz-transition:.1s ease;-o-transition:.1s ease;-webkit-transition:1s ease;transition:.1s ease}#ot-sdk-btn.ot-sdk-show-settings:hover,#ot-sdk-btn.optanon-show-settings:hover{color:#fff;background-color:#2c6415}#ot-sdk-btn.ot-sdk-show-settings:active,#ot-sdk-btn.optanon-show-settings:active{color:#fff;background-color:#2c6415;border:1px solid rgba(162,192,169,.5)}.onetrust-pc-dark-filter{background:rgba(0,0,0,.5);z-index:2147483646;width:100%;height:100%;overflow:hidden;position:fixed;top:0;bottom:0;left:0}@keyframes onetrust-fade-in{0%{opacity:0}100%{opacity:1}}.ot-cookie-label{text-decoration:underline}@media only screen and (min-width: 426px)and (max-width: 896px)and (orientation: landscape){#onetrust-pc-sdk p{font-size:.75em}}#onetrust-banner-sdk .banner-option-input:focus+label{outline:1px solid #000;outline-style:auto}.category-vendors-list-handler+a:focus,.category-vendors-list-handler+a:focus-visible{outline:2px solid #000}#onetrust-pc-sdk .ot-userid-title{margin-top:10px}#onetrust-pc-sdk .ot-userid-title>span,#onetrust-pc-sdk .ot-userid-timestamp>span{font-weight:700}#onetrust-pc-sdk .ot-userid-desc{font-style:italic}#onetrust-pc-sdk .ot-host-desc a{pointer-events:initial}#onetrust-pc-sdk .ot-ven-hdr>p a{position:relative;z-index:2;pointer-events:initial}#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info a,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info a{margin-right:auto}#onetrust-pc-sdk .ot-pc-footer-logo img{width:136px;height:16px}#onetrust-pc-sdk .ot-pur-vdr-count{font-weight:400;font-size:.8em;padding-top:3px;display:block}#onetrust-banner-sdk .ot-optout-signal,#onetrust-pc-sdk .ot-optout-signal{border:1px solid #32ae88;border-radius:3px;padding:5px;margin-bottom:10px;background-color:#f9fffa;font-size:.85rem;line-height:2}#onetrust-banner-sdk .ot-optout-signal .ot-optout-icon,#onetrust-pc-sdk .ot-optout-signal .ot-optout-icon{display:inline;margin-right:5px}#onetrust-banner-sdk .ot-optout-signal svg,#onetrust-pc-sdk .ot-optout-signal svg{height:20px;width:30px;transform:scale(0.5)}#onetrust-banner-sdk .ot-optout-signal svg path,#onetrust-pc-sdk .ot-optout-signal svg path{fill:#32ae88}#onetrust-consent-sdk .ot-general-modal{overflow:hidden;position:fixed;margin:0 auto;top:50%;left:50%;width:40%;padding:1.5rem;max-width:575px;min-width:575px;z-index:2147483647;border-radius:2.5px;transform:translate(-50%, -50%)}#onetrust-consent-sdk .ot-signature-health-group{margin-top:1rem;padding-left:1.25rem;padding-right:1.25rem;margin-bottom:.625rem;width:calc(100% - 2.5rem)}#onetrust-consent-sdk .ot-signature-health-group .ot-signature-health-form{gap:.5rem}#onetrust-consent-sdk .ot-signature-health .ot-signature-health-form{width:70%;gap:.35rem}#onetrust-consent-sdk .ot-signature-health .ot-signature-input{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}#onetrust-consent-sdk .ot-signature-health .ot-signature-subtitle{font-size:1.125rem}#onetrust-consent-sdk .ot-signature-health .ot-signature-group-title{font-size:1.25rem;font-weight:bold}#onetrust-consent-sdk .ot-signature-health,#onetrust-consent-sdk .ot-signature-health-group{display:flex;flex-direction:column;gap:1rem}#onetrust-consent-sdk .ot-signature-health .ot-signature-cont,#onetrust-consent-sdk .ot-signature-health-group .ot-signature-cont{display:flex;flex-direction:column;gap:.25rem}#onetrust-consent-sdk .ot-signature-health .ot-signature-paragraph,#onetrust-consent-sdk .ot-signature-health-group .ot-signature-paragraph{margin:0;line-height:20px;font-size:max(14px,.875rem)}#onetrust-consent-sdk .ot-signature-health .ot-health-signature-error,#onetrust-consent-sdk .ot-signature-health-group .ot-health-signature-error{color:#4d4d4d;font-size:min(12px,.75rem)}#onetrust-consent-sdk .ot-signature-health .ot-signature-buttons-cont,#onetrust-consent-sdk .ot-signature-health-group .ot-signature-buttons-cont{margin-top:max(.75rem,2%);gap:1rem;display:flex;justify-content:flex-end}#onetrust-consent-sdk .ot-signature-health .ot-signature-button,#onetrust-consent-sdk .ot-signature-health-group .ot-signature-button{flex:1;height:auto;color:#fff;cursor:pointer;line-height:1.2;min-width:125px;font-weight:600;font-size:.813em;border-radius:2px;padding:12px 10px;white-space:normal;word-wrap:break-word;word-break:break-word;background-color:#68b631;border:2px solid #68b631}#onetrust-consent-sdk .ot-signature-health .ot-signature-button.reject,#onetrust-consent-sdk .ot-signature-health-group .ot-signature-button.reject{background-color:#fff}#onetrust-consent-sdk .ot-input-field-cont{display:flex;flex-direction:column;gap:.5rem}#onetrust-consent-sdk .ot-input-field-cont .ot-signature-input{width:65%}#onetrust-consent-sdk .ot-signature-health-form{display:flex;flex-direction:column}#onetrust-consent-sdk .ot-signature-health-form .ot-signature-label{margin-bottom:0;line-height:20px;font-size:max(14px,.875rem)}@media only screen and (max-width: 600px){#onetrust-consent-sdk .ot-general-modal{min-width:100%}#onetrust-consent-sdk .ot-signature-health .ot-signature-health-form{width:100%}#onetrust-consent-sdk .ot-input-field-cont .ot-signature-input{width:100%}}#onetrust-banner-sdk,#onetrust-pc-sdk,#ot-sdk-cookie-policy,#ot-sync-ntfy{font-size:16px}#onetrust-banner-sdk *,#onetrust-banner-sdk ::after,#onetrust-banner-sdk ::before,#onetrust-pc-sdk *,#onetrust-pc-sdk ::after,#onetrust-pc-sdk ::before,#ot-sdk-cookie-policy *,#ot-sdk-cookie-policy ::after,#ot-sdk-cookie-policy ::before,#ot-sync-ntfy *,#ot-sync-ntfy ::after,#ot-sync-ntfy ::before{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}#onetrust-banner-sdk div,#onetrust-banner-sdk span,#onetrust-banner-sdk h1,#onetrust-banner-sdk h2,#onetrust-banner-sdk h3,#onetrust-banner-sdk h4,#onetrust-banner-sdk h5,#onetrust-banner-sdk h6,#onetrust-banner-sdk p,#onetrust-banner-sdk img,#onetrust-banner-sdk svg,#onetrust-banner-sdk button,#onetrust-banner-sdk section,#onetrust-banner-sdk a,#onetrust-banner-sdk label,#onetrust-banner-sdk input,#onetrust-banner-sdk ul,#onetrust-banner-sdk li,#onetrust-banner-sdk nav,#onetrust-banner-sdk table,#onetrust-banner-sdk thead,#onetrust-banner-sdk tr,#onetrust-banner-sdk td,#onetrust-banner-sdk tbody,#onetrust-banner-sdk .ot-main-content,#onetrust-banner-sdk .ot-toggle,#onetrust-banner-sdk #ot-content,#onetrust-banner-sdk #ot-pc-content,#onetrust-banner-sdk .checkbox,#onetrust-pc-sdk div,#onetrust-pc-sdk span,#onetrust-pc-sdk h1,#onetrust-pc-sdk h2,#onetrust-pc-sdk h3,#onetrust-pc-sdk h4,#onetrust-pc-sdk h5,#onetrust-pc-sdk h6,#onetrust-pc-sdk p,#onetrust-pc-sdk img,#onetrust-pc-sdk svg,#onetrust-pc-sdk button,#onetrust-pc-sdk section,#onetrust-pc-sdk a,#onetrust-pc-sdk label,#onetrust-pc-sdk input,#onetrust-pc-sdk ul,#onetrust-pc-sdk li,#onetrust-pc-sdk nav,#onetrust-pc-sdk table,#onetrust-pc-sdk thead,#onetrust-pc-sdk tr,#onetrust-pc-sdk td,#onetrust-pc-sdk tbody,#onetrust-pc-sdk .ot-main-content,#onetrust-pc-sdk .ot-toggle,#onetrust-pc-sdk #ot-content,#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk .checkbox,#ot-sdk-cookie-policy div,#ot-sdk-cookie-policy span,#ot-sdk-cookie-policy h1,#ot-sdk-cookie-policy h2,#ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy h5,#ot-sdk-cookie-policy h6,#ot-sdk-cookie-policy p,#ot-sdk-cookie-policy img,#ot-sdk-cookie-policy svg,#ot-sdk-cookie-policy button,#ot-sdk-cookie-policy section,#ot-sdk-cookie-policy a,#ot-sdk-cookie-policy label,#ot-sdk-cookie-policy input,#ot-sdk-cookie-policy ul,#ot-sdk-cookie-policy li,#ot-sdk-cookie-policy nav,#ot-sdk-cookie-policy table,#ot-sdk-cookie-policy thead,#ot-sdk-cookie-policy tr,#ot-sdk-cookie-policy td,#ot-sdk-cookie-policy tbody,#ot-sdk-cookie-policy .ot-main-content,#ot-sdk-cookie-policy .ot-toggle,#ot-sdk-cookie-policy #ot-content,#ot-sdk-cookie-policy #ot-pc-content,#ot-sdk-cookie-policy .checkbox,#ot-sync-ntfy div,#ot-sync-ntfy span,#ot-sync-ntfy h1,#ot-sync-ntfy h2,#ot-sync-ntfy h3,#ot-sync-ntfy h4,#ot-sync-ntfy h5,#ot-sync-ntfy h6,#ot-sync-ntfy p,#ot-sync-ntfy img,#ot-sync-ntfy svg,#ot-sync-ntfy button,#ot-sync-ntfy section,#ot-sync-ntfy a,#ot-sync-ntfy label,#ot-sync-ntfy input,#ot-sync-ntfy ul,#ot-sync-ntfy li,#ot-sync-ntfy nav,#ot-sync-ntfy table,#ot-sync-ntfy thead,#ot-sync-ntfy tr,#ot-sync-ntfy td,#ot-sync-ntfy tbody,#ot-sync-ntfy .ot-main-content,#ot-sync-ntfy .ot-toggle,#ot-sync-ntfy #ot-content,#ot-sync-ntfy #ot-pc-content,#ot-sync-ntfy .checkbox{font-family:inherit;font-weight:normal;-webkit-font-smoothing:auto;letter-spacing:normal;line-height:normal;padding:0;margin:0;height:auto;min-height:0;max-height:none;width:auto;min-width:0;max-width:none;border-radius:0;border:none;clear:none;float:none;position:static;bottom:auto;left:auto;right:auto;top:auto;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;white-space:normal;background:none;overflow:visible;vertical-align:baseline;visibility:visible;z-index:auto;box-shadow:none}#onetrust-banner-sdk label:before,#onetrust-banner-sdk label:after,#onetrust-banner-sdk .checkbox:after,#onetrust-banner-sdk .checkbox:before,#onetrust-pc-sdk label:before,#onetrust-pc-sdk label:after,#onetrust-pc-sdk .checkbox:after,#onetrust-pc-sdk .checkbox:before,#ot-sdk-cookie-policy label:before,#ot-sdk-cookie-policy label:after,#ot-sdk-cookie-policy .checkbox:after,#ot-sdk-cookie-policy .checkbox:before,#ot-sync-ntfy label:before,#ot-sync-ntfy label:after,#ot-sync-ntfy .checkbox:after,#ot-sync-ntfy .checkbox:before{content:"";content:none}#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{position:relative;width:100%;max-width:100%;margin:0 auto;padding:0 20px;box-sizing:border-box}#onetrust-banner-sdk .ot-sdk-column,#onetrust-banner-sdk .ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-column,#onetrust-pc-sdk .ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-column,#ot-sdk-cookie-policy .ot-sdk-columns{width:100%;float:left;box-sizing:border-box;padding:0;display:initial}@media(min-width: 400px){#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{width:90%;padding:0}}@media(min-width: 550px){#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{width:100%}#onetrust-banner-sdk .ot-sdk-column,#onetrust-banner-sdk .ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-column,#onetrust-pc-sdk .ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-column,#ot-sdk-cookie-policy .ot-sdk-columns{margin-left:4%}#onetrust-banner-sdk .ot-sdk-column:first-child,#onetrust-banner-sdk .ot-sdk-columns:first-child,#onetrust-pc-sdk .ot-sdk-column:first-child,#onetrust-pc-sdk .ot-sdk-columns:first-child,#ot-sdk-cookie-policy .ot-sdk-column:first-child,#ot-sdk-cookie-policy .ot-sdk-columns:first-child{margin-left:0}#onetrust-banner-sdk .ot-sdk-two.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-two.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-two.ot-sdk-columns{width:13.3333333333%}#onetrust-banner-sdk .ot-sdk-three.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-three.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-three.ot-sdk-columns{width:22%}#onetrust-banner-sdk .ot-sdk-four.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-four.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-four.ot-sdk-columns{width:30.6666666667%}#onetrust-banner-sdk .ot-sdk-eight.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-eight.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-eight.ot-sdk-columns{width:65.3333333333%}#onetrust-banner-sdk .ot-sdk-nine.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-nine.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-nine.ot-sdk-columns{width:74%}#onetrust-banner-sdk .ot-sdk-ten.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-ten.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-ten.ot-sdk-columns{width:82.6666666667%}#onetrust-banner-sdk .ot-sdk-eleven.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-eleven.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-eleven.ot-sdk-columns{width:91.3333333333%}#onetrust-banner-sdk .ot-sdk-twelve.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-twelve.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-twelve.ot-sdk-columns{width:100%;margin-left:0}}#onetrust-banner-sdk h1,#onetrust-banner-sdk h2,#onetrust-banner-sdk h3,#onetrust-banner-sdk h4,#onetrust-banner-sdk h5,#onetrust-banner-sdk h6,#onetrust-pc-sdk h1,#onetrust-pc-sdk h2,#onetrust-pc-sdk h3,#onetrust-pc-sdk h4,#onetrust-pc-sdk h5,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h1,#ot-sdk-cookie-policy h2,#ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy h5,#ot-sdk-cookie-policy h6{margin-top:0;font-weight:600;font-family:inherit}#onetrust-banner-sdk h1,#onetrust-pc-sdk h1,#ot-sdk-cookie-policy h1{font-size:1.5rem;line-height:1.2}#onetrust-banner-sdk h2,#onetrust-pc-sdk h2,#ot-sdk-cookie-policy h2{font-size:1.5rem;line-height:1.25}#onetrust-banner-sdk h3,#onetrust-pc-sdk h3,#ot-sdk-cookie-policy h3{font-size:1.5rem;line-height:1.3}#onetrust-banner-sdk h4,#onetrust-pc-sdk h4,#ot-sdk-cookie-policy h4{font-size:1.5rem;line-height:1.35}#onetrust-banner-sdk h5,#onetrust-pc-sdk h5,#ot-sdk-cookie-policy h5{font-size:1.5rem;line-height:1.5}#onetrust-banner-sdk h6,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h6{font-size:1.5rem;line-height:1.6}@media(min-width: 550px){#onetrust-banner-sdk h1,#onetrust-pc-sdk h1,#ot-sdk-cookie-policy h1{font-size:1.5rem}#onetrust-banner-sdk h2,#onetrust-pc-sdk h2,#ot-sdk-cookie-policy h2{font-size:1.5rem}#onetrust-banner-sdk h3,#onetrust-pc-sdk h3,#ot-sdk-cookie-policy h3{font-size:1.5rem}#onetrust-banner-sdk h4,#onetrust-pc-sdk h4,#ot-sdk-cookie-policy h4{font-size:1.5rem}#onetrust-banner-sdk h5,#onetrust-pc-sdk h5,#ot-sdk-cookie-policy h5{font-size:1.5rem}#onetrust-banner-sdk h6,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h6{font-size:1.5rem}}#onetrust-banner-sdk p,#onetrust-pc-sdk p,#ot-sdk-cookie-policy p{margin:0 0 1em 0;font-family:inherit;line-height:normal}#onetrust-banner-sdk a,#onetrust-pc-sdk a,#ot-sdk-cookie-policy a{color:#565656;text-decoration:underline}#onetrust-banner-sdk a:hover,#onetrust-pc-sdk a:hover,#ot-sdk-cookie-policy a:hover{color:#565656;text-decoration:none}#onetrust-banner-sdk .ot-sdk-button,#onetrust-banner-sdk button,#onetrust-pc-sdk .ot-sdk-button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy .ot-sdk-button,#ot-sdk-cookie-policy button{margin-bottom:1rem;font-family:inherit}#onetrust-banner-sdk .ot-sdk-button,#onetrust-banner-sdk button,#onetrust-pc-sdk .ot-sdk-button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy .ot-sdk-button,#ot-sdk-cookie-policy button{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:.9em;font-weight:400;line-height:38px;letter-spacing:.01em;text-decoration:none;white-space:nowrap;background-color:rgba(0,0,0,0);border-radius:2px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}#onetrust-banner-sdk .ot-sdk-button:hover,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:not(.ot-link-btn):hover,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:not(.ot-link-btn):focus,#onetrust-pc-sdk .ot-sdk-button:hover,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:not(.ot-link-btn):hover,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:not(.ot-link-btn):focus,#ot-sdk-cookie-policy .ot-sdk-button:hover,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:not(.ot-link-btn):hover,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:not(.ot-link-btn):focus{color:#333;border-color:#888;opacity:.9}#onetrust-banner-sdk .ot-sdk-button:focus,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:focus,#onetrust-pc-sdk .ot-sdk-button:focus,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:focus,#ot-sdk-cookie-policy .ot-sdk-button:focus,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:focus{outline:2px solid #000}#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary,#onetrust-banner-sdk button.ot-sdk-button-primary,#onetrust-banner-sdk input[type=submit].ot-sdk-button-primary,#onetrust-banner-sdk input[type=reset].ot-sdk-button-primary,#onetrust-banner-sdk input[type=button].ot-sdk-button-primary,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary,#onetrust-pc-sdk button.ot-sdk-button-primary,#onetrust-pc-sdk input[type=submit].ot-sdk-button-primary,#onetrust-pc-sdk input[type=reset].ot-sdk-button-primary,#onetrust-pc-sdk input[type=button].ot-sdk-button-primary,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary,#ot-sdk-cookie-policy button.ot-sdk-button-primary,#ot-sdk-cookie-policy input[type=submit].ot-sdk-button-primary,#ot-sdk-cookie-policy input[type=reset].ot-sdk-button-primary,#ot-sdk-cookie-policy input[type=button].ot-sdk-button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary:hover,#onetrust-banner-sdk button.ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type=submit].ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type=reset].ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type=button].ot-sdk-button-primary:hover,#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary:focus,#onetrust-banner-sdk button.ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type=submit].ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type=reset].ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type=button].ot-sdk-button-primary:focus,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary:hover,#onetrust-pc-sdk button.ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type=submit].ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type=reset].ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type=button].ot-sdk-button-primary:hover,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary:focus,#onetrust-pc-sdk button.ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type=submit].ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type=reset].ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type=button].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary:hover,#ot-sdk-cookie-policy button.ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type=submit].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type=reset].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type=button].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary:focus,#ot-sdk-cookie-policy button.ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type=submit].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type=reset].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type=button].ot-sdk-button-primary:focus{color:#fff;background-color:#1eaedb;border-color:#1eaedb}#onetrust-banner-sdk input[type=text],#onetrust-pc-sdk input[type=text],#ot-sdk-cookie-policy input[type=text]{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}#onetrust-banner-sdk input[type=text],#onetrust-pc-sdk input[type=text],#ot-sdk-cookie-policy input[type=text]{-webkit-appearance:none;-moz-appearance:none;appearance:none}#onetrust-banner-sdk input[type=text]:focus,#onetrust-pc-sdk input[type=text]:focus,#ot-sdk-cookie-policy input[type=text]:focus{border:1px solid #000;outline:0}#onetrust-banner-sdk label,#onetrust-pc-sdk label,#ot-sdk-cookie-policy label{display:block;margin-bottom:.5rem;font-weight:600}#onetrust-banner-sdk input[type=checkbox],#onetrust-pc-sdk input[type=checkbox],#ot-sdk-cookie-policy input[type=checkbox]{display:inline}#onetrust-banner-sdk ul,#onetrust-pc-sdk ul,#ot-sdk-cookie-policy ul{list-style:circle inside}#onetrust-banner-sdk ul,#onetrust-pc-sdk ul,#ot-sdk-cookie-policy ul{padding-left:0;margin-top:0}#onetrust-banner-sdk ul ul,#onetrust-pc-sdk ul ul,#ot-sdk-cookie-policy ul ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}#onetrust-banner-sdk li,#onetrust-pc-sdk li,#ot-sdk-cookie-policy li{margin-bottom:1rem}#onetrust-banner-sdk th,#onetrust-banner-sdk td,#onetrust-pc-sdk th,#onetrust-pc-sdk td,#ot-sdk-cookie-policy th,#ot-sdk-cookie-policy td{padding:12px 15px;text-align:left;border-bottom:1px solid #e1e1e1}#onetrust-banner-sdk button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy button{margin-bottom:1rem;font-family:inherit}#onetrust-banner-sdk .ot-sdk-container:after,#onetrust-banner-sdk .ot-sdk-row:after,#onetrust-pc-sdk .ot-sdk-container:after,#onetrust-pc-sdk .ot-sdk-row:after,#ot-sdk-cookie-policy .ot-sdk-container:after,#ot-sdk-cookie-policy .ot-sdk-row:after{content:"";display:table;clear:both}#onetrust-banner-sdk .ot-sdk-row,#onetrust-pc-sdk .ot-sdk-row,#ot-sdk-cookie-policy .ot-sdk-row{margin:0;max-width:none;display:block}#onetrust-banner-sdk{box-shadow:0 0 18px rgba(0,0,0,.2)}#onetrust-banner-sdk.otFloatingRounded{position:fixed;background-color:#fff;width:60%;max-width:700px;z-index:2147483645;border-radius:2.5px;bottom:2em;left:1em;font-size:16px;max-height:90%;overflow-y:auto;overflow-x:hidden}#onetrust-banner-sdk.otRelFont{font-size:1rem}#onetrust-banner-sdk.ot-bottom-left[dir=rtl]{right:1em}#onetrust-banner-sdk.ot-bottom-right{left:auto;right:1em}#onetrust-banner-sdk.ot-bottom-right[dir=rtl]{left:1em;right:auto}#onetrust-banner-sdk .accept-btn-only{float:none !important;width:100%}#onetrust-banner-sdk .cookie-settings-btn-only{width:100%}#onetrust-banner-sdk::-webkit-scrollbar{width:11px}#onetrust-banner-sdk::-webkit-scrollbar-thumb{border-radius:10px;background:#c1c1c1}#onetrust-banner-sdk{scrollbar-arrow-color:#c1c1c1;scrollbar-darkshadow-color:#c1c1c1;scrollbar-face-color:#c1c1c1;scrollbar-shadow-color:#c1c1c1}#onetrust-banner-sdk h3{margin-bottom:0}#onetrust-banner-sdk h3,#onetrust-banner-sdk p{color:dimgray}#onetrust-banner-sdk .ot-sdk-container{padding:0;width:100%;margin:0}#onetrust-banner-sdk #onetrust-policy{margin-top:40px}#onetrust-banner-sdk .ot-optout-signal{margin:0 1.875rem .625rem 1.875rem}#onetrust-banner-sdk #onetrust-policy-title,#onetrust-banner-sdk #onetrust-button-group{float:left}#onetrust-banner-sdk #onetrust-button-group-parent{padding:10px 30px 4px 30px}#onetrust-banner-sdk .ot-gv-list-handler{padding:0 30px 10px 30px;font-size:.812em;margin-bottom:0;border:0;line-height:normal;height:auto;width:auto}#onetrust-banner-sdk #onetrust-policy-text,#onetrust-banner-sdk .ot-b-addl-desc{padding:0 30px 10px 30px;clear:both;font-size:.813em;line-height:1.5;margin:0}#onetrust-banner-sdk #onetrust-policy-text>*,#onetrust-banner-sdk #onetrust-policy-text a,#onetrust-banner-sdk .ot-b-addl-desc>*,#onetrust-banner-sdk .ot-b-addl-desc a{margin-bottom:0px;font-size:inherit;line-height:inherit}#onetrust-banner-sdk #onetrust-policy-text a,#onetrust-banner-sdk .ot-b-addl-desc a{font-weight:bold}#onetrust-banner-sdk .ot-b-addl-desc{display:block}#onetrust-banner-sdk .ot-dpd-desc>.ot-b-addl-desc{padding:0;margin-top:10px;margin-bottom:10px;line-height:1.5;font-size:1em}#onetrust-banner-sdk #onetrust-policy-title{display:inline-block;max-width:calc(100% - 75px);padding-left:30px;font-size:1em;line-height:1.5;padding-bottom:10px}#onetrust-banner-sdk #onetrust-button-group{float:right}#onetrust-banner-sdk .onetrust-banner-options{float:right;max-width:55%}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{background-color:#68b631;color:#fff;border-color:#68b631;margin-right:1em;min-width:130px;height:auto;white-space:normal;word-break:break-word;word-wrap:break-word;padding:12px 10px;line-height:1.2;font-weight:600;font-size:.813em}#onetrust-banner-sdk #onetrust-accept-btn-handler{margin-right:0}#onetrust-banner-sdk #onetrust-pc-btn-handler{border:1px solid #68b631;min-width:175px;max-width:40%}#onetrust-banner-sdk #onetrust-pc-btn-handler.cookie-setting-link{background-color:#fff;border:none;color:#68b631;text-decoration:underline;margin-right:1rem}#onetrust-banner-sdk .has-reject-all-button #onetrust-button-group{width:100%}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler.cookie-setting-link{text-align:left;padding-left:0;padding-right:0}#onetrust-banner-sdk #onetrust-close-btn-container{right:20px;top:10px;position:absolute}#onetrust-banner-sdk .ot-close-icon{height:44px;width:44px;background-size:12px;margin:-10px -10px 0 0;display:inline-block;border:none;padding:0px}#onetrust-banner-sdk .banner_logo{display:none}#onetrust-banner-sdk.ot-bnr-w-logo #onetrust-policy{margin-top:75px}#onetrust-banner-sdk.ot-bnr-w-logo .ot-bnr-logo{position:absolute;top:10px;left:30px}#onetrust-banner-sdk #banner-options{float:left;padding:0 30px 0 30px;width:calc(100% - 60px)}#onetrust-banner-sdk .banner-option-input{cursor:pointer;width:auto;height:auto;border:none;padding:0;padding-right:3px;margin:0 0 6px;font-size:.82em;line-height:1.4}#onetrust-banner-sdk .banner-option-input *{pointer-events:none;font-size:inherit;line-height:inherit}#onetrust-banner-sdk .banner-option-input[aria-expanded=true] .ot-arrow-container{transform:rotate(90deg)}#onetrust-banner-sdk .banner-option-input[aria-expanded=true]~.banner-option-details{height:auto;display:block}#onetrust-banner-sdk .banner-option-header{cursor:pointer;display:inline-block}#onetrust-banner-sdk .banner-option-header :first-child{color:dimgray;font-weight:bold;float:left}#onetrust-banner-sdk .banner-option{margin-bottom:10px}#onetrust-banner-sdk .ot-arrow-container,#onetrust-banner-sdk .banner-option-details{transition:all 300ms ease-in 0s;-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s}#onetrust-banner-sdk .ot-arrow-container{display:inline-block;border-top:6px solid rgba(0,0,0,0);border-bottom:6px solid rgba(0,0,0,0);border-left:6px solid dimgray;margin-left:10px;vertical-align:middle}#onetrust-banner-sdk .banner-option-details{display:none;font-size:.83em;line-height:1.5;height:0px;padding:10px 10px 5px 10px}#onetrust-banner-sdk .banner-option-details *{font-size:inherit;line-height:inherit;color:dimgray}#onetrust-banner-sdk .ot-dpd-container{float:left;padding:0 30px 0 30px;clear:both}#onetrust-banner-sdk .ot-dpd-title{font-weight:bold;padding-bottom:10px;line-height:1.4;font-size:1em}#onetrust-banner-sdk .ot-dpd-desc{font-size:.813em;line-height:1.5}#onetrust-banner-sdk .ot-dpd-desc .onetrust-vendors-list-handler{display:block;margin-left:0px;margin-top:5px;padding:0;margin-bottom:0;border:0;line-height:normal;height:auto;width:auto}#onetrust-banner-sdk #onetrust-policy-text a{margin-left:5px}#onetrust-banner-sdk :not(.ot-dpd-desc)>.ot-b-addl-desc{font-size:.813em;line-height:1.5;margin:0;padding-bottom:10px}#onetrust-banner-sdk.ot-close-btn-link #onetrust-close-btn-container{top:15px;transform:none;right:15px}#onetrust-banner-sdk.ot-close-btn-link #onetrust-close-btn-container button{padding:0;white-space:pre-wrap;border:none;height:auto;line-height:1.5;text-decoration:underline;font-size:.69em}#onetrust-banner-sdk.ot-close-btn-link.ot-wo-title #onetrust-group-container{margin-top:20px}@media only screen and (max-width: 425px){#onetrust-banner-sdk #onetrust-button-group{margin-top:0}#onetrust-banner-sdk button{padding:0 20px}#onetrust-banner-sdk #onetrust-close-btn-container{right:15px}#onetrust-banner-sdk #onetrust-policy-title{padding-left:15px}#onetrust-banner-sdk #onetrust-button-group-parent,#onetrust-banner-sdk .ot-dpd-container{padding:0 15px 0px 15px}#onetrust-banner-sdk #onetrust-policy-text,#onetrust-banner-sdk .ot-gv-list-handler,#onetrust-banner-sdk :not(.ot-dpd-desc)>.ot-b-addl-desc{padding:0 15px 10px 15px}#onetrust-banner-sdk .ot-optout-signal{margin:0 1.875rem .625rem 1.875rem}#onetrust-banner-sdk #ot-gv-link-ctnr{margin-bottom:15px}#onetrust-banner-sdk #onetrust-button-group button{width:100%}#onetrust-banner-sdk #banner-options{padding:0 15px 0 15px;width:calc(100% - 30px)}#onetrust-banner-sdk .banner-option{margin-bottom:6px}#onetrust-banner-sdk #onetrust-button-group,#onetrust-banner-sdk .onetrust-banner-options{width:100%}#onetrust-banner-sdk #onetrust-pc-btn-handler{margin-right:0px}#onetrust-banner-sdk.otFloatingRounded,#onetrust-banner-sdk.otFloatingRounded[dir=rtl]{left:0;bottom:0;width:100%;right:0}}@media only screen and (max-width: 550px){#onetrust-banner-sdk .ot-close-icon{padding:0}#onetrust-banner-sdk.ot-close-btn-link #onetrust-group-container{margin-top:20px}}@media only screen and (min-width: 426px)and (max-width: 896px){#onetrust-banner-sdk.otFloatingRounded{width:95%}#onetrust-banner-sdk #onetrust-button-group-parent{width:100%}}@media only screen and (max-width: 640px){#onetrust-banner-sdk #onetrust-button-group{text-align:center}#onetrust-banner-sdk .onetrust-banner-options,#onetrust-banner-sdk #onetrust-pc-btn-handler{max-width:100%;display:inline-block;text-align:center}#onetrust-banner-sdk .has-reject-all-button .onetrust-banner-options{width:100%}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler.cookie-setting-link{text-align:center}}
        #onetrust-consent-sdk #onetrust-banner-sdk {background-color: #FFFFFF;}
            #onetrust-consent-sdk #onetrust-policy-title,
                    #onetrust-consent-sdk #onetrust-policy-text,
                    #onetrust-consent-sdk .ot-b-addl-desc,
                    #onetrust-consent-sdk .ot-dpd-desc,
                    #onetrust-consent-sdk .ot-dpd-title,
                    #onetrust-consent-sdk #onetrust-policy-text *:not(.onetrust-vendors-list-handler),
                    #onetrust-consent-sdk .ot-dpd-desc *:not(.onetrust-vendors-list-handler),
                    #onetrust-consent-sdk #onetrust-banner-sdk #banner-options *,
                    #onetrust-banner-sdk .ot-cat-header,
                    #onetrust-banner-sdk .ot-optout-signal
                    {
                        color: #696969;
                    }
            #onetrust-consent-sdk #onetrust-banner-sdk .banner-option-details {
                    background-color: #E9E9E9;}
             #onetrust-consent-sdk #onetrust-banner-sdk a[href],
                    #onetrust-consent-sdk #onetrust-banner-sdk a[href] font,
                    #onetrust-consent-sdk #onetrust-banner-sdk .ot-link-btn
                        {
                            color: #3860BE;
                        }#onetrust-consent-sdk #onetrust-accept-btn-handler,
                         #onetrust-banner-sdk #onetrust-reject-all-handler {
                            background-color: #346E4A;border-color: #346E4A;
                color: #FFFFFF;
            }
            #onetrust-consent-sdk #onetrust-banner-sdk *:focus,
            #onetrust-consent-sdk #onetrust-banner-sdk:focus {
               outline-color: #000000;
               outline-width: 1px;
            }
            #onetrust-consent-sdk #onetrust-pc-btn-handler,
            #onetrust-consent-sdk #onetrust-pc-btn-handler.cookie-setting-link {
                color: #346E4A; border-color: #346E4A;
                background-color:
                #FFFFFF;
            }#onetrust-pc-sdk.otPcCenter{overflow:hidden;position:fixed;margin:0 auto;top:5%;right:0;left:0;width:40%;max-width:575px;min-width:575px;border-radius:2.5px;z-index:2147483647;background-color:#fff;-webkit-box-shadow:0px 2px 10px -3px #999;-moz-box-shadow:0px 2px 10px -3px #999;box-shadow:0px 2px 10px -3px #999}#onetrust-pc-sdk.otPcCenter[dir=rtl]{right:0;left:0}#onetrust-pc-sdk.otRelFont{font-size:1rem}#onetrust-pc-sdk .ot-optout-signal{margin-top:.625rem}#onetrust-pc-sdk #ot-addtl-venlst .ot-arw-cntr,#onetrust-pc-sdk #ot-addtl-venlst .ot-plus-minus,#onetrust-pc-sdk .ot-hide-tgl{visibility:hidden}#onetrust-pc-sdk #ot-addtl-venlst .ot-arw-cntr *,#onetrust-pc-sdk #ot-addtl-venlst .ot-plus-minus *,#onetrust-pc-sdk .ot-hide-tgl *{visibility:hidden}#onetrust-pc-sdk #ot-gn-venlst .ot-ven-item .ot-acc-hdr{min-height:40px}#onetrust-pc-sdk .ot-pc-header{height:39px;padding:10px 0 10px 30px;border-bottom:1px solid #e9e9e9}#onetrust-pc-sdk #ot-pc-title,#onetrust-pc-sdk #ot-category-title,#onetrust-pc-sdk .ot-cat-header,#onetrust-pc-sdk #ot-lst-title,#onetrust-pc-sdk .ot-ven-hdr .ot-ven-name,#onetrust-pc-sdk .ot-always-active{font-weight:bold;color:dimgray}#onetrust-pc-sdk .ot-always-active-group .ot-cat-header{width:55%;font-weight:700}#onetrust-pc-sdk .ot-cat-item p{clear:both;float:left;margin-top:10px;margin-bottom:5px;line-height:1.5;font-size:.812em;color:dimgray}#onetrust-pc-sdk .ot-close-icon{height:44px;width:44px;background-size:10px}#onetrust-pc-sdk #ot-pc-title{float:left;font-size:1em;line-height:1.5;margin-bottom:10px;margin-top:10px;width:100%}#onetrust-pc-sdk #accept-recommended-btn-handler{margin-right:10px;margin-bottom:25px;position:relative;outline-offset:-1px}#onetrust-pc-sdk #ot-pc-desc{clear:both;width:100%;font-size:.812em;line-height:1.5;margin-bottom:25px}#onetrust-pc-sdk #ot-pc-desc *{font-size:inherit;line-height:inherit}#onetrust-pc-sdk #ot-pc-desc ul li{padding:10px 0px}#onetrust-pc-sdk a{color:#656565;cursor:pointer}#onetrust-pc-sdk a:hover{color:#3860be}#onetrust-pc-sdk label{margin-bottom:0}#onetrust-pc-sdk #vdr-lst-dsc{font-size:.812em;line-height:1.5;padding:10px 15px 5px 15px}#onetrust-pc-sdk button{max-width:394px;padding:12px 30px;line-height:1;word-break:break-word;word-wrap:break-word;white-space:normal;font-weight:bold;height:auto}#onetrust-pc-sdk .ot-link-btn{padding:0;margin-bottom:0;border:0;font-weight:normal;line-height:normal;width:auto;height:auto}#onetrust-pc-sdk #ot-pc-content{position:absolute;overflow-y:scroll;padding-left:2px;padding-right:30px;top:60px;bottom:110px;margin:1px 3px 0 30px;width:calc(100% - 63px)}#onetrust-pc-sdk .ot-vs-list .ot-always-active,#onetrust-pc-sdk .ot-cat-grp .ot-always-active{float:right;clear:none;color:#3860be;margin:0;font-size:.813em;line-height:1.3}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar-track{margin-right:20px}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar{width:11px}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar-thumb{border-radius:10px;background:#d8d8d8}#onetrust-pc-sdk input[type=checkbox]:focus+.ot-acc-hdr{outline:#000 1px solid}#onetrust-pc-sdk .ot-pc-scrollbar{scrollbar-arrow-color:#d8d8d8;scrollbar-darkshadow-color:#d8d8d8;scrollbar-face-color:#d8d8d8;scrollbar-shadow-color:#d8d8d8}#onetrust-pc-sdk .save-preference-btn-handler{margin-right:20px}#onetrust-pc-sdk .ot-pc-refuse-all-handler{margin-right:10px}#onetrust-pc-sdk #ot-pc-desc .privacy-notice-link{margin-left:0;margin-right:8px}#onetrust-pc-sdk #ot-pc-desc .ot-imprint-handler{margin-left:0;margin-right:8px}#onetrust-pc-sdk .ot-subgrp-cntr{display:inline-block;clear:both;width:100%;padding-top:15px}#onetrust-pc-sdk .ot-switch+.ot-subgrp-cntr{padding-top:10px}#onetrust-pc-sdk ul.ot-subgrps{margin:0;font-size:initial}#onetrust-pc-sdk ul.ot-subgrps li p,#onetrust-pc-sdk ul.ot-subgrps li h5{font-size:.813em;line-height:1.4;color:dimgray}#onetrust-pc-sdk ul.ot-subgrps .ot-switch{min-height:auto}#onetrust-pc-sdk ul.ot-subgrps .ot-switch-nob{top:0}#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr{display:inline-block;width:100%}#onetrust-pc-sdk ul.ot-subgrps .ot-acc-txt{margin:0}#onetrust-pc-sdk ul.ot-subgrps li{padding:0;border:none}#onetrust-pc-sdk ul.ot-subgrps li h5{position:relative;top:5px;font-weight:bold;margin-bottom:0;float:left}#onetrust-pc-sdk li.ot-subgrp{margin-left:20px;overflow:auto}#onetrust-pc-sdk li.ot-subgrp>h5{width:calc(100% - 100px)}#onetrust-pc-sdk .ot-cat-item p>ul,#onetrust-pc-sdk li.ot-subgrp p>ul{margin:0px;list-style:disc;margin-left:15px;font-size:inherit}#onetrust-pc-sdk .ot-cat-item p>ul li,#onetrust-pc-sdk li.ot-subgrp p>ul li{font-size:inherit;padding-top:10px;padding-left:0px;padding-right:0px;border:none}#onetrust-pc-sdk .ot-cat-item p>ul li:last-child,#onetrust-pc-sdk li.ot-subgrp p>ul li:last-child{padding-bottom:10px}#onetrust-pc-sdk .ot-pc-logo{height:40px;width:120px}#onetrust-pc-sdk .ot-pc-footer{position:absolute;bottom:0px;width:100%;max-height:160px;border-top:1px solid #d8d8d8}#onetrust-pc-sdk.ot-ftr-stacked .ot-pc-refuse-all-handler{margin-bottom:0px}#onetrust-pc-sdk.ot-ftr-stacked #ot-pc-content{bottom:160px}#onetrust-pc-sdk.ot-ftr-stacked .ot-pc-footer button{width:100%;max-width:none}#onetrust-pc-sdk.ot-ftr-stacked .ot-btn-container{margin:0 30px;width:calc(100% - 60px);padding-right:0}#onetrust-pc-sdk .ot-pc-footer-logo{height:30px;width:100%;text-align:right;background:#f4f4f4}#onetrust-pc-sdk .ot-pc-footer-logo a{display:inline-block;margin-top:5px;margin-right:10px}#onetrust-pc-sdk[dir=rtl] .ot-pc-footer-logo{direction:rtl}#onetrust-pc-sdk[dir=rtl] .ot-pc-footer-logo a{margin-right:25px}#onetrust-pc-sdk .ot-tgl{float:right;position:relative;z-index:1}#onetrust-pc-sdk .ot-tgl input:checked+.ot-switch .ot-switch-nob{background-color:#468254;border:1px solid #fff}#onetrust-pc-sdk .ot-tgl input:checked+.ot-switch .ot-switch-nob:before{-webkit-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);background-color:#fff;border-color:#fff}#onetrust-pc-sdk .ot-tgl input:focus+.ot-switch{outline:#000 solid 1px}#onetrust-pc-sdk .ot-switch{position:relative;display:inline-block;width:45px;height:25px}#onetrust-pc-sdk .ot-switch-nob{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#767676;border:1px solid #ddd;transition:all .2s ease-in 0s;-moz-transition:all .2s ease-in 0s;-o-transition:all .2s ease-in 0s;-webkit-transition:all .2s ease-in 0s;border-radius:20px}#onetrust-pc-sdk .ot-switch-nob:before{position:absolute;content:"";height:18px;width:18px;bottom:3px;left:3px;background-color:#fff;-webkit-transition:.4s;transition:.4s;border-radius:20px}#onetrust-pc-sdk .ot-chkbox input:checked~label::before{background-color:#3860be}#onetrust-pc-sdk .ot-chkbox input+label::after{content:none;color:#fff}#onetrust-pc-sdk .ot-chkbox input:checked+label::after{content:""}#onetrust-pc-sdk .ot-chkbox input:focus+label::before{outline-style:solid;outline-width:2px;outline-style:auto}#onetrust-pc-sdk .ot-chkbox input[aria-checked=mixed]~label::before{background-color:#3860be}#onetrust-pc-sdk .ot-chkbox input[aria-checked=mixed]+label::after{content:""}#onetrust-pc-sdk .ot-chkbox label{position:relative;display:inline-block;padding-left:30px;cursor:pointer;font-weight:500}#onetrust-pc-sdk .ot-chkbox label::before,#onetrust-pc-sdk .ot-chkbox label::after{position:absolute;content:"";display:inline-block;border-radius:3px}#onetrust-pc-sdk .ot-chkbox label::before{height:18px;width:18px;border:1px solid #3860be;left:0px;top:auto}#onetrust-pc-sdk .ot-chkbox label::after{height:5px;width:9px;border-left:3px solid;border-bottom:3px solid;transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);left:4px;top:5px}#onetrust-pc-sdk .ot-label-txt{display:none}#onetrust-pc-sdk .ot-chkbox input,#onetrust-pc-sdk .ot-tgl input{position:absolute;opacity:0;width:0;height:0}#onetrust-pc-sdk .ot-arw-cntr{float:right;position:relative;pointer-events:none}#onetrust-pc-sdk .ot-arw-cntr .ot-arw{width:16px;height:16px;margin-left:5px;color:dimgray;display:inline-block;vertical-align:middle;-webkit-transition:all 150ms ease-in 0s;-moz-transition:all 150ms ease-in 0s;-o-transition:all 150ms ease-in 0s;transition:all 150ms ease-in 0s}#onetrust-pc-sdk input:checked~.ot-acc-hdr .ot-arw,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-arw-cntr svg{transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg)}#onetrust-pc-sdk input[type=checkbox]:focus+.ot-acc-hdr{outline:#000 1px solid}#onetrust-pc-sdk .ot-tgl-cntr,#onetrust-pc-sdk .ot-arw-cntr{display:inline-block}#onetrust-pc-sdk .ot-tgl-cntr{float:right;margin-top:2px}#onetrust-pc-sdk #ot-lst-cnt .ot-tgl-cntr{margin-top:10px}#onetrust-pc-sdk .ot-always-active-subgroup{width:auto;padding-left:0px !important;top:3px;position:relative}#onetrust-pc-sdk .ot-label-status{font-size:.75em;display:none;font-size:.75em;position:relative;top:2px;padding-right:5px;float:left}#onetrust-pc-sdk .ot-arw-cntr{margin-top:-1px}#onetrust-pc-sdk .ot-arw-cntr svg{-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s;transition:all 300ms ease-in 0s;height:10px;width:10px}#onetrust-pc-sdk input:checked~.ot-acc-hdr .ot-arw{transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg)}#onetrust-pc-sdk .ot-arw{width:10px;margin-left:15px;transition:all 300ms ease-in 0s;-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s}#onetrust-pc-sdk .ot-vlst-cntr{margin-bottom:0}#onetrust-pc-sdk .ot-hlst-cntr{margin-top:5px;display:inline-block;width:100%}#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a,#onetrust-pc-sdk .category-host-list-handler{clear:both;color:#3860be;margin-left:0;font-size:.813em;text-decoration:none;float:left;overflow:hidden}#onetrust-pc-sdk .category-vendors-list-handler:hover,#onetrust-pc-sdk .category-vendors-list-handler+a:hover,#onetrust-pc-sdk .category-host-list-handler:hover{text-decoration-line:underline}#onetrust-pc-sdk .category-vendors-list-handler+a{clear:none}#onetrust-pc-sdk .ot-vlst-cntr .ot-ext-lnk,#onetrust-pc-sdk .ot-ven-hdr .ot-ext-lnk{display:inline-block;height:13px;width:13px;background-repeat:no-repeat;margin-left:1px;margin-top:6px;cursor:pointer}#onetrust-pc-sdk .ot-ven-hdr .ot-ext-lnk{margin-bottom:-1px}#onetrust-pc-sdk .back-btn-handler{font-size:1em;text-decoration:none}#onetrust-pc-sdk .back-btn-handler:hover{opacity:.6}#onetrust-pc-sdk #ot-lst-title h3{display:inline-block;word-break:break-word;word-wrap:break-word;margin-bottom:0;color:#656565;font-size:1em;font-weight:bold;margin-left:15px}#onetrust-pc-sdk #ot-lst-title{margin:10px 0 10px 0px;font-size:1em;text-align:left}#onetrust-pc-sdk #ot-pc-hdr{margin:0 0 0 30px;height:auto;width:auto}#onetrust-pc-sdk #ot-pc-hdr input::placeholder{color:#707070;font-style:italic}#onetrust-pc-sdk #vendor-search-handler{height:31px;width:100%;border-radius:50px;font-size:.8em;padding-right:35px;padding-left:15px;float:left;margin-left:15px}#onetrust-pc-sdk .ot-ven-name{display:block;width:auto;padding-right:5px}#onetrust-pc-sdk #ot-lst-cnt{overflow-y:auto;margin-left:20px;margin-right:7px;width:calc(100% - 27px);max-height:calc(100% - 80px);height:100%;transform:translate3d(0, 0, 0)}#onetrust-pc-sdk #ot-pc-lst{width:100%;bottom:100px;position:absolute;top:60px}#onetrust-pc-sdk #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr .ot-arw-cntr,#onetrust-pc-sdk #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr .ot-arw-cntr *{visibility:hidden}#onetrust-pc-sdk #ot-pc-lst .ot-tgl-cntr{right:12px;position:absolute}#onetrust-pc-sdk #ot-pc-lst .ot-arw-cntr{float:right;position:relative}#onetrust-pc-sdk #ot-pc-lst .ot-arw{margin-left:10px}#onetrust-pc-sdk #ot-pc-lst .ot-acc-hdr{overflow:hidden;cursor:pointer}#onetrust-pc-sdk .ot-vlst-cntr{overflow:hidden}#onetrust-pc-sdk #ot-sel-blk{overflow:hidden;width:100%;position:sticky;position:-webkit-sticky;top:0;z-index:3}#onetrust-pc-sdk #ot-back-arw{height:12px;width:12px}#onetrust-pc-sdk .ot-lst-subhdr{width:100%;display:inline-block}#onetrust-pc-sdk .ot-search-cntr{float:left;width:78%;position:relative}#onetrust-pc-sdk .ot-search-cntr>svg{width:30px;height:30px;position:absolute;float:left;right:-15px}#onetrust-pc-sdk .ot-fltr-cntr{float:right;right:50px;position:relative}#onetrust-pc-sdk #filter-btn-handler{background-color:#3860be;border-radius:17px;display:inline-block;position:relative;width:32px;height:32px;-moz-transition:.1s ease;-o-transition:.1s ease;-webkit-transition:1s ease;transition:.1s ease;padding:0;margin:0}#onetrust-pc-sdk #filter-btn-handler:hover{background-color:#3860be}#onetrust-pc-sdk #filter-btn-handler svg{width:12px;height:12px;margin:3px 10px 0 10px;display:block;position:static;right:auto;top:auto}#onetrust-pc-sdk .ot-ven-link,#onetrust-pc-sdk .ot-ven-legclaim-link{color:#3860be;text-decoration:none;font-weight:100;display:inline-block;padding-top:10px;transform:translate(0, 1%);-o-transform:translate(0, 1%);-ms-transform:translate(0, 1%);-webkit-transform:translate(0, 1%);position:relative;z-index:2}#onetrust-pc-sdk .ot-ven-link *,#onetrust-pc-sdk .ot-ven-legclaim-link *{font-size:inherit}#onetrust-pc-sdk .ot-ven-link:hover,#onetrust-pc-sdk .ot-ven-legclaim-link:hover{text-decoration:underline}#onetrust-pc-sdk .ot-ven-hdr{width:calc(100% - 160px);height:auto;float:left;word-break:break-word;word-wrap:break-word;vertical-align:middle;padding-bottom:3px}#onetrust-pc-sdk .ot-ven-link,#onetrust-pc-sdk .ot-ven-legclaim-link{letter-spacing:.03em;font-size:.75em;font-weight:400}#onetrust-pc-sdk .ot-ven-dets{border-radius:2px;background-color:#f8f8f8}#onetrust-pc-sdk .ot-ven-dets li:first-child p:first-child{border-top:none}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:not(:first-child){border-top:1px solid #ddd !important}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p{display:inline-block}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p:nth-of-type(odd){width:30%}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p:nth-of-type(even){width:50%;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc p,#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc h5{padding-top:5px;padding-bottom:5px;display:block}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc h5{display:inline-block}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc p:nth-last-child(-n+1){padding-bottom:10px}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc p:nth-child(-n+2):not(.disc-pur){padding-top:10px}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc .disc-pur-cont{display:inline}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc .disc-pur{position:relative;width:50% !important;word-break:break-word;word-wrap:break-word;left:calc(30% + 17px)}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc .disc-pur:nth-child(-n+1){position:static}#onetrust-pc-sdk .ot-ven-dets p,#onetrust-pc-sdk .ot-ven-dets h5,#onetrust-pc-sdk .ot-ven-dets span{font-size:.69em;text-align:left;vertical-align:middle;word-break:break-word;word-wrap:break-word;margin:0;padding-bottom:10px;padding-left:15px;color:#2e3644}#onetrust-pc-sdk .ot-ven-dets h5{padding-top:5px}#onetrust-pc-sdk .ot-ven-dets span{color:dimgray;padding:0;vertical-align:baseline}#onetrust-pc-sdk .ot-ven-dets .ot-ven-pur h5{border-top:1px solid #e9e9e9;border-bottom:1px solid #e9e9e9;padding-bottom:5px;margin-bottom:5px;font-weight:bold}#onetrust-pc-sdk #ot-host-lst .ot-sel-all{float:right;position:relative;margin-right:42px;top:10px}#onetrust-pc-sdk #ot-host-lst .ot-sel-all input[type=checkbox]{width:auto;height:auto}#onetrust-pc-sdk #ot-host-lst .ot-sel-all label{height:20px;width:20px;padding-left:0px}#onetrust-pc-sdk #ot-host-lst .ot-acc-txt{overflow:hidden;width:95%}#onetrust-pc-sdk .ot-host-hdr{position:relative;z-index:1;pointer-events:none;width:calc(100% - 125px);float:left}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-desc{display:inline-block;width:90%}#onetrust-pc-sdk .ot-host-name{pointer-events:none}#onetrust-pc-sdk .ot-host-hdr>a{text-decoration:underline;font-size:.82em;position:relative;z-index:2;float:left;margin-bottom:5px;pointer-events:initial}#onetrust-pc-sdk .ot-host-name+a{margin-top:5px}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-name a,#onetrust-pc-sdk .ot-host-desc,#onetrust-pc-sdk .ot-host-info{color:dimgray;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-name a{font-weight:bold;font-size:.82em;line-height:1.3}#onetrust-pc-sdk .ot-host-name a{font-size:1em}#onetrust-pc-sdk .ot-host-expand{margin-top:3px;margin-bottom:3px;clear:both;display:block;color:#3860be;font-size:.72em;font-weight:normal}#onetrust-pc-sdk .ot-host-expand *{font-size:inherit}#onetrust-pc-sdk .ot-host-desc,#onetrust-pc-sdk .ot-host-info{font-size:.688em;line-height:1.4;font-weight:normal}#onetrust-pc-sdk .ot-host-desc{margin-top:10px}#onetrust-pc-sdk .ot-host-opt{margin:0;font-size:inherit;display:inline-block;width:100%}#onetrust-pc-sdk .ot-host-opt li>div div{font-size:.8em;padding:5px 0}#onetrust-pc-sdk .ot-host-opt li>div div:nth-child(1){width:30%;float:left}#onetrust-pc-sdk .ot-host-opt li>div div:nth-child(2){width:70%;float:left;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-host-info{border:none;display:inline-block;width:calc(100% - 10px);padding:10px;margin-bottom:10px;background-color:#f8f8f8}#onetrust-pc-sdk .ot-host-info>div{overflow:auto}#onetrust-pc-sdk #no-results{text-align:center;margin-top:30px}#onetrust-pc-sdk #no-results p{font-size:1em;color:#2e3644;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk #no-results p span{font-weight:bold}#onetrust-pc-sdk #ot-fltr-modal{width:100%;height:auto;display:none;-moz-transition:.2s ease;-o-transition:.2s ease;-webkit-transition:2s ease;transition:.2s ease;overflow:hidden;opacity:1;right:0}#onetrust-pc-sdk #ot-fltr-modal .ot-label-txt{display:inline-block;font-size:.85em;color:dimgray}#onetrust-pc-sdk #ot-fltr-cnt{z-index:2147483646;background-color:#fff;position:absolute;height:90%;max-height:300px;width:325px;left:210px;margin-top:10px;margin-bottom:20px;padding-right:10px;border-radius:3px;-webkit-box-shadow:0px 0px 12px 2px #c7c5c7;-moz-box-shadow:0px 0px 12px 2px #c7c5c7;box-shadow:0px 0px 12px 2px #c7c5c7}#onetrust-pc-sdk .ot-fltr-scrlcnt{overflow-y:auto;overflow-x:hidden;clear:both;max-height:calc(100% - 60px)}#onetrust-pc-sdk #ot-anchor{border:12px solid rgba(0,0,0,0);display:none;position:absolute;z-index:2147483647;right:55px;top:75px;transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);background-color:#fff;-webkit-box-shadow:-3px -3px 5px -2px #c7c5c7;-moz-box-shadow:-3px -3px 5px -2px #c7c5c7;box-shadow:-3px -3px 5px -2px #c7c5c7}#onetrust-pc-sdk .ot-fltr-btns{margin-left:15px}#onetrust-pc-sdk #filter-apply-handler{margin-right:15px}#onetrust-pc-sdk .ot-fltr-opt{margin-bottom:5px;margin-left:15px;min-height:20px;width:75%;position:relative}#onetrust-pc-sdk .ot-fltr-opt p{display:inline-block;margin:0;font-size:.9em;color:#2e3644}#onetrust-pc-sdk .ot-chkbox label span{font-size:.85em;color:dimgray}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]+label::after{content:none;color:#fff}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]:checked+label::after{content:""}#onetrust-pc-sdk .ot-chkbox input[type=checkbox][aria-checked=mixed]+label::after{content:""}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]:focus+label::before{outline-style:solid;outline-width:2px;outline-style:auto}#onetrust-pc-sdk #ot-selall-vencntr,#onetrust-pc-sdk #ot-selall-adtlvencntr,#onetrust-pc-sdk #ot-selall-hostcntr,#onetrust-pc-sdk #ot-selall-licntr,#onetrust-pc-sdk #ot-selall-gnvencntr{right:15px;position:relative;width:20px;height:20px;float:right}#onetrust-pc-sdk #ot-selall-vencntr label,#onetrust-pc-sdk #ot-selall-adtlvencntr label,#onetrust-pc-sdk #ot-selall-hostcntr label,#onetrust-pc-sdk #ot-selall-licntr label,#onetrust-pc-sdk #ot-selall-gnvencntr label{float:left;padding-left:0}#onetrust-pc-sdk #ot-ven-lst:first-child{border-top:1px solid #e2e2e2}#onetrust-pc-sdk ul{list-style:none;padding:0}#onetrust-pc-sdk ul li{position:relative;margin:0;padding:15px 15px 15px 10px;border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk ul li h3,#onetrust-pc-sdk ul li h4{font-size:.75em;color:#656565;margin:0;display:inline-block;width:70%;height:auto;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk ul li p{margin:0;font-size:.7em}#onetrust-pc-sdk ul li input[type=checkbox]{position:absolute;cursor:pointer;width:100%;height:100%;opacity:0;margin:0;top:0;left:0}#onetrust-pc-sdk .ot-cat-item>button:focus,#onetrust-pc-sdk .ot-acc-cntr>button:focus,#onetrust-pc-sdk li>button:focus{outline:#000 solid 2px}#onetrust-pc-sdk .ot-cat-item>button,#onetrust-pc-sdk .ot-acc-cntr>button,#onetrust-pc-sdk li>button{position:absolute;cursor:pointer;width:100%;height:100%;margin:0;top:0;left:0;z-index:1;max-width:none;border:none}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=false]~.ot-acc-txt,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=false]~.ot-acc-txt,#onetrust-pc-sdk li>button[aria-expanded=false]~.ot-acc-txt{margin-top:0;max-height:0;opacity:0;overflow:hidden;width:100%;transition:.25s ease-out;display:none}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=true]~.ot-acc-txt,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=true]~.ot-acc-txt,#onetrust-pc-sdk li>button[aria-expanded=true]~.ot-acc-txt{transition:.1s ease-in;margin-top:10px;width:100%;overflow:auto;display:block}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=true]~.ot-acc-grpcntr,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=true]~.ot-acc-grpcntr,#onetrust-pc-sdk li>button[aria-expanded=true]~.ot-acc-grpcntr{width:auto;margin-top:0px;padding-bottom:10px}#onetrust-pc-sdk .ot-host-item>button:focus,#onetrust-pc-sdk .ot-ven-item>button:focus{outline:0;border:2px solid #000}#onetrust-pc-sdk .ot-hide-acc>button{pointer-events:none}#onetrust-pc-sdk .ot-hide-acc .ot-plus-minus>*,#onetrust-pc-sdk .ot-hide-acc .ot-arw-cntr>*{visibility:hidden}#onetrust-pc-sdk .ot-hide-acc .ot-acc-hdr{min-height:30px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt){padding-right:10px;width:calc(100% - 37px);margin-top:10px;max-height:calc(100% - 90px)}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk{background-color:#f9f9fc;border:1px solid #e2e2e2;width:calc(100% - 2px);padding-bottom:5px;padding-top:5px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk.ot-vnd-list-cnt{border:unset;background-color:unset}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk.ot-vnd-list-cnt .ot-sel-all-hdr{display:none}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk.ot-vnd-list-cnt .ot-sel-all{padding-right:.5rem}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk.ot-vnd-list-cnt .ot-sel-all .ot-chkbox{right:0}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-sel-all{padding-right:34px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-sel-all-chkbox{width:auto}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) ul li{border:1px solid #e2e2e2;margin-bottom:10px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-acc-cntr>.ot-acc-hdr{padding:10px 0 10px 15px}#onetrust-pc-sdk.ot-addtl-vendors .ot-sel-all-chkbox{float:right}#onetrust-pc-sdk.ot-addtl-vendors .ot-plus-minus~.ot-sel-all-chkbox{right:34px}#onetrust-pc-sdk.ot-addtl-vendors #ot-ven-lst:first-child{border-top:none}#onetrust-pc-sdk .ot-acc-cntr{position:relative;border-left:1px solid #e2e2e2;border-right:1px solid #e2e2e2;border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk .ot-acc-cntr input{z-index:1}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr{background-color:#f9f9fc;padding:5px 0 5px 15px;width:auto}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr .ot-plus-minus{vertical-align:middle;top:auto}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr .ot-arw-cntr{right:10px}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr input{z-index:2}#onetrust-pc-sdk .ot-acc-cntr.ot-add-tech .ot-acc-hdr{padding:10px 0 10px 15px}#onetrust-pc-sdk .ot-acc-cntr>input[type=checkbox]:checked~.ot-acc-hdr{border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-txt{padding-left:10px;padding-right:10px}#onetrust-pc-sdk .ot-acc-cntr button[aria-expanded=true]~.ot-acc-txt{width:auto}#onetrust-pc-sdk .ot-acc-cntr .ot-addtl-venbox{display:none}#onetrust-pc-sdk .ot-vlst-cntr{margin-bottom:0;width:100%}#onetrust-pc-sdk .ot-vensec-title{font-size:.813em;vertical-align:middle;display:inline-block}#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a{margin-left:0;margin-top:10px}#onetrust-pc-sdk #ot-selall-vencntr.line-through label::after,#onetrust-pc-sdk #ot-selall-adtlvencntr.line-through label::after,#onetrust-pc-sdk #ot-selall-licntr.line-through label::after,#onetrust-pc-sdk #ot-selall-hostcntr.line-through label::after,#onetrust-pc-sdk #ot-selall-gnvencntr.line-through label::after{height:auto;border-left:0;transform:none;-o-transform:none;-ms-transform:none;-webkit-transform:none;left:5px;top:9px}#onetrust-pc-sdk #ot-category-title{float:left;padding-bottom:10px;font-size:1em;width:100%}#onetrust-pc-sdk .ot-cat-grp{margin-top:10px}#onetrust-pc-sdk .ot-cat-item{line-height:1.1;margin-top:10px;display:inline-block;width:100%}#onetrust-pc-sdk .ot-btn-container{text-align:right}#onetrust-pc-sdk .ot-btn-container button{display:inline-block;font-size:.75em;letter-spacing:.08em;margin-top:19px}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon{position:absolute;top:10px;right:0;z-index:1;padding:0;background-color:rgba(0,0,0,0);border:none}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon svg{display:block;height:10px;width:10px}#onetrust-pc-sdk #clear-filters-handler{margin-top:20px;margin-bottom:10px;float:right;max-width:200px;text-decoration:none;color:#3860be;font-size:.9em;font-weight:bold;background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0);padding:1px}#onetrust-pc-sdk #clear-filters-handler:hover{color:#2285f7}#onetrust-pc-sdk #clear-filters-handler:focus{outline:#000 solid 1px}#onetrust-pc-sdk .ot-enbl-chr h4~.ot-tgl,#onetrust-pc-sdk .ot-enbl-chr h4~.ot-always-active{right:45px}#onetrust-pc-sdk .ot-enbl-chr h4~.ot-tgl+.ot-tgl{right:120px}#onetrust-pc-sdk .ot-enbl-chr .ot-pli-hdr.ot-leg-border-color span:first-child{width:90px}#onetrust-pc-sdk .ot-enbl-chr li.ot-subgrp>h5+.ot-tgl-cntr{padding-right:25px}#onetrust-pc-sdk .ot-plus-minus{width:20px;height:20px;font-size:1.5em;position:relative;display:inline-block;margin-right:5px;top:3px}#onetrust-pc-sdk .ot-plus-minus span{position:absolute;background:#27455c;border-radius:1px}#onetrust-pc-sdk .ot-plus-minus span:first-of-type{top:25%;bottom:25%;width:10%;left:45%}#onetrust-pc-sdk .ot-plus-minus span:last-of-type{left:25%;right:25%;height:10%;top:45%}#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-arw,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:first-of-type,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:last-of-type{transform:rotate(90deg)}#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:last-of-type{left:50%;right:50%}#onetrust-pc-sdk #ot-selall-vencntr label,#onetrust-pc-sdk #ot-selall-adtlvencntr label,#onetrust-pc-sdk #ot-selall-hostcntr label,#onetrust-pc-sdk #ot-selall-licntr label{position:relative;display:inline-block;width:20px;height:20px}#onetrust-pc-sdk .ot-host-item .ot-plus-minus,#onetrust-pc-sdk .ot-ven-item .ot-plus-minus{float:left;margin-right:8px;top:10px}#onetrust-pc-sdk .ot-ven-item ul{list-style:none inside;font-size:100%;margin:0}#onetrust-pc-sdk .ot-ven-item ul li{margin:0 !important;padding:0;border:none !important}#onetrust-pc-sdk .ot-pli-hdr{color:#77808e;overflow:hidden;padding-top:7.5px;padding-bottom:7.5px;width:calc(100% - 2px);border-top-left-radius:3px;border-top-right-radius:3px}#onetrust-pc-sdk .ot-pli-hdr span:first-child{top:50%;transform:translateY(50%);max-width:90px}#onetrust-pc-sdk .ot-pli-hdr span:last-child{padding-right:10px;max-width:95px;text-align:center}#onetrust-pc-sdk .ot-li-title{float:right;font-size:.813em}#onetrust-pc-sdk .ot-pli-hdr.ot-leg-border-color{background-color:#f4f4f4;border:1px solid #d8d8d8}#onetrust-pc-sdk .ot-pli-hdr.ot-leg-border-color span:first-child{text-align:left;width:70px}#onetrust-pc-sdk li.ot-subgrp>h5,#onetrust-pc-sdk .ot-cat-header{width:calc(100% - 130px)}#onetrust-pc-sdk li.ot-subgrp>h5+.ot-tgl-cntr{padding-left:13px}#onetrust-pc-sdk .ot-acc-grpcntr .ot-acc-grpdesc{margin-bottom:5px}#onetrust-pc-sdk .ot-acc-grpcntr .ot-subgrp-cntr{border-top:1px solid #d8d8d8}#onetrust-pc-sdk .ot-acc-grpcntr .ot-vlst-cntr+.ot-subgrp-cntr{border-top:none}#onetrust-pc-sdk .ot-acc-hdr .ot-arw-cntr+.ot-tgl-cntr,#onetrust-pc-sdk .ot-acc-txt h4+.ot-tgl-cntr{padding-left:13px}#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-subgrp>h5,#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-cat-header{width:calc(100% - 145px)}#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item h5+.ot-tgl-cntr,#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-cat-header+.ot-tgl{padding-left:28px}#onetrust-pc-sdk .ot-sel-all-hdr,#onetrust-pc-sdk .ot-sel-all-chkbox{display:inline-block;width:100%;position:relative}#onetrust-pc-sdk .ot-sel-all-chkbox{z-index:1}#onetrust-pc-sdk .ot-sel-all{margin:0;position:relative;padding-right:23px;float:right}#onetrust-pc-sdk .ot-consent-hdr,#onetrust-pc-sdk .ot-li-hdr{float:right;font-size:.812em;line-height:normal;text-align:center;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-li-hdr{max-width:100px;padding-right:10px}#onetrust-pc-sdk .ot-consent-hdr{max-width:55px}#onetrust-pc-sdk #ot-selall-licntr{display:block;width:21px;height:auto;float:right;position:relative;right:80px}#onetrust-pc-sdk #ot-selall-licntr label{position:absolute}#onetrust-pc-sdk .ot-ven-ctgl{margin-left:66px}#onetrust-pc-sdk .ot-ven-litgl+.ot-arw-cntr{margin-left:81px}#onetrust-pc-sdk .ot-enbl-chr .ot-host-cnt .ot-tgl-cntr{width:auto}#onetrust-pc-sdk #ot-lst-cnt:not(.ot-host-cnt) .ot-tgl-cntr{width:auto;top:auto;height:20px}#onetrust-pc-sdk #ot-lst-cnt .ot-chkbox{position:relative;display:inline-block;width:20px;height:20px}#onetrust-pc-sdk #ot-lst-cnt .ot-chkbox label{position:absolute;padding:0;width:20px;height:20px}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info-cntr{border:1px solid #d8d8d8;padding:.75rem 2rem;padding-bottom:0;width:auto;margin-top:.5rem}#onetrust-pc-sdk .ot-acc-grpdesc+.ot-leg-btn-container{padding-left:20px;padding-right:20px;width:calc(100% - 40px);margin-bottom:5px}#onetrust-pc-sdk .ot-subgrp .ot-leg-btn-container{margin-bottom:5px}#onetrust-pc-sdk #ot-ven-lst .ot-leg-btn-container{margin-top:10px}#onetrust-pc-sdk .ot-leg-btn-container{display:inline-block;width:100%;margin-bottom:10px}#onetrust-pc-sdk .ot-leg-btn-container button{height:auto;padding:6.5px 8px;margin-bottom:0;letter-spacing:0;font-size:.75em;line-height:normal}#onetrust-pc-sdk .ot-leg-btn-container svg{display:none;height:14px;width:14px;padding-right:5px;vertical-align:sub}#onetrust-pc-sdk .ot-active-leg-btn{cursor:default;pointer-events:none}#onetrust-pc-sdk .ot-active-leg-btn svg{display:inline-block}#onetrust-pc-sdk .ot-remove-objection-handler{text-decoration:underline;padding:0;font-size:.75em;font-weight:600;line-height:1;padding-left:10px}#onetrust-pc-sdk .ot-obj-leg-btn-handler span{font-weight:bold;text-align:center;font-size:inherit;line-height:1.5}#onetrust-pc-sdk.ot-close-btn-link #close-pc-btn-handler{border:none;height:auto;line-height:1.5;text-decoration:underline;font-size:.69em;background:none;right:15px;top:15px;width:auto;font-weight:normal}#onetrust-pc-sdk .ot-pgph-link{font-size:.813em !important;margin-top:10px;position:relative}#onetrust-pc-sdk .ot-pgph-link.ot-pgph-link-subgroup{margin-bottom:1rem}#onetrust-pc-sdk .ot-accordion-layout .ot-pgph-link{margin-top:5px}#onetrust-pc-sdk .ot-pgph-contr{margin:0 2.5rem}#onetrust-pc-sdk .ot-pgph-title{font-size:1.18rem;margin-bottom:2rem}#onetrust-pc-sdk .ot-pgph-desc{font-size:1rem;font-weight:400;margin-bottom:2rem;line-height:1.5rem}#onetrust-pc-sdk .ot-pgph-desc:not(:last-child):after{content:"";width:96%;display:block;margin:0 auto;padding-bottom:2rem;border-bottom:1px solid #e9e9e9}#onetrust-pc-sdk .ot-cat-header{float:left;font-weight:600;font-size:.875em;line-height:1.5;max-width:90%;vertical-align:middle}#onetrust-pc-sdk .ot-vnd-item>button:focus{outline:#000 solid 2px}#onetrust-pc-sdk .ot-vnd-item>button{position:absolute;cursor:pointer;width:100%;height:100%;margin:0;top:0;left:0;z-index:1;max-width:none;border:none}#onetrust-pc-sdk .ot-vnd-item>button[aria-expanded=false]~.ot-acc-txt{margin-top:0;max-height:0;opacity:0;overflow:hidden;width:100%;transition:.25s ease-out;display:none}#onetrust-pc-sdk .ot-vnd-item>button[aria-expanded=true]~.ot-acc-txt{transition:.1s ease-in;margin-top:10px;width:100%;overflow:auto;display:block}#onetrust-pc-sdk .ot-vnd-item>button[aria-expanded=true]~.ot-acc-grpcntr{width:auto;margin-top:0px;padding-bottom:10px}#onetrust-pc-sdk .ot-accordion-layout.ot-cat-item{position:relative;border-radius:2px;margin:0;padding:0;border:1px solid #d8d8d8;border-top:none;width:calc(100% - 2px);float:left}#onetrust-pc-sdk .ot-accordion-layout.ot-cat-item:first-of-type{margin-top:10px;border-top:1px solid #d8d8d8}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc{padding-left:20px;padding-right:20px;width:calc(100% - 40px);font-size:.812em;margin-bottom:10px;margin-top:15px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc>ul{padding-top:10px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc>ul li{padding-top:0;line-height:1.5;padding-bottom:10px}#onetrust-pc-sdk .ot-accordion-layout div+.ot-acc-grpdesc{margin-top:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr:first-child{margin-top:10px}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr:last-child,#onetrust-pc-sdk .ot-accordion-layout .ot-hlst-cntr:last-child{margin-bottom:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-hdr{padding-top:11.5px;padding-bottom:11.5px;padding-left:20px;padding-right:20px;width:calc(100% - 40px);display:inline-block}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-txt{width:100%;padding:0}#onetrust-pc-sdk .ot-accordion-layout .ot-subgrp-cntr{padding-left:20px;padding-right:15px;padding-bottom:0;width:calc(100% - 35px)}#onetrust-pc-sdk .ot-accordion-layout .ot-subgrp{padding-right:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpcntr{z-index:1;position:relative}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header+.ot-arw-cntr{position:absolute;top:50%;transform:translateY(-50%);right:20px;margin-top:-2px}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header+.ot-arw-cntr .ot-arw{width:15px;height:20px;margin-left:5px;color:dimgray}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header{float:none;color:#2e3644;margin:0;display:inline-block;height:auto;word-wrap:break-word;min-height:inherit}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr,#onetrust-pc-sdk .ot-accordion-layout .ot-hlst-cntr{padding-left:20px;width:calc(100% - 20px);display:inline-block;margin-top:0;padding-bottom:2px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-hdr{position:relative;min-height:25px}#onetrust-pc-sdk .ot-accordion-layout h4~.ot-tgl,#onetrust-pc-sdk .ot-accordion-layout h4~.ot-always-active{position:absolute;top:50%;transform:translateY(-50%);right:20px}#onetrust-pc-sdk .ot-accordion-layout h4~.ot-tgl+.ot-tgl{right:95px}#onetrust-pc-sdk .ot-accordion-layout .category-vendors-list-handler,#onetrust-pc-sdk .ot-accordion-layout .category-vendors-list-handler+a{margin-top:5px}#onetrust-pc-sdk #ot-lst-cnt{margin-top:1rem;max-height:calc(100% - 96px)}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info-cntr{border:1px solid #d8d8d8;padding:.75rem 2rem;padding-bottom:0;width:auto;margin-top:.5rem}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info{margin-bottom:1rem;padding-left:.75rem;padding-right:.75rem;display:flex;flex-direction:column}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info[data-vnd-info-key*=DPOEmail]{border-top:1px solid #d8d8d8;padding-top:1rem}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info[data-vnd-info-key*=DPOLink]{border-bottom:1px solid #d8d8d8;padding-bottom:1rem}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info .ot-vnd-lbl{font-weight:bold;font-size:.85em;margin-bottom:.5rem}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info .ot-vnd-cnt{margin-left:.5rem;font-weight:500;font-size:.85rem}#onetrust-pc-sdk .ot-vs-list,#onetrust-pc-sdk .ot-vnd-serv{width:auto;padding:1rem 1.25rem;padding-bottom:0}#onetrust-pc-sdk .ot-vs-list .ot-vnd-serv-hdr-cntr,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-serv-hdr-cntr{padding-bottom:.75rem;border-bottom:1px solid #d8d8d8}#onetrust-pc-sdk .ot-vs-list .ot-vnd-serv-hdr-cntr .ot-vnd-serv-hdr,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-serv-hdr-cntr .ot-vnd-serv-hdr{font-weight:600;font-size:.95em;line-height:2;margin-left:.5rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item{border:none;margin:0;padding:0}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item button,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item button{outline:none;border-bottom:1px solid #d8d8d8}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item button[aria-expanded=true],#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item button[aria-expanded=true]{border-bottom:none}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item:first-child,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item:first-child{margin-top:.25rem;border-top:unset}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item:last-child,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item:last-child{margin-bottom:.5rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item:last-child button,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item:last-child button{border-bottom:none}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info-cntr,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info-cntr{border:1px solid #d8d8d8;padding:.75rem 1.75rem;padding-bottom:0;width:auto;margin-top:.5rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info{margin-bottom:1rem;padding-left:.75rem;padding-right:.75rem;display:flex;flex-direction:column}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info[data-vnd-info-key*=DPOEmail],#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info[data-vnd-info-key*=DPOEmail]{border-top:1px solid #d8d8d8;padding-top:1rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info[data-vnd-info-key*=DPOLink],#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info[data-vnd-info-key*=DPOLink]{border-bottom:1px solid #d8d8d8;padding-bottom:1rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info .ot-vnd-lbl,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info .ot-vnd-lbl{font-weight:bold;font-size:.85em;margin-bottom:.5rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info .ot-vnd-cnt,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info .ot-vnd-cnt{margin-left:.5rem;font-weight:500;font-size:.85rem}#onetrust-pc-sdk .ot-vs-list.ot-vnd-subgrp-cnt,#onetrust-pc-sdk .ot-vnd-serv.ot-vnd-subgrp-cnt{padding-left:40px}#onetrust-pc-sdk .ot-vs-list.ot-vnd-subgrp-cnt .ot-vnd-serv-hdr-cntr .ot-vnd-serv-hdr,#onetrust-pc-sdk .ot-vnd-serv.ot-vnd-subgrp-cnt .ot-vnd-serv-hdr-cntr .ot-vnd-serv-hdr{font-size:.8em}#onetrust-pc-sdk .ot-vs-list.ot-vnd-subgrp-cnt .ot-cat-header,#onetrust-pc-sdk .ot-vnd-serv.ot-vnd-subgrp-cnt .ot-cat-header{font-size:.8em}#onetrust-pc-sdk .ot-subgrp-cntr .ot-vnd-serv{margin-bottom:1rem;padding:1rem .95rem}#onetrust-pc-sdk .ot-subgrp-cntr .ot-vnd-serv .ot-vnd-serv-hdr-cntr{padding-bottom:.75rem;border-bottom:1px solid #d8d8d8}#onetrust-pc-sdk .ot-subgrp-cntr .ot-vnd-serv .ot-vnd-serv-hdr-cntr .ot-vnd-serv-hdr{font-weight:700;font-size:.8em;line-height:20px;margin-left:.82rem}#onetrust-pc-sdk .ot-subgrp-cntr .ot-cat-header{font-weight:700;font-size:.8em;line-height:20px}#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-vnd-serv .ot-vnd-lst-cont .ot-accordion-layout .ot-acc-hdr div.ot-chkbox{margin-left:.82rem}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr{padding:.7rem 0;margin:0;display:flex;width:100%;align-items:center;justify-content:space-between}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr div:first-child,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr div:first-child,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr div:first-child,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr div:first-child,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr div:first-child,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr div:first-child,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr div:first-child{margin-left:.5rem}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr div:last-child,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr div:last-child,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr div:last-child,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr div:last-child,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr div:last-child,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr div:last-child,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr div:last-child{margin-right:.5rem;margin-left:.5rem}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-always-active{position:relative;right:unset;top:unset;transform:unset}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-plus-minus{top:0}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-arw-cntr{float:none;top:unset;right:unset;transform:unset;margin-top:-2px;position:relative}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-cat-header{flex:1;margin:0 .5rem}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-tgl{position:relative;transform:none;right:0;top:0;float:none}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-chkbox{position:relative;margin:0 .5rem}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-chkbox label{padding:0}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-chkbox label::before{position:relative}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-chkbox input{position:absolute;cursor:pointer;width:100%;height:100%;opacity:0;margin:0;top:0;left:0;z-index:1}#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps li.ot-subgrp .ot-acc-hdr h5.ot-cat-header,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps li.ot-subgrp .ot-acc-hdr h4.ot-cat-header{margin:0}#onetrust-pc-sdk .ot-vs-config .ot-subgrp-cntr ul.ot-subgrps li.ot-subgrp h5{top:0;line-height:20px}#onetrust-pc-sdk .ot-vs-list{display:flex;flex-direction:column;padding:0;margin:.5rem 4px}#onetrust-pc-sdk .ot-vs-selc-all{display:flex;padding:0;float:unset;align-items:center;justify-content:flex-start}#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf{justify-content:flex-end}#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf.ot-caret-conf .ot-sel-all-chkbox{margin-right:48px}#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf .ot-sel-all-chkbox{margin:0;padding:0;margin-right:14px;justify-content:flex-end}#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf #ot-selall-vencntr.ot-chkbox,#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf #ot-selall-vencntr.ot-tgl{display:inline-block;right:unset;width:auto;height:auto;float:none}#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf #ot-selall-vencntr label{width:45px;height:25px}#onetrust-pc-sdk .ot-vs-selc-all .ot-sel-all-chkbox{margin-right:11px;margin-left:.75rem;display:flex;align-items:center}#onetrust-pc-sdk .ot-vs-selc-all .sel-all-hdr{margin:0 1.25rem;font-size:.812em;line-height:normal;text-align:center;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-vnd-list-cnt #ot-selall-vencntr.ot-chkbox{float:unset;right:0}#onetrust-pc-sdk[dir=rtl] #ot-back-arw,#onetrust-pc-sdk[dir=rtl] input~.ot-acc-hdr .ot-arw{transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg)}#onetrust-pc-sdk[dir=rtl] input:checked~.ot-acc-hdr .ot-arw{transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg);-webkit-transform:rotate(270deg)}#onetrust-pc-sdk[dir=rtl] .ot-chkbox label::after{transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-left:0;border-right:3px solid}#onetrust-pc-sdk[dir=rtl] .ot-search-cntr>svg{right:0}@media only screen and (max-width: 600px){#onetrust-pc-sdk.otPcCenter{left:0;min-width:100%;height:100%;top:0;border-radius:0}#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk.ot-ftr-stacked .ot-btn-container{margin:1px 3px 0 10px;padding-right:10px;width:calc(100% - 23px)}#onetrust-pc-sdk .ot-btn-container button{max-width:none;letter-spacing:.01em}#onetrust-pc-sdk #close-pc-btn-handler{top:10px;right:17px}#onetrust-pc-sdk p{font-size:.7em}#onetrust-pc-sdk #ot-pc-hdr{margin:10px 10px 0 5px;width:calc(100% - 15px)}#onetrust-pc-sdk .vendor-search-handler{font-size:1em}#onetrust-pc-sdk #ot-back-arw{margin-left:12px}#onetrust-pc-sdk #ot-lst-cnt{margin:0;padding:0 5px 0 10px;min-width:95%}#onetrust-pc-sdk .switch+p{max-width:80%}#onetrust-pc-sdk .ot-ftr-stacked button{width:100%}#onetrust-pc-sdk #ot-fltr-cnt{max-width:320px;width:90%;border-top-right-radius:0;border-bottom-right-radius:0;margin:0;margin-left:15px;left:auto;right:40px;top:85px}#onetrust-pc-sdk .ot-fltr-opt{margin-left:25px;margin-bottom:10px}#onetrust-pc-sdk .ot-pc-refuse-all-handler{margin-bottom:0}#onetrust-pc-sdk #ot-fltr-cnt{right:40px}}@media only screen and (max-width: 476px){#onetrust-pc-sdk .ot-fltr-cntr,#onetrust-pc-sdk #ot-fltr-cnt{right:10px}#onetrust-pc-sdk #ot-anchor{right:25px}#onetrust-pc-sdk button{width:100%}#onetrust-pc-sdk:not(.ot-addtl-vendors) #ot-pc-lst:not(.ot-enbl-chr) .ot-sel-all{padding-right:9px}#onetrust-pc-sdk:not(.ot-addtl-vendors) #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr{right:0}}@media(min-width: 768px){#onetrust-pc-sdk.ot-tgl-with-label .ot-label-status{display:inline}#onetrust-pc-sdk.ot-tgl-with-label #ot-pc-lst .ot-label-status{display:none}}@media only screen and (max-width: 896px)and (max-height: 425px)and (orientation: landscape){#onetrust-pc-sdk.otPcCenter{left:0;top:0;min-width:100%;height:100%;border-radius:0}#onetrust-pc-sdk .ot-pc-header{height:auto;min-height:20px}#onetrust-pc-sdk .ot-pc-header .ot-pc-logo{max-height:30px}#onetrust-pc-sdk .ot-pc-footer{max-height:60px;overflow-y:auto}#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk #ot-pc-lst{bottom:70px}#onetrust-pc-sdk.ot-ftr-stacked #ot-pc-content{bottom:70px}#onetrust-pc-sdk #ot-anchor{left:initial;right:50px}#onetrust-pc-sdk #ot-lst-title{margin-top:12px}#onetrust-pc-sdk #ot-lst-title *{font-size:inherit}#onetrust-pc-sdk #ot-pc-hdr input{margin-right:0;padding-right:45px}#onetrust-pc-sdk .switch+p{max-width:85%}#onetrust-pc-sdk #ot-sel-blk{position:static}#onetrust-pc-sdk #ot-pc-lst{overflow:auto}#onetrust-pc-sdk #ot-lst-cnt{max-height:none;overflow:initial}#onetrust-pc-sdk #ot-lst-cnt.no-results{height:auto}#onetrust-pc-sdk input{font-size:1em !important}#onetrust-pc-sdk p{font-size:.6em}#onetrust-pc-sdk #ot-fltr-modal{width:100%;top:0}#onetrust-pc-sdk ul li p,#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a,#onetrust-pc-sdk .category-host-list-handler{font-size:.6em}#onetrust-pc-sdk.ot-shw-fltr #ot-anchor{display:none !important}#onetrust-pc-sdk.ot-shw-fltr #ot-pc-lst{height:100% !important;overflow:hidden;top:0px}#onetrust-pc-sdk.ot-shw-fltr #ot-fltr-cnt{margin:0;height:100%;max-height:none;padding:10px;top:0;width:calc(100% - 20px);position:absolute;right:0;left:0;max-width:none}#onetrust-pc-sdk.ot-shw-fltr .ot-fltr-scrlcnt{max-height:calc(100% - 65px)}}
            #onetrust-consent-sdk #onetrust-pc-sdk,
                #onetrust-consent-sdk #ot-search-cntr,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-switch.ot-toggle,
                #onetrust-consent-sdk #onetrust-pc-sdk ot-grp-hdr1 .checkbox,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-title:after
                ,#onetrust-consent-sdk #onetrust-pc-sdk #ot-sel-blk,
                        #onetrust-consent-sdk #onetrust-pc-sdk #ot-fltr-cnt,
                        #onetrust-consent-sdk #onetrust-pc-sdk #ot-anchor {
                    background-color: #FFFFFF;
                }
               
            #onetrust-consent-sdk #onetrust-pc-sdk h3,
                #onetrust-consent-sdk #onetrust-pc-sdk h4,
                #onetrust-consent-sdk #onetrust-pc-sdk h5,
                #onetrust-consent-sdk #onetrust-pc-sdk h6,
                #onetrust-consent-sdk #onetrust-pc-sdk p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-ven-lst .ot-ven-opts p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-desc,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-title,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-li-title,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-sel-all-hdr span,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-fltr-modal #modal-header,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-checkbox label span,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-sel-blk p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-lst-title h3,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst .back-btn-handler p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst .ot-ven-name,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-ven-lst .consent-category,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-inactive-leg-btn,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-label-status,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-chkbox label span,
                #onetrust-consent-sdk #onetrust-pc-sdk #clear-filters-handler,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-optout-signal
                {
                    color: #696969;
                }
             #onetrust-consent-sdk #onetrust-pc-sdk .privacy-notice-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-pgph-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler + a,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-host-list-handler,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-ven-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-ven-legclaim-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-name a,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-acc-hdr .ot-host-expand,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info a,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-content #ot-pc-desc .ot-link-btn,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info a,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info a
                    {
                        color: #3860BE;
                    }
            #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler:hover { text-decoration: underline;}
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-grpcntr.ot-acc-txt,
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-txt .ot-subgrp-tgl .ot-switch.ot-toggle
             {
                background-color: #E9E9E9;
            }
             #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-txt .ot-ven-dets
                            {
                                background-color: #E9E9E9;
                            }
        #onetrust-consent-sdk #onetrust-pc-sdk
            button:not(#clear-filters-handler):not(.ot-close-icon):not(#filter-btn-handler):not(.ot-remove-objection-handler):not(.ot-obj-leg-btn-handler):not([aria-expanded]):not(.ot-link-btn),
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-active-leg-btn {
                background-color: #346E4A;border-color: #346E4A;
                color: #FFFFFF;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-active-menu {
                border-color: #346E4A;
            }
            
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-remove-objection-handler{
                background-color: transparent;
                border: 1px solid transparent;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-inactive-leg-btn {
                background-color: #FFFFFF;
                color: #4D4D4D; border-color: #4D4D4D;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-tgl input:focus + .ot-switch, .ot-switch .ot-switch-nob, .ot-switch .ot-switch-nob:before,
            #onetrust-pc-sdk .ot-checkbox input[type="checkbox"]:focus + label::before,
            #onetrust-pc-sdk .ot-chkbox input[type="checkbox"]:focus + label::before {
                outline-color: #000000;
                outline-width: 1px;
                outline-offset: 1px;
            }
            #onetrust-pc-sdk .ot-host-item > button:focus, #onetrust-pc-sdk .ot-ven-item > button:focus {
                border: 1px solid #000000;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk *:focus,
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-vlst-cntr > a:focus {
               outline: 1px solid #000000;
               outline-offset: 1px;
            }#onetrust-pc-sdk .ot-vlst-cntr .ot-ext-lnk,  #onetrust-pc-sdk .ot-ven-hdr .ot-ext-lnk{
                    background-image: url('https://cdn.cookielaw.org/logos/static/ot_external_link.svg');
                }
            .ot-sdk-cookie-policy{font-family:inherit;font-size:16px}.ot-sdk-cookie-policy.otRelFont{font-size:1rem}.ot-sdk-cookie-policy h3,.ot-sdk-cookie-policy h4,.ot-sdk-cookie-policy h6,.ot-sdk-cookie-policy p,.ot-sdk-cookie-policy li,.ot-sdk-cookie-policy a,.ot-sdk-cookie-policy th,.ot-sdk-cookie-policy #cookie-policy-description,.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group,.ot-sdk-cookie-policy #cookie-policy-title{color:dimgray}.ot-sdk-cookie-policy #cookie-policy-description{margin-bottom:1em}.ot-sdk-cookie-policy h4{font-size:1.2em}.ot-sdk-cookie-policy h6{font-size:1em;margin-top:2em}.ot-sdk-cookie-policy th{min-width:75px}.ot-sdk-cookie-policy a,.ot-sdk-cookie-policy a:hover{background:#fff}.ot-sdk-cookie-policy thead{background-color:#f6f6f4;font-weight:bold}.ot-sdk-cookie-policy .ot-mobile-border{display:none}.ot-sdk-cookie-policy section{margin-bottom:2em}.ot-sdk-cookie-policy table{border-collapse:inherit}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy{font-family:inherit;font-size:1rem}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h6,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy p,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-title{color:dimgray}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description{margin-bottom:1em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup{margin-left:1.5em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group-desc,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-table-header,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy span,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td{font-size:.9em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td span,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td a{font-size:inherit}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group{font-size:1em;margin-bottom:.6em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-title{margin-bottom:1.2em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy>section{margin-bottom:1em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th{min-width:75px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a:hover{background:#fff}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead{background-color:#f6f6f4;font-weight:bold}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-mobile-border{display:none}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy section{margin-bottom:2em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup ul li{list-style:disc;margin-left:1.5em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup ul li h4{display:inline-block}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table{border-collapse:inherit;margin:auto;border:1px solid #d7d7d7;border-radius:5px;border-spacing:initial;width:100%;overflow:hidden}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table td{border-bottom:1px solid #d7d7d7;border-right:1px solid #d7d7d7}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td{border-bottom:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr th:last-child,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr td:last-child{border-right:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-host,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-cookies-type{width:25%}.ot-sdk-cookie-policy[dir=rtl]{text-align:left}#ot-sdk-cookie-policy h3{font-size:1.5em}@media only screen and (max-width: 530px){.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) table,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) thead,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tbody,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) th,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr{display:block}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) thead tr{position:absolute;top:-9999px;left:-9999px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr{margin:0 0 1em 0}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr:nth-child(odd),.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr:nth-child(odd) a{background:#f6f6f4}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td{border:none;border-bottom:1px solid #eee;position:relative;padding-left:50%}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td:before{position:absolute;height:100%;left:6px;width:40%;padding-right:10px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) .ot-mobile-border{display:inline-block;background-color:#e4e4e4;position:absolute;height:100%;top:0;left:45%;width:2px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td:before{content:attr(data-label);font-weight:bold}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) li{word-break:break-word;word-wrap:break-word}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table{overflow:hidden}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table td{border:none;border-bottom:1px solid #d7d7d7}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tbody,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tr{display:block}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-host,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-cookies-type{width:auto}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tr{margin:0 0 1em 0}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td:before{height:100%;width:40%;padding-right:10px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td:before{content:attr(data-label);font-weight:bold}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li{word-break:break-word;word-wrap:break-word}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead tr{position:absolute;top:-9999px;left:-9999px;z-index:-9999}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td{border-bottom:1px solid #d7d7d7;border-right:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td:last-child{border-bottom:0px}}
                
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h5,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h6,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy p,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy span,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description {
                        color: #696969;
                    }
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th {
                        color: #696969;
                    }
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group {
                        color: #696969;
                    }
                    
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-title {
                            color: #696969;
                        }
                    
            
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table th {
                            background-color: #F8F8F8;
                        }
                    
            .ot-floating-button__front{background-image:url('https://cdn.cookielaw.org/logos/static/ot_persistent_cookie_icon.png')}</style><script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/wp-emoji-release.min.js.download" defer=""></script><style type="text/css" id="hs-form-stylef73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6">.fn-date-picker.pika-single{z-index:9999;display:block;position:relative;color:#333;background:#fff;border:1px solid #ccc;border-bottom-color:#bbb;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;*zoom:1}.fn-date-picker.pika-single.is-hidden{display:none}.fn-date-picker.pika-single.is-bound{position:absolute;box-shadow:0 5px 15px -5px rgba(0,0,0,.5)}.fn-date-picker.pika-single:after,.fn-date-picker.pika-single:before{content:" ";display:table}.fn-date-picker.pika-single:after{clear:both}.fn-date-picker .pika-lendar{float:left;width:240px;margin:8px}.fn-date-picker .pika-title{position:relative;text-align:center}.fn-date-picker .pika-title select{cursor:pointer;position:absolute;z-index:9998;margin:0;left:0;top:5px;filter:alpha(opacity=0);opacity:0}.fn-date-picker .pika-label{display:inline-block;*display:inline;position:relative;z-index:9999;overflow:hidden;margin:0;padding:5px 3px;font-size:14px;line-height:20px;font-weight:700;background-color:#fff}.fn-date-picker .pika-next,.fn-date-picker .pika-prev{display:block;cursor:pointer;position:relative;outline:none;border:0;padding:0;width:20px;height:30px;text-indent:20px;white-space:nowrap;overflow:hidden;background-color:transparent;background-position:50%;background-repeat:no-repeat;background-size:75% 75%;opacity:.5;*position:absolute;*top:0}.fn-date-picker .pika-next:hover,.fn-date-picker .pika-prev:hover{opacity:1}.fn-date-picker .pika-next.is-disabled,.fn-date-picker .pika-prev.is-disabled{cursor:default;opacity:.2}.fn-date-picker .is-rtl .pika-next,.fn-date-picker .pika-prev{float:left;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg==");*left:0}.fn-date-picker .is-rtl .pika-prev,.fn-date-picker .pika-next{float:right;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII=");*right:0}.fn-date-picker .pika-select{display:inline-block;*display:inline}.fn-date-picker .pika-table{width:100%;border-collapse:collapse;border-spacing:0;border:0}.fn-date-picker .pika-table td,.fn-date-picker .pika-table th{width:14.2857142857%;padding:0}.fn-date-picker .pika-table th{color:#999;font-size:12px;line-height:25px;font-weight:700;text-align:center}.fn-date-picker .pika-table abbr{border-bottom:none;cursor:help}.fn-date-picker .pika-button{cursor:pointer;display:block;-moz-box-sizing:border-box;box-sizing:border-box;outline:none;border:0;margin:0;width:100%;padding:5px;color:#666;font-size:12px;line-height:15px;text-align:right;background:#f5f5f5}.fn-date-picker .pika-button:hover{color:#fff!important;background:#ff8000!important;box-shadow:none!important;border-radius:3px!important}.fn-date-picker .is-today .pika-button{color:#3af;font-weight:700}.fn-date-picker .is-selected .pika-button{color:#fff;font-weight:700;background:#3af;box-shadow:inset 0 1px 3px #178fe5;border-radius:3px}.fn-date-picker .is-disabled .pika-button{pointer-events:none;cursor:default;color:#999;opacity:.3}.fn-date-picker .pika-week{font-size:11px;color:#999} .hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 .inputs-list.inline-list li{vertical-align:top;display:inline-block;word-wrap:break-word;padding-right:16px}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 .inputs-list.inline-list li:after{clear:both}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 .inputs-list.inline-list li input{float:left}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 .inputs-list.inline-list.inline-list-2 li{width:50%}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 .inputs-list.inline-list.inline-list-2 li:nth-child(2n){padding-right:0}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 .inputs-list.inline-list.inline-list-3 li{width:33%}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 .inputs-list.inline-list.inline-list-3 li:nth-child(3n){width:34%;padding-right:0}.hs-fieldtype-intl-phone.hs-input{padding:0;background:none;border:none;height:auto}.hs-fieldtype-intl-phone.hs-input:after{clear:both;content:" ";display:table}.hs-fieldtype-intl-phone.hs-input .hs-input{margin-bottom:0}.hs-fieldtype-intl-phone.hs-input input{width:68%!important;float:right}.hs-fieldtype-intl-phone.hs-input select{float:left;width:30%!important}@media (max-device-width:480px) and (min-device-width:320px),(max-width:400px){.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6>.hs-phone>.input>.hs-fieldtype-intl-phone.hs-input>input.hs-input{width:68%!important}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6>.hs-phone>.input>.hs-fieldtype-intl-phone.hs-input>select.hs-input{width:30%!important}}.hs-fieldtype-textarea.hs-input{resize:vertical}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 .hs-button{white-space:pre-wrap}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 .hs-richtext{word-break:break-word}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 fieldset{border:0;padding:0;margin:0;max-width:500px}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 fieldset.form-columns-1 .hs-input{width:95%}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 fieldset.form-columns-1 .input{margin-right:8px}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 fieldset.form-columns-1 input[type=checkbox],.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 fieldset.form-columns-1 input[type=radio]{width:auto}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 fieldset.form-columns-2 .hs-form-field{width:50%;float:left}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 fieldset.form-columns-2 .input{margin-right:8px}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 fieldset.form-columns-3 .hs-form-field{width:32.7%;float:left}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 fieldset.form-columns-3 .input{margin-right:8px}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 label.hs-hidden{visibility:hidden}.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 .hs-field-desc{width:100%}.hs-custom-style .hs-input,.hs-custom-style fieldset{max-width:100%}.hs-custom-style>div.form-columns-3 .hs-form-field,.hs-custom-style fieldset.form-columns-3 .hs-form-field{width:33.3%}.hs-custom-style>div>div:last-of-type .hs-input:not([type=checkbox]):not([type=radio]),.hs-custom-style fieldset>div:last-of-type .hs-input:not([type=checkbox]):not([type=radio]){width:100%;max-width:100%}.hs-custom-style>div input:not([type=image]):not([type=submit]):not([type=button]):not([type=radio]):not([type=checkbox]):not([type=file]),.hs-custom-style fieldset input:not([type=image]):not([type=submit]):not([type=button]):not([type=radio]):not([type=checkbox]):not([type=file]){box-sizing:border-box;padding:0 15px;min-height:27px}.hs-custom-style>div textarea,.hs-custom-style fieldset textarea{padding:10px 15px}.hs-custom-style .hs-dependent-field>div .hs-input:not([type=checkbox]):not([type=radio]){width:100%}@media (max-width:400px),(min-device-width:320px) and (max-device-width:480px){.hs-custom-style .hs-input:not([type=checkbox]):not([type=radio]),.hs-custom-style fieldset{margin-right:0!important;width:100%!important}form.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6:not(.hs-video-form) .form-columns-2 .hs-form-field,form.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6:not(.hs-video-form) .form-columns-3 .hs-form-field{float:none;width:100%}form.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6:not(.hs-video-form) .form-columns-2 .hs-form-field .hs-input,form.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6:not(.hs-video-form) .form-columns-3 .hs-form-field .hs-input{width:95%}form.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6:not(.hs-video-form) .form-columns-2 .hs-form-field input[type=checkbox],form.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6:not(.hs-video-form) .form-columns-2 .hs-form-field input[type=radio],form.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6:not(.hs-video-form) .form-columns-3 .hs-form-field input[type=checkbox],form.hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6:not(.hs-video-form) .form-columns-3 .hs-form-field input[type=radio]{width:auto}}.legal-consent-container .field.hs-form-field{margin-bottom:8px}.legal-consent-container .hs-field-desc.checkbox-desc{margin:-12px 0 0 21px}.legal-consent-container .hs-form-booleancheckbox-display input{float:left}.legal-consent-container .hs-form-booleancheckbox-display>span{display:block;margin-left:20px}.legal-consent-container .hs-form-booleancheckbox-display p{margin:0;display:inline}.legal-consent-container .hs-error-msgs label{color:#f2545b}.legal-consent-container~.hs_recaptcha{margin-top:18px}.cookie-reset-container{font-size:14px;margin-bottom:10px;text-align:right}#hs-outer-captcha-target,#hs-outer-captcha-target *{display:none;height:0;width:0}.hubspot-link__container{font-size:14px;padding-bottom:40px;position:relative;color:#9fa0a2;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.hubspot-link-text{color:#00a4bd;font-weight:400}.hubspot-link__container.sproket{color:#9fa0a2}.hubspot-link{color:#9fa0a2}.hubspot-link,.hubspot-link:hover{text-decoration:none}.hubspot-link:hover .hubspot-link-text{text-decoration:underline}.hubspot-link__icon{margin-bottom:-1px;margin-right:5px}.hubspot-link__container.sproket .hubspot-link__icon{width:30px;margin-right:0;float:left;margin-top:-9px;margin-left:-5px}</style><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/frontend(1).css"></head>

<body class="post-template-default single single-post postid-127579 single-format-standard wp-custom-logo wp-embed-responsive" aria-describedby="move-helper-text">

<a class="skip-link screen-reader-text" href="https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/#wp--skip-link--target">Skip to content</a><div class="wp-site-blocks"><header class="wp-block-template-part wp-block-template-part--header">
<header class="wp-block-tenup-site-header is-initialized" data-wp-interactive="tenup/site-header" data-wp-init--init="callbacks.init" data-wp-init--store-height="callbacks.storeHeaderHeight" data-wp-init--browser-width="callbacks.checkBrowserWidth" data-wp-run="callbacks.closeExpandedRegionsOnBreakpointChange" data-wp-on-window--click="callbacks.handleWindowClick" data-wp-on-window--resize="callbacks.checkBrowserWidth" data-wp-on-window--keydown="callbacks.handleKeydown" data-wp-on--focusout="callbacks.handleFocusout" data-wp-watch--header-pin="callbacks.manageHeaderPin" data-wp-style----header-height="state.headerHeightValue" data-wp-class--is-initialized="state.isInitialized" data-wp-class--is-mobile="state.isMobileNavigation" data-wp-class--has-expanded-search="state.isSearchExpanded" data-wp-class--has-expanded-region="state.expandedRegion" data-wp-class--has-backdrop="state.isBackdropVisible" style="--header-height: 202px;">
	

<div class="wp-block-group is-style-section-brand has-global-padding is-layout-constrained wp-container-core-group-is-layout-5 wp-block-group-is-layout-constrained is-style-section-brand--1" style="padding-top:var(--wp--preset--spacing--24);padding-bottom:var(--wp--preset--spacing--16)">
<div class="wp-block-group alignwide is-style-default is-content-justification-space-between is-nowrap is-layout-flex wp-container-core-group-is-layout-2 wp-block-group-is-layout-flex" style="margin-top:0;margin-bottom:0">
<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-1 wp-block-group-is-layout-flex"><div class="wp-block-site-logo"><a href="https://towardsdatascience.com/" class="custom-logo-link" rel="home"><img width="158" height="50" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/TDS-Vector-Logo.svg" class="custom-logo" alt="Towards Data Science" decoding="async"></a></div>

<p class="wp-elements-8e4b23c29f02df13fa8f7ecfc078e179 wp-block-site-tagline has-text-color has-surface-brand-light-color has-body-2-font-size block-visibility-hide-small-screen">The world’s leading publication for data science, AI, and ML professionals.</p></div>



<div class="wp-block-tenup-navigation-portal is-initialized" data-wp-interactive="tenup/navigation-portal" data-wp-context="{&quot;isInitialized&quot;:false}" data-wp-init="tenup/navigation-portal::actions.init" data-wp-class--is-initialized="tenup/navigation-portal::context.isInitialized">
	

<div class="wp-block-buttons is-horizontal is-layout-flex wp-container-core-buttons-is-layout-1 wp-block-buttons-is-layout-flex">
<div class="wp-block-button is-style-button-link tds-login is-style-button-link--2"><a class="wp-block-button__link wp-element-button">Sign in</a></div>



<div class="wp-block-button is-style-button-link tds-logout is-style-button-link--3"><a class="wp-block-button__link wp-element-button">Sign out</a></div>



<div class="wp-block-button is-style-button-secondary has-button-arrow-none is-style-button-secondary--4"><a class="wp-block-button__link wp-element-button" href="https://contributor.insightmediagroup.io/" rel=" nofollow">Contributor Portal</a></div>
</div>

</div>
</div>



<div class="wp-block-group alignwide is-content-justification-space-between is-nowrap is-layout-flex wp-container-core-group-is-layout-4 wp-block-group-is-layout-flex">
<nav class="should-collapse-on-mobile wp-block-tenup-navigation is-layout-flex wp-container-tenup-navigation-is-layout-1 wp-block-navigation-is-layout-flex" data-wp-interactive="tenup/navigation" data-wp-context="{&quot;region&quot;:&quot;mobile-navigation&quot;,&quot;childRegions&quot;:[],&quot;collapseOnMobile&quot;:true}" data-wp-watch="callbacks.manageFocus" data-wp-watch--body-class="callbacks.manageBodyClasses" data-wp-watch--focus-trap="callbacks.manageFocusTrap">
	<ul aria-hidden="false" class="wp-block-tenup-navigation__list" data-wp-watch="callbacks.manageScrollLock" role="menubar" data-wp-bind--aria-hidden="tenup/site-header::!state.isMobileNavigationExpanded">
		<li role="presentation" class=" wp-block-navigation-item wp-block-navigation-link"><a role="menuitem" class="wp-block-navigation-item__content" href="https://towardsdatascience.com/latest/"><span class="wp-block-navigation-item__label">Latest</span></a></li><li role="presentation" class=" wp-block-navigation-item wp-block-navigation-link"><a role="menuitem" class="wp-block-navigation-item__content" href="https://towardsdatascience.com/tag/editors-pick/"><span class="wp-block-navigation-item__label">Editor’s Picks</span></a></li><li role="presentation" class=" wp-block-navigation-item wp-block-navigation-link"><a role="menuitem" class="wp-block-navigation-item__content" href="https://towardsdatascience.com/tag/deep-dives/"><span class="wp-block-navigation-item__label">Deep Dives</span></a></li><li role="presentation" class=" wp-block-navigation-item wp-block-navigation-link"><a role="menuitem" class="wp-block-navigation-item__content" href="https://towardsdatascience.com/questions-96667b06af5/"><span class="wp-block-navigation-item__label">Contribute</span></a></li>
<hr class="wp-block-separator has-alpha-channel-opacity">
<li role="presentation" class=" wp-block-navigation-item wp-block-navigation-link"><a role="menuitem" class="wp-block-navigation-item__content" href="https://newsletter.towardsdatascience.com/subscription-to-the-newsletter"><span class="wp-block-navigation-item__label">Newsletter</span></a></li>
<div class="wp-block-tenup-navigation-portal-slot">
</div>
<div class="is-default-size wp-block-site-logo block-visibility-hide-large-screen"><a href="https://towardsdatascience.com/" class="custom-logo-link" rel="home"><img width="242" height="77" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/TDS-Vector-Logo.svg" class="custom-logo" alt="Towards Data Science" decoding="async"></a></div>	</ul>
	<div class="wp-block-tenup-navigation__mobile-actions">
		<button aria-expanded="true" class="wp-block-tenup-navigation__button" data-wp-on--click="tenup/site-header::actions.toggleMobileNavigation" data-wp-bind--aria-expanded="tenup/site-header::state.isMobileNavigationExpanded">
			<span aria-hidden="true" class="wp-block-tenup-navigation__icon wp-block-tenup-navigation__icon--open" data-wp-bind--aria-hidden="tenup/site-header::state.isMobileNavigationExpanded">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="tui-icon tui-icon-menu" viewBox="0 0 24 24"><path d="M3 6h18" class="line line-top"></path><path d="M3 12h18" class="line line-middle"></path><path d="M3 18h18" class="line line-bottom"></path></svg>			</span>
			<span aria-hidden="false" class="wp-block-tenup-navigation__icon wp-block-tenup-navigation__icon--close" data-wp-bind--aria-hidden="tenup/site-header::!state.isMobileNavigationExpanded">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-x" viewBox="0 0 24 24"><path d="M18 6 6 18M6 6l12 12"></path></svg>			</span>
			<span class="screen-reader-text">Toggle Mobile Navigation</span>
		</button>
	</div>
</nav>



<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-3 wp-block-group-is-layout-flex">
<ul class="wp-block-social-links has-icon-color is-style-logos-only is-nowrap is-layout-flex wp-container-core-social-links-is-layout-1 wp-block-social-links-is-layout-flex block-visibility-hide-small-screen"><li style="color: var(--wp--custom--color--spindle); " class="wp-social-link wp-social-link-linkedin has-spindle-color wp-block-social-link"><a rel="noopener nofollow" target="_blank" href="https://www.linkedin.com/company/towards-data-science/?originalSubdomain=ca" class="wp-block-social-link-anchor"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z"></path></svg><span class="wp-block-social-link-label screen-reader-text">LinkedIn</span></a></li>

<li style="color: var(--wp--custom--color--spindle); " class="wp-social-link wp-social-link-x has-spindle-color wp-block-social-link"><a rel="noopener nofollow" target="_blank" href="https://x.com/TDataScience" class="wp-block-social-link-anchor"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M13.982 10.622 20.54 3h-1.554l-5.693 6.618L8.745 3H3.5l6.876 10.007L3.5 21h1.554l6.012-6.989L15.868 21h5.245l-7.131-10.378Zm-2.128 2.474-.697-.997-5.543-7.93H8l4.474 6.4.697.996 5.815 8.318h-2.387l-4.745-6.787Z"></path></svg><span class="wp-block-social-link-label screen-reader-text">X</span></a></li></ul>



<div class="wp-block-tenup-search-button" data-wp-interactive="tenup/search-button" data-wp-context="{&quot;region&quot;:&quot;search&quot;}" data-wp-watch="callbacks.manageFocus">
	<button aria-expanded="false" class="wp-block-tenup-search-button__button" data-wp-on--click="tenup/site-header::actions.toggleSearch" data-wp-bind--aria-expanded="tenup/site-header::state.isSearchExpanded" aria-controls="wp-block-tenup-search-button__6__container">
		<span aria-hidden="false" class="wp-block-tenup-search-button__icon wp-block-tenup-search-button__icon--open" data-wp-bind--aria-hidden="tenup/site-header::state.isSearchExpanded">
			<svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5m0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5"></path></svg>		</span>
		<span aria-hidden="true" class="wp-block-tenup-search-button__icon wp-block-tenup-search-button__icon--close" data-wp-bind--aria-hidden="tenup/site-header::!state.isSearchExpanded">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-x" viewBox="0 0 24 24"><path d="M18 6 6 18M6 6l12 12"></path></svg>		</span>
		<span class="screen-reader-text">Toggle Search</span>
	</button>
	<div aria-hidden="true" class="wp-block-tenup-search-button__search" data-wp-bind--aria-hidden="tenup/site-header::!state.isSearchExpanded" id="wp-block-tenup-search-button__6__container">
		
<form role="search" method="get" action="https://towardsdatascience.com/" class="wp-block-search__button-inside wp-block-search__icon-button wp-block-search"><label class="wp-block-search__label screen-reader-text" for="wp-block-search__input-5">Search</label><div class="wp-block-search__inside-wrapper "><input class="wp-block-search__input" id="wp-block-search__input-5" placeholder="Search" value="" type="search" name="s" required=""><button aria-label="Search" class="wp-block-search__button has-icon wp-element-button" type="submit"><svg class="search-icon" viewBox="0 0 24 24" width="24" height="24">
					<path d="M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"></path>
				</svg></button></div></form>
	</div>
</div>
</div>
</div>
</div>

</header>
	<div aria-hidden="true" data-wp-interactive="tenup/site-header" data-wp-bind--aria-hidden="tenup/site-header::!state.isBackdropVisible" id="tenup-navigation-backdrop" class="wp-block-tenup-navigation__backdrop"></div>


</header>


<div class="wp-block-group is-layout-flow wp-block-group-is-layout-flow" style="margin-top:0;margin-bottom:0;padding-top:var(--wp--preset--spacing--48);padding-bottom:0">

	
	<main class="wp-block-group is-style-default is-layout-flow wp-block-group-is-layout-flow" style="margin-top:0;padding-top:var(--wp--preset--spacing--32-48);padding-bottom:var(--wp--preset--spacing--32-48)" id="wp--skip-link--target">

		
		<div class="wp-block-group has-global-padding is-layout-constrained wp-container-core-group-is-layout-11 wp-block-group-is-layout-constrained">

			
			<div class="wp-block-group is-layout-flow wp-block-group-is-layout-flow">

								<a href="https://towardsdatascience.com/category/artificial-intelligence/machine-learning/" style="text-transform:uppercase;" class="is-taxonomy-category wp-block-tenup-post-primary-term has-text-color has-text-secondary-color has-eyebrow-1-font-size">
					Machine Learning				</a>
						

			</div>
			

			<h1 class="wp-block-post-title has-heading-3-font-size">MovieLens-1M Deep Dive – Part I</h1>

			<div class="wp-elements-9b2ad2dd7327f7f9edd7e31363df7ec6 wp-block-tds-post-sub-heading has-text-color has-text-secondary-color">
	<div class="tds-theme-post-subheading">
		<p>
			A hands-on recommendation systems tour using the popular benchmark dataset		</p>
	</div>
</div>


			
			<div class="wp-block-group is-content-justification-space-between is-layout-flex wp-container-core-group-is-layout-10 wp-block-group-is-layout-flex">

				
				<div class="wp-block-group is-horizontal is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-9 wp-block-group-is-layout-flex">

					
					<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-8 wp-block-group-is-layout-flex">

						<div style="text-decoration:none;text-transform:capitalize;" class="has-link-color wp-elements-ae8718f4d12f383075d1049181331d0f wp-block-post-author-name has-text-color has-text-primary-color has-caption-1-font-size"><a href="https://towardsdatascience.com/author/erap129/" target="_self" class="wp-block-post-author-name__link">Elad Rapaport</a></div>

						
						<div class="wp-block-group is-style-with-separator has-text-secondary-color has-text-color has-link-color wp-elements-cb326d70ba567e67e913c5a867d4bc75 is-nowrap is-layout-flex wp-container-core-group-is-layout-7 wp-block-group-is-layout-flex">

							<div class="has-link-color wp-elements-be697443e49d2f37d650dbe8f98af4d2 wp-block-post-date has-text-color has-text-secondary-color has-caption-1-font-size"><time datetime="2022-06-08T17:30:47-05:00">Jun 8, 2022</time></div>
							
<div class="wp-elements-717bb1e0e8956d465f5b94f3ba248dbf wp-block-tenup-post-time-to-read has-text-color has-text-secondary-color has-caption-1-font-size">
	14 min read</div>

							
							

						</div>
						

					</div>
					

				</div>
				

				
<button type="button" class="wp-element-button wp-block-tds-share">
	<span class="screen-reader-text visually-hidden">
		Share	</span>
	<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path fill="#355876" fill-rule="evenodd" d="M13.151 3.872a.4.4 0 0 1-.108.118h.009a.4.4 0 0 1-.262.072.47.47 0 0 1-.271-.117l-1.826-1.817v6.39a.452.452 0 0 1-.904 0V2.146L7.98 3.954a.41.41 0 0 1-.515.036h-.018a.36.36 0 0 1-.145-.271.36.36 0 0 1 .09-.29L9.924.9a.45.45 0 0 1 .633 0l2.531 2.53a.38.38 0 0 1 .063.452zm.706 1.935h1.355a1.81 1.81 0 0 1 1.808 1.808v9.039a1.81 1.81 0 0 1-1.808 1.808H5.27a1.81 1.81 0 0 1-1.808-1.808v-9.04A1.81 1.81 0 0 1 5.27 5.808h1.356c.118-.001.232.044.317.126a.44.44 0 0 1 0 .633.45.45 0 0 1-.317.136H5.18a.81.81 0 0 0-.814.813v9.22a.814.814 0 0 0 .814.814h10.124a.81.81 0 0 0 .813-.814v-9.22a.81.81 0 0 0-.813-.813h-1.447a.452.452 0 0 1 0-.904z" clip-rule="evenodd"></path></svg></button>


			</div>
			

			

		</div>
		

		
		<div class="wp-block-group is-layout-flow wp-block-group-is-layout-flow" style="margin-top:var(--wp--preset--spacing--40);margin-bottom:var(--wp--preset--spacing--40)">

			<div class="entry-content wp-block-post-content has-global-padding is-layout-constrained wp-block-post-content-is-layout-constrained"><figure class="wp-block-image size-large"><img data-dominant-color="ca9479" data-has-transparency="false" style="--dominant-color: #ca9479;" decoding="async" width="2560" height="1920" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1iDGcwsySEgnvyrm8PtQT3g-scaled.jpeg" alt="Photo from pexels" class="wp-image-127580 not-transparent" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-scaled.jpeg 2560w, https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-300x225.jpeg 300w, https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-1024x768.jpeg 1024w, https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-768x576.jpeg 768w, https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-1536x1152.jpeg 1536w, https://towardsdatascience.com/wp-content/uploads/2022/06/1iDGcwsySEgnvyrm8PtQT3g-2048x1536.jpeg 2048w" sizes="(max-width: 2560px) 100vw, 2560px"><figcaption class="wp-element-caption">Photo from <a href="https://www.pexels.com/photo/food-snack-popcorn-movie-theater-33129/">pexels</a></figcaption></figure>
<p class="wp-block-paragraph">Recommendations. We all consume them. Be it through our favorite movie streaming apps, online shopping, or even passively as a target of advertising campaigns. How are these recommendations created? How does a recommendation system utilize enormous datasets of internet transactions to generate high quality and personalized recommendations? I find these questions fascinating, hence I decided to embark on a learning journey and this post is intended to share my findings with you, dear readers 🙂</p>
<p class="wp-block-paragraph">I find that there are sufficient theoretical blog posts on the basics of recommendation systems and decided that this will be a hands-on practical tour of one of the most popular recommendation-focused datasets available – <a href="https://grouplens.org/datasets/movielens/1m/">MovieLens-1M</a> [1] (used with permission). In this dataset, we are given ~1 million historical ratings of 2894 movies by 6040 unique users.</p>
<p class="wp-block-paragraph">The structure of this post is as follows:</p>
<ul class="wp-block-list">
<li>Part I – Exploratory data analysis (EDA)</li>
<li>Part II – Data pre-processing (retrieving movie content information)</li>
<li>Part III – Setting up the recommendation problem and obtaining a baseline score</li>
<li>Part IV— Recommending movies with collaborative filtering</li>
<li>Part V – Recommending movies with content-based filtering</li>
<li>Part VI – Conclusions and thoughts ahead</li>
</ul>
<p class="wp-block-paragraph">The notebook containing all of this project’s code and more is available here: <a href="https://colab.research.google.com/drive/132N2lGQTT1NnzAU6cg1IfwpaeFKK9QQe?usp=sharing">https://colab.research.google.com/drive/132N2lGQTT1NnzAU6cg1IfwpaeFKK9QQe?usp=sharing</a></p>
<p class="wp-block-paragraph">This is the first of a two-part deep dive into MovieLens-1M. The next part, which will be released in the near future, will focus on more advanced algorithms and continue the never-ending EDA process. Happy reading!</p>
<hr class="wp-block-separator has-alpha-channel-opacity">
<h2 class="wp-block-heading">Part I – EDA</h2>
<p class="wp-block-paragraph">First, download the MovieLens-1M dataset from <a href="https://grouplens.org/datasets/movielens/1m/">here</a>. Then, let’s make some necessary imports and get that out of the way for this project:</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/b21b21508ad8f46a779a72859683c5cc.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114291890" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_imports-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_imports.py content, created by erap129 on 01:30PM on January 22, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_imports.py">
        <tbody><tr>
          <td id="file-recsys_imports-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_imports-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">pandas</span> <span class="pl-k">as</span> <span class="pl-s1">pd</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_imports-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">plotly</span>.<span class="pl-s1">express</span> <span class="pl-k">as</span> <span class="pl-s1">px</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_imports-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">sklearn</span>.<span class="pl-s1">feature_extraction</span>.<span class="pl-s1">text</span> <span class="pl-k">import</span> <span class="pl-v">TfidfVectorizer</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_imports-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">wikipedia</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_imports-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">numpy</span> <span class="pl-k">as</span> <span class="pl-s1">np</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_imports-py-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">tqdm</span>.<span class="pl-s1">notebook</span> <span class="pl-k">import</span> <span class="pl-s1">tqdm</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_imports-py-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">re</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_imports-py-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">os</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-recsys_imports-py-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">sklearn</span>.<span class="pl-s1">metrics</span>.<span class="pl-s1">pairwise</span> <span class="pl-k">import</span> <span class="pl-s1">linear_kernel</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-recsys_imports-py-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">surprise</span> <span class="pl-k">import</span> <span class="pl-v">Dataset</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-recsys_imports-py-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">surprise</span> <span class="pl-k">import</span> <span class="pl-v">Reader</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-recsys_imports-py-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">surprise</span> <span class="pl-k">import</span> <span class="pl-c1">SVD</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-recsys_imports-py-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">surprise</span> <span class="pl-k">import</span> <span class="pl-s1">accuracy</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-recsys_imports-py-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">surprise</span> <span class="pl-k">import</span> <span class="pl-v">KNNBasic</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-recsys_imports-py-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">surprise</span> <span class="pl-k">import</span> <span class="pl-v">NormalPredictor</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-recsys_imports-py-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">surprise</span>.<span class="pl-s1">model_selection</span> <span class="pl-k">import</span> <span class="pl-s1">train_test_split</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="file-recsys_imports-py-LC17" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">nltk</span>.<span class="pl-s1">stem</span>.<span class="pl-s1">snowball</span> <span class="pl-k">import</span> <span class="pl-v">SnowballStemmer</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td>
          <td id="file-recsys_imports-py-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">sklearn</span>.<span class="pl-s1">feature_selection</span> <span class="pl-k">import</span> <span class="pl-v">VarianceThreshold</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td>
          <td id="file-recsys_imports-py-LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">surprise</span>.<span class="pl-s1">model_selection</span> <span class="pl-k">import</span> <span class="pl-v">LeaveOneOut</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L20" class="blob-num js-line-number js-blob-rnum" data-line-number="20"></td>
          <td id="file-recsys_imports-py-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">requests</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L21" class="blob-num js-line-number js-blob-rnum" data-line-number="21"></td>
          <td id="file-recsys_imports-py-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">io</span> <span class="pl-k">import</span> <span class="pl-v">BytesIO</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L22" class="blob-num js-line-number js-blob-rnum" data-line-number="22"></td>
          <td id="file-recsys_imports-py-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">nltk</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L23" class="blob-num js-line-number js-blob-rnum" data-line-number="23"></td>
          <td id="file-recsys_imports-py-LC23" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">nltk</span>.<span class="pl-s1">tag</span>.<span class="pl-s1">stanford</span> <span class="pl-k">import</span> <span class="pl-v">StanfordNERTagger</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L24" class="blob-num js-line-number js-blob-rnum" data-line-number="24"></td>
          <td id="file-recsys_imports-py-LC24" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">plotly</span>.<span class="pl-s1">io</span> <span class="pl-k">as</span> <span class="pl-s1">pio</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L25" class="blob-num js-line-number js-blob-rnum" data-line-number="25"></td>
          <td id="file-recsys_imports-py-LC25" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">ipyplot</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L26" class="blob-num js-line-number js-blob-rnum" data-line-number="26"></td>
          <td id="file-recsys_imports-py-LC26" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L27" class="blob-num js-line-number js-blob-rnum" data-line-number="27"></td>
          <td id="file-recsys_imports-py-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">BASE_FOLDER</span> <span class="pl-c1">=</span> <span class="pl-s">'.'</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L28" class="blob-num js-line-number js-blob-rnum" data-line-number="28"></td>
          <td id="file-recsys_imports-py-LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">pio</span>.<span class="pl-c1">renderers</span>.<span class="pl-c1">default</span> <span class="pl-c1">=</span> <span class="pl-s">"notebook_connected"</span></td>
        </tr>
        <tr>
          <td id="file-recsys_imports-py-L29" class="blob-num js-line-number js-blob-rnum" data-line-number="29"></td>
          <td id="file-recsys_imports-py-LC29" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">tqdm</span>.<span class="pl-c1">pandas</span>()</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/b21b21508ad8f46a779a72859683c5cc/raw/5762dafa59f6464328a805eb53c33dd9a5727c32/recsys_imports.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/b21b21508ad8f46a779a72859683c5cc#file-recsys_imports-py" class="Link--inTextBlock">
          recsys_imports.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph">The MovieLens-1M dataset consists of 3 files – <code>users.dat, ratings.dat</code> and <code>movies.dat.</code> Let’s explore each of these files and understand what we are dealing with. We will start with the movie’s data.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/0f2d1342c2100f990e56827194fa7ba7.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114409313" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_load_movies_df-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_load_movies_df.py content, created by erap129 on 12:47PM on January 28, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_load_movies_df.py">
        <tbody><tr>
          <td id="file-recsys_load_movies_df-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_load_movies_df-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df</span> <span class="pl-c1">=</span> <span class="pl-s1">pd</span>.<span class="pl-c1">read_csv</span>(<span class="pl-s">f'<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-c1">BASE_FOLDER</span><span class="pl-kos">}</span></span>/MovieLens-1M/movies.dat'</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_load_movies_df-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_load_movies_df-py-LC2" class="blob-code blob-code-inner js-file-line">                        <span class="pl-s1">delimiter</span><span class="pl-c1">=</span><span class="pl-s">'::'</span>, <span class="pl-s1">engine</span><span class="pl-c1">=</span> <span class="pl-s">'python'</span>, <span class="pl-s1">header</span><span class="pl-c1">=</span><span class="pl-c1">None</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_load_movies_df-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_load_movies_df-py-LC3" class="blob-code blob-code-inner js-file-line">                        <span class="pl-s1">names</span><span class="pl-c1">=</span>[<span class="pl-s">'movie_name'</span>, <span class="pl-s">'genre'</span>])</td>
        </tr>
        <tr>
          <td id="file-recsys_load_movies_df-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_load_movies_df-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df</span>.<span class="pl-c1">head</span>()</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/0f2d1342c2100f990e56827194fa7ba7/raw/140d8a515d4d7945ff6d0837bad88741370a33ae/recsys_load_movies_df.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/0f2d1342c2100f990e56827194fa7ba7#file-recsys_load_movies_df-py" class="Link--inTextBlock">
          recsys_load_movies_df.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/10f62c544d4b824aa87a239769bc160b.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114409440" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_movies_df_head-csv" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-csv  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_movies_df_head.csv content, created by erap129 on 12:57PM on January 28, 2022.">

        <div class="blob-interaction-bar">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
  <input type="text" name="filter" class="form-control js-csv-filter-field blob-filter" autocapitalize="off" placeholder="Search this file…" aria-label="Search this file…">
</div>

  <div class="markdown-body js-check-bidi" data-line-alert="before" data-hpc="">
    <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

    <table class="js-csv-data csv-data js-file-line-container">
      <thead>
        <tr id="file-recsys_movies_df_head-csv-LC1" class="js-file-line">
          <td id="file-recsys_movies_df_head-csv-L1" class="blob-num js-line-number" data-line-number="1"></td>
            <th></th>
            <th>movie_name</th>
            <th>genre</th>
        </tr>
      </thead>
      <tbody>
          <tr id="file-recsys_movies_df_head-csv-LC2" class="js-file-line">
            <td id="file-recsys_movies_df_head-csv-L2" class="blob-num js-line-number" data-line-number="2"></td>
              <td>1</td>
              <td>Toy Story (1995)</td>
              <td>Animation|Children's|Comedy</td>
          </tr>
          <tr id="file-recsys_movies_df_head-csv-LC3" class="js-file-line">
            <td id="file-recsys_movies_df_head-csv-L3" class="blob-num js-line-number" data-line-number="3"></td>
              <td>2</td>
              <td>Jumanji (1995)</td>
              <td>Adventure|Children's|Fantasy</td>
          </tr>
          <tr id="file-recsys_movies_df_head-csv-LC4" class="js-file-line">
            <td id="file-recsys_movies_df_head-csv-L4" class="blob-num js-line-number" data-line-number="4"></td>
              <td>3</td>
              <td>Grumpier Old Men (1995)</td>
              <td>Comedy|Romance</td>
          </tr>
          <tr id="file-recsys_movies_df_head-csv-LC5" class="js-file-line">
            <td id="file-recsys_movies_df_head-csv-L5" class="blob-num js-line-number" data-line-number="5"></td>
              <td>4</td>
              <td>Waiting to Exhale (1995)</td>
              <td>Comedy|Drama</td>
          </tr>
          <tr id="file-recsys_movies_df_head-csv-LC6" class="js-file-line">
            <td id="file-recsys_movies_df_head-csv-L6" class="blob-num js-line-number" data-line-number="6"></td>
              <td>5</td>
              <td>Father of the Bride Part II (1995)</td>
              <td>Comedy</td>
          </tr>
      </tbody>
    </table>
  </div>

    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/10f62c544d4b824aa87a239769bc160b/raw/4c47e92cb5c33c20137a2165e088d8a711951327/recsys_movies_df_head.csv" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/10f62c544d4b824aa87a239769bc160b#file-recsys_movies_df_head-csv" class="Link--inTextBlock">
          recsys_movies_df_head.csv
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph">Let’s plot the distribution of movies per genre. For this, we will have to turn the genres column into a list and "explode" it. Note that each movie may be of several genres, and in this case, it will be counted multiple times. We will also plot the distribution of movies per movie release year.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/8aeea5a8f50a6bd7e1c894ff06939c45.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114411324" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_plot_movie_genres-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_plot_movie_genres.py content, created by erap129 on 02:51PM on January 28, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_plot_movie_genres.py">
        <tbody><tr>
          <td id="file-recsys_plot_movie_genres-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_plot_movie_genres-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df</span>[<span class="pl-s">'genre'</span>] <span class="pl-c1">=</span> <span class="pl-s1">movies_df</span>[<span class="pl-s">'genre'</span>].<span class="pl-c1">apply</span>(<span class="pl-k">lambda</span> <span class="pl-s1">x</span>: <span class="pl-s1">x</span>.<span class="pl-c1">split</span>(<span class="pl-s">'|'</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_plot_movie_genres-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_plot_movie_genres-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df_exploded</span> <span class="pl-c1">=</span> <span class="pl-s1">movies_df</span>.<span class="pl-c1">explode</span>(<span class="pl-s">'genre'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_plot_movie_genres-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_plot_movie_genres-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">px</span>.<span class="pl-c1">histogram</span>(<span class="pl-s1">movies_df_exploded</span>, <span class="pl-s1">x</span><span class="pl-c1">=</span><span class="pl-s">'genre'</span>, <span class="pl-s1">height</span><span class="pl-c1">=</span><span class="pl-c1">400</span>, <span class="pl-s1">title</span><span class="pl-c1">=</span><span class="pl-s">'Movie count by genre'</span>).<span class="pl-c1">update_xaxes</span>(<span class="pl-s1">categoryorder</span><span class="pl-c1">=</span><span class="pl-s">"total descending"</span>)</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/8aeea5a8f50a6bd7e1c894ff06939c45/raw/4e65ee1f5375bfcda390f6708fe9cc66c402cbee/recsys_plot_movie_genres.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/8aeea5a8f50a6bd7e1c894ff06939c45#file-recsys_plot_movie_genres-py" class="Link--inTextBlock">
          recsys_plot_movie_genres.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<iframe frameborder="0" scrolling="no" class="wp-block-html" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/media.html" height="700" width="960"></iframe>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/f90e6ba073e226e806b7c49b028663f9.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114411566" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_plot_movie_years-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_plot_movie_years.py content, created by erap129 on 03:06PM on January 28, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_plot_movie_years.py">
        <tbody><tr>
          <td id="file-recsys_plot_movie_years-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_plot_movie_years-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df</span>[<span class="pl-s">'year'</span>] <span class="pl-c1">=</span> <span class="pl-s1">movies_df</span>[<span class="pl-s">'movie_name'</span>].<span class="pl-c1">apply</span>(<span class="pl-k">lambda</span> <span class="pl-s1">movie_name</span>: <span class="pl-s1">re</span>.<span class="pl-c1">search</span>(<span class="pl-s">'\((\d*)\)'</span>, <span class="pl-s1">movie_name</span>).<span class="pl-c1">groups</span>(<span class="pl-c1">1</span>)[<span class="pl-c1">0</span>])</td>
        </tr>
        <tr>
          <td id="file-recsys_plot_movie_years-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_plot_movie_years-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movie_count_by_year</span> <span class="pl-c1">=</span> <span class="pl-s1">px</span>.<span class="pl-c1">histogram</span>(<span class="pl-s1">movies_df</span>, <span class="pl-s1">x</span><span class="pl-c1">=</span><span class="pl-s">'year'</span>, <span class="pl-s1">height</span><span class="pl-c1">=</span><span class="pl-c1">400</span>, <span class="pl-s1">title</span><span class="pl-c1">=</span><span class="pl-s">'Movie count by year'</span>).<span class="pl-c1">update_xaxes</span>(<span class="pl-s1">categoryorder</span><span class="pl-c1">=</span><span class="pl-s">"total descending"</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_plot_movie_years-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_plot_movie_years-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movie_count_by_year</span></td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/f90e6ba073e226e806b7c49b028663f9/raw/c2b2c239a82f79d0aafef28d7555f59d2a39cfc3/recsys_plot_movie_years.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/f90e6ba073e226e806b7c49b028663f9#file-recsys_plot_movie_years-py" class="Link--inTextBlock">
          recsys_plot_movie_years.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<iframe loading="lazy" frameborder="0" scrolling="no" class="wp-block-html" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/media(1).html" height="700" width="960"></iframe>
<p class="wp-block-paragraph">Let’s move on to the users’ data and inspect it. The "occupation" column is encoded with a number representing each occupation, but for EDA we are interested in the actual data. We will get it by extracting the relevant rows from the README file of the dataset and swapping values in the dataset accordingly.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/0ffccc8bbaf66af9023628b6640861f5.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114429350" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_load_users-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_load_users.py content, created by erap129 on 06:43PM on January 29, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_load_users.py">
        <tbody><tr>
          <td id="file-recsys_load_users-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_load_users-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">readme_text</span> <span class="pl-c1">=</span> <span class="pl-s1">np</span>.<span class="pl-c1">array</span>(<span class="pl-en">open</span>(<span class="pl-s">f'<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-c1">BASE_FOLDER</span><span class="pl-kos">}</span></span>/MovieLens-1M/README'</span>).<span class="pl-c1">read</span>().<span class="pl-c1">splitlines</span>())</td>
        </tr>
        <tr>
          <td id="file-recsys_load_users-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_load_users-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">start_index</span> <span class="pl-c1">=</span> <span class="pl-s1">np</span>.<span class="pl-c1">flatnonzero</span>(<span class="pl-s1">np</span>.<span class="pl-c1">core</span>.<span class="pl-c1">defchararray</span>.<span class="pl-c1">find</span>(<span class="pl-s1">readme_text</span>,<span class="pl-s">'Occupation is chosen'</span>)<span class="pl-c1">!=</span><span class="pl-c1">-</span><span class="pl-c1">1</span>)[<span class="pl-c1">0</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_load_users-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_load_users-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">end_index</span> <span class="pl-c1">=</span> <span class="pl-s1">np</span>.<span class="pl-c1">flatnonzero</span>(<span class="pl-s1">np</span>.<span class="pl-c1">core</span>.<span class="pl-c1">defchararray</span>.<span class="pl-c1">find</span>(<span class="pl-s1">readme_text</span>,<span class="pl-s">'MOVIES FILE DESCRIPTION'</span>)<span class="pl-c1">!=</span><span class="pl-c1">-</span><span class="pl-c1">1</span>)[<span class="pl-c1">0</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_load_users-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_load_users-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">occupation_list</span> <span class="pl-c1">=</span> [<span class="pl-s1">x</span>.<span class="pl-c1">split</span>(<span class="pl-s">'"'</span>)[<span class="pl-c1">1</span>] <span class="pl-k">for</span> <span class="pl-s1">x</span> <span class="pl-c1">in</span> <span class="pl-s1">readme_text</span>[<span class="pl-s1">start_index</span>:<span class="pl-s1">end_index</span>][<span class="pl-c1">2</span>:<span class="pl-c1">-</span><span class="pl-c1">1</span>].<span class="pl-c1">tolist</span>()]</td>
        </tr>
        <tr>
          <td id="file-recsys_load_users-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_load_users-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">occupation_dict</span> <span class="pl-c1">=</span> <span class="pl-en">dict</span>(<span class="pl-en">zip</span>(<span class="pl-en">range</span>(<span class="pl-en">len</span>(<span class="pl-s1">occupation_list</span>)), <span class="pl-s1">occupation_list</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_load_users-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_load_users-py-LC6" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_load_users-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_load_users-py-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">users_df</span> <span class="pl-c1">=</span> <span class="pl-s1">pd</span>.<span class="pl-c1">read_csv</span>(<span class="pl-s">f'<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-c1">BASE_FOLDER</span><span class="pl-kos">}</span></span>/MovieLens-1M/users.dat'</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_load_users-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_load_users-py-LC8" class="blob-code blob-code-inner js-file-line">                       <span class="pl-s1">delimiter</span><span class="pl-c1">=</span><span class="pl-s">'::'</span>, <span class="pl-s1">engine</span><span class="pl-c1">=</span><span class="pl-s">'python'</span>, <span class="pl-s1">header</span><span class="pl-c1">=</span><span class="pl-c1">None</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_load_users-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-recsys_load_users-py-LC9" class="blob-code blob-code-inner js-file-line">                       <span class="pl-s1">names</span><span class="pl-c1">=</span>[<span class="pl-s">'user_id'</span>, <span class="pl-s">'gender'</span>, <span class="pl-s">'age'</span>, <span class="pl-s">'occupation'</span>, <span class="pl-s">'zip_code'</span>])</td>
        </tr>
        <tr>
          <td id="file-recsys_load_users-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-recsys_load_users-py-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">users_df</span>[<span class="pl-s">'occupation'</span>] <span class="pl-c1">=</span> <span class="pl-s1">users_df</span>[<span class="pl-s">'occupation'</span>].<span class="pl-c1">replace</span>(<span class="pl-s1">occupation_dict</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_load_users-py-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-recsys_load_users-py-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">users_df</span>.<span class="pl-c1">head</span>()</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/0ffccc8bbaf66af9023628b6640861f5/raw/6a50c97c8b21efbe7c26e8fd0eeeed9ce7e05e78/recsys_load_users.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/0ffccc8bbaf66af9023628b6640861f5#file-recsys_load_users-py" class="Link--inTextBlock">
          recsys_load_users.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/2408717608c64b19e7f1eeccbe0d21d9.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114429370" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_users_df_head-csv" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-csv  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_users_df_head.csv content, created by erap129 on 06:45PM on January 29, 2022.">

        <div class="blob-interaction-bar">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
  <input type="text" name="filter" class="form-control js-csv-filter-field blob-filter" autocapitalize="off" placeholder="Search this file…" aria-label="Search this file…">
</div>

  <div class="markdown-body js-check-bidi" data-line-alert="before" data-hpc="">
    <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

    <table class="js-csv-data csv-data js-file-line-container">
      <thead>
        <tr id="file-recsys_users_df_head-csv-LC1" class="js-file-line">
          <td id="file-recsys_users_df_head-csv-L1" class="blob-num js-line-number" data-line-number="1"></td>
            <th></th>
            <th>user_id</th>
            <th>gender</th>
            <th>age</th>
            <th>occupation</th>
            <th>zip_code</th>
        </tr>
      </thead>
      <tbody>
          <tr id="file-recsys_users_df_head-csv-LC2" class="js-file-line">
            <td id="file-recsys_users_df_head-csv-L2" class="blob-num js-line-number" data-line-number="2"></td>
              <td>0</td>
              <td>1</td>
              <td>F</td>
              <td>1</td>
              <td>K-12 student</td>
              <td>48067</td>
          </tr>
          <tr id="file-recsys_users_df_head-csv-LC3" class="js-file-line">
            <td id="file-recsys_users_df_head-csv-L3" class="blob-num js-line-number" data-line-number="3"></td>
              <td>1</td>
              <td>2</td>
              <td>M</td>
              <td>56</td>
              <td>self-employed</td>
              <td>70072</td>
          </tr>
          <tr id="file-recsys_users_df_head-csv-LC4" class="js-file-line">
            <td id="file-recsys_users_df_head-csv-L4" class="blob-num js-line-number" data-line-number="4"></td>
              <td>2</td>
              <td>3</td>
              <td>M</td>
              <td>25</td>
              <td>scientist</td>
              <td>55117</td>
          </tr>
          <tr id="file-recsys_users_df_head-csv-LC5" class="js-file-line">
            <td id="file-recsys_users_df_head-csv-L5" class="blob-num js-line-number" data-line-number="5"></td>
              <td>3</td>
              <td>4</td>
              <td>M</td>
              <td>45</td>
              <td>executive/managerial</td>
              <td>02460</td>
          </tr>
          <tr id="file-recsys_users_df_head-csv-LC6" class="js-file-line">
            <td id="file-recsys_users_df_head-csv-L6" class="blob-num js-line-number" data-line-number="6"></td>
              <td>4</td>
              <td>5</td>
              <td>M</td>
              <td>25</td>
              <td>writer</td>
              <td>55455</td>
          </tr>
      </tbody>
    </table>
  </div>

    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/2408717608c64b19e7f1eeccbe0d21d9/raw/85bf63b165f29203b9dbfc48130728e7ce9e260c/recsys_users_df_head.csv" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/2408717608c64b19e7f1eeccbe0d21d9#file-recsys_users_df_head-csv" class="Link--inTextBlock">
          recsys_users_df_head.csv
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph">Let’s view the ratings now.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/98c8873071c23ca734a2534c2e28e1e1.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114429471" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_load_ratings_df-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_load_ratings_df.py content, created by erap129 on 06:56PM on January 29, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_load_ratings_df.py">
        <tbody><tr>
          <td id="file-recsys_load_ratings_df-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_load_ratings_df-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">ratings_df</span> <span class="pl-c1">=</span> <span class="pl-s1">pd</span>.<span class="pl-c1">read_csv</span>(<span class="pl-s">f'<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-c1">BASE_FOLDER</span><span class="pl-kos">}</span></span>/MovieLens-1M/ratings.dat'</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_load_ratings_df-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_load_ratings_df-py-LC2" class="blob-code blob-code-inner js-file-line">                         <span class="pl-s1">delimiter</span><span class="pl-c1">=</span><span class="pl-s">'::'</span>, <span class="pl-s1">engine</span><span class="pl-c1">=</span><span class="pl-s">'python'</span>, <span class="pl-s1">header</span><span class="pl-c1">=</span><span class="pl-c1">None</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_load_ratings_df-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_load_ratings_df-py-LC3" class="blob-code blob-code-inner js-file-line">                         <span class="pl-s1">names</span><span class="pl-c1">=</span>[<span class="pl-s">'user_id'</span>, <span class="pl-s">'movie_id'</span>, <span class="pl-s">'rating'</span>, <span class="pl-s">'time'</span>])</td>
        </tr>
        <tr>
          <td id="file-recsys_load_ratings_df-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_load_ratings_df-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">ratings_df</span>.<span class="pl-c1">head</span>()</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/98c8873071c23ca734a2534c2e28e1e1/raw/e13a5fd21c1244afed25d37dd0786a51a3133c23/recsys_load_ratings_df.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/98c8873071c23ca734a2534c2e28e1e1#file-recsys_load_ratings_df-py" class="Link--inTextBlock">
          recsys_load_ratings_df.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/43b824e8f2975e1dc501a330bfb3356a.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114429482" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_ratings_df_head-csv" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-csv  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_ratings_df_head.csv content, created by erap129 on 06:57PM on January 29, 2022.">

        <div class="blob-interaction-bar">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
  <input type="text" name="filter" class="form-control js-csv-filter-field blob-filter" autocapitalize="off" placeholder="Search this file…" aria-label="Search this file…">
</div>

  <div class="markdown-body js-check-bidi" data-line-alert="before" data-hpc="">
    <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

    <table class="js-csv-data csv-data js-file-line-container">
      <thead>
        <tr id="file-recsys_ratings_df_head-csv-LC1" class="js-file-line">
          <td id="file-recsys_ratings_df_head-csv-L1" class="blob-num js-line-number" data-line-number="1"></td>
            <th></th>
            <th>user_id</th>
            <th>movie_id</th>
            <th>rating</th>
            <th>time</th>
        </tr>
      </thead>
      <tbody>
          <tr id="file-recsys_ratings_df_head-csv-LC2" class="js-file-line">
            <td id="file-recsys_ratings_df_head-csv-L2" class="blob-num js-line-number" data-line-number="2"></td>
              <td>0</td>
              <td>1</td>
              <td>1193</td>
              <td>5</td>
              <td>978300760</td>
          </tr>
          <tr id="file-recsys_ratings_df_head-csv-LC3" class="js-file-line">
            <td id="file-recsys_ratings_df_head-csv-L3" class="blob-num js-line-number" data-line-number="3"></td>
              <td>1</td>
              <td>1</td>
              <td>661</td>
              <td>3</td>
              <td>978302109</td>
          </tr>
          <tr id="file-recsys_ratings_df_head-csv-LC4" class="js-file-line">
            <td id="file-recsys_ratings_df_head-csv-L4" class="blob-num js-line-number" data-line-number="4"></td>
              <td>2</td>
              <td>1</td>
              <td>914</td>
              <td>3</td>
              <td>978301968</td>
          </tr>
          <tr id="file-recsys_ratings_df_head-csv-LC5" class="js-file-line">
            <td id="file-recsys_ratings_df_head-csv-L5" class="blob-num js-line-number" data-line-number="5"></td>
              <td>3</td>
              <td>1</td>
              <td>3408</td>
              <td>4</td>
              <td>978300275</td>
          </tr>
          <tr id="file-recsys_ratings_df_head-csv-LC6" class="js-file-line">
            <td id="file-recsys_ratings_df_head-csv-L6" class="blob-num js-line-number" data-line-number="6"></td>
              <td>4</td>
              <td>1</td>
              <td>2355</td>
              <td>5</td>
              <td>978824291</td>
          </tr>
      </tbody>
    </table>
  </div>

    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/43b824e8f2975e1dc501a330bfb3356a/raw/cb4e311da9159895578dcba26d4561c93cae2748/recsys_ratings_df_head.csv" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/43b824e8f2975e1dc501a330bfb3356a#file-recsys_ratings_df_head-csv" class="Link--inTextBlock">
          recsys_ratings_df_head.csv
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph">Let’s rank movie genres by their average rating. We will also plot how many times each genre was rated.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/e12d2884fa4bfea9779f9fb129641ae3.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114561552" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_ratings_by_genre-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_ratings_by_genre.py content, created by erap129 on 04:56PM on February 05, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_ratings_by_genre.py">
        <tbody><tr>
          <td id="file-recsys_ratings_by_genre-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_ratings_by_genre-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">rating_by_genre_df</span> <span class="pl-c1">=</span> <span class="pl-s1">ratings_df</span>.<span class="pl-c1">join</span>(<span class="pl-s1">movies_df_exploded</span>, <span class="pl-s1">on</span><span class="pl-c1">=</span><span class="pl-s">'movie_id'</span>).\</td>
        </tr>
        <tr>
          <td id="file-recsys_ratings_by_genre-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_ratings_by_genre-py-LC2" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">groupby</span>(<span class="pl-s">'genre'</span>).<span class="pl-c1">agg</span>({<span class="pl-s">'rating'</span>: [<span class="pl-s">'mean'</span>, <span class="pl-s">'count'</span>]}).<span class="pl-c1">sort_values</span>((<span class="pl-s">'rating'</span>, <span class="pl-s">'mean'</span>)).<span class="pl-c1">reset_index</span>()</td>
        </tr>
        <tr>
          <td id="file-recsys_ratings_by_genre-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_ratings_by_genre-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">rating_by_genre_df</span>.<span class="pl-c1">columns</span> <span class="pl-c1">=</span> [<span class="pl-s">'_'</span>.<span class="pl-c1">join</span>(<span class="pl-s1">col</span>).<span class="pl-c1">strip</span>() <span class="pl-k">for</span> <span class="pl-s1">col</span> <span class="pl-c1">in</span> <span class="pl-s1">rating_by_genre_df</span>.<span class="pl-c1">columns</span>.<span class="pl-c1">values</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_ratings_by_genre-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_ratings_by_genre-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">px</span>.<span class="pl-c1">bar</span>(<span class="pl-s1">rating_by_genre_df</span>, <span class="pl-s1">x</span><span class="pl-c1">=</span><span class="pl-s">'genre_'</span>, <span class="pl-s1">y</span><span class="pl-c1">=</span><span class="pl-s">'rating_mean'</span>, <span class="pl-s1">height</span><span class="pl-c1">=</span><span class="pl-c1">300</span>)</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/e12d2884fa4bfea9779f9fb129641ae3/raw/66448ebde76b5c839aa3c7612e5ac64a487809c2/recsys_ratings_by_genre.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/e12d2884fa4bfea9779f9fb129641ae3#file-recsys_ratings_by_genre-py" class="Link--inTextBlock">
          recsys_ratings_by_genre.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<iframe loading="lazy" frameborder="0" scrolling="no" class="wp-block-html" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/media(2).html" height="700" width="960"></iframe>
<p class="wp-block-paragraph">Now let’s combine all three tables (movies, users, and ratings) and see if there are any differences between male and female ratings per movie genre. Notice that here too we will normalize by the total amount of males/females to get a better answer to our question.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/e92108aee6be6ad64f5dcd534f7a52f1.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114561493" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_ratings_by_genre_and_gender-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_ratings_by_genre_and_gender.py content, created by erap129 on 04:49PM on February 05, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_ratings_by_genre_and_gender.py">
        <tbody><tr>
          <td id="file-recsys_ratings_by_genre_and_gender-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_ratings_by_genre_and_gender-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">combined_ratings_df</span> <span class="pl-c1">=</span> <span class="pl-s1">pd</span>.<span class="pl-c1">merge</span>(<span class="pl-s1">pd</span>.<span class="pl-c1">merge</span>(<span class="pl-s1">movies_df_exploded</span>.<span class="pl-c1">rename_axis</span>(<span class="pl-s">'movie_id'</span>), <span class="pl-s1">ratings_df</span>, <span class="pl-s1">on</span><span class="pl-c1">=</span><span class="pl-s">'movie_id'</span>), <span class="pl-s1">users_df</span>, <span class="pl-s1">on</span><span class="pl-c1">=</span><span class="pl-s">'user_id'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_ratings_by_genre_and_gender-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_ratings_by_genre_and_gender-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">combined_ratings_data</span> <span class="pl-c1">=</span> <span class="pl-s1">combined_ratings_df</span>.<span class="pl-c1">groupby</span>([<span class="pl-s">'genre'</span>, <span class="pl-s">'gender'</span>]).<span class="pl-c1">agg</span>({<span class="pl-s">'rating'</span>: [<span class="pl-s">'mean'</span>, <span class="pl-s">'count'</span>]}).<span class="pl-c1">reset_index</span>()</td>
        </tr>
        <tr>
          <td id="file-recsys_ratings_by_genre_and_gender-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_ratings_by_genre_and_gender-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">combined_ratings_data</span>.<span class="pl-c1">columns</span> <span class="pl-c1">=</span> [<span class="pl-s">' '</span>.<span class="pl-c1">join</span>(<span class="pl-s1">col</span>).<span class="pl-c1">strip</span>() <span class="pl-k">for</span> <span class="pl-s1">col</span> <span class="pl-c1">in</span> <span class="pl-s1">combined_ratings_data</span>.<span class="pl-c1">columns</span>.<span class="pl-c1">values</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_ratings_by_genre_and_gender-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_ratings_by_genre_and_gender-py-LC4" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_ratings_by_genre_and_gender-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_ratings_by_genre_and_gender-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">combined_ratings_data</span>.<span class="pl-c1">loc</span>[<span class="pl-s1">combined_ratings_data</span>[<span class="pl-s">'gender'</span>] <span class="pl-c1">==</span> <span class="pl-s">'F'</span>, <span class="pl-s">'rating count'</span>] <span class="pl-c1">/=</span> <span class="pl-en">len</span>(<span class="pl-s1">combined_ratings_df</span>[<span class="pl-s1">combined_ratings_df</span>[<span class="pl-s">'gender'</span>] <span class="pl-c1">==</span> <span class="pl-s">'F'</span>])</td>
        </tr>
        <tr>
          <td id="file-recsys_ratings_by_genre_and_gender-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_ratings_by_genre_and_gender-py-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">combined_ratings_data</span>.<span class="pl-c1">loc</span>[<span class="pl-s1">combined_ratings_data</span>[<span class="pl-s">'gender'</span>] <span class="pl-c1">==</span> <span class="pl-s">'M'</span>, <span class="pl-s">'rating count'</span>] <span class="pl-c1">/=</span> <span class="pl-en">len</span>(<span class="pl-s1">combined_ratings_df</span>[<span class="pl-s1">combined_ratings_df</span>[<span class="pl-s">'gender'</span>] <span class="pl-c1">==</span> <span class="pl-s">'M'</span>])</td>
        </tr>
        <tr>
          <td id="file-recsys_ratings_by_genre_and_gender-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_ratings_by_genre_and_gender-py-LC7" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_ratings_by_genre_and_gender-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_ratings_by_genre_and_gender-py-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">px</span>.<span class="pl-c1">bar</span>(<span class="pl-s1">combined_ratings_data</span>, <span class="pl-s1">x</span><span class="pl-c1">=</span><span class="pl-s">'genre'</span>, <span class="pl-s1">y</span><span class="pl-c1">=</span><span class="pl-s">'rating count'</span>, <span class="pl-s1">color</span><span class="pl-c1">=</span><span class="pl-s">'gender'</span>, <span class="pl-s1">barmode</span><span class="pl-c1">=</span><span class="pl-s">'group'</span>)</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/e92108aee6be6ad64f5dcd534f7a52f1/raw/ffa066b7911e6c17bcde1860a74ae288394b1831/recsys_ratings_by_genre_and_gender.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/e92108aee6be6ad64f5dcd534f7a52f1#file-recsys_ratings_by_genre_and_gender-py" class="Link--inTextBlock">
          recsys_ratings_by_genre_and_gender.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<iframe loading="lazy" frameborder="0" scrolling="no" class="wp-block-html" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/media(3).html" height="700" width="960"></iframe>
<p class="wp-block-paragraph">Again, we see some typical male/female differences in this dataset (men gave higher ratings to actions movies than women and vice versa for romance movies). This is a good sanity check for the data as the plots make sense.</p>
<h2 class="wp-block-heading">Part II – Data pre-processing (retrieving movie content information)</h2>
<p class="wp-block-paragraph">In this part we will retrieve an important data source that will help us recommend movies later, and this is the movie plot summaries. We will obtain them from Wikipedia, using the <a href="https://pypi.org/project/wikipedia/">Wikipedia python package</a>.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/7eecb658e93b16e72cb7273abcdfcef1.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114562412" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_movie_plots-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_movie_plots.py content, created by erap129 on 06:09PM on February 05, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_movie_plots.py">
        <tbody><tr>
          <td id="file-recsys_movie_plots-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_movie_plots-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">get_wikipedia_page_name</span>(<span class="pl-s1">raw_name</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_movie_plots-py-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">names</span> <span class="pl-c1">=</span> <span class="pl-s1">wikipedia</span>.<span class="pl-c1">search</span>(<span class="pl-s1">raw_name</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_movie_plots-py-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> <span class="pl-en">len</span>(<span class="pl-s1">names</span>) <span class="pl-c1">==</span> <span class="pl-c1">0</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_movie_plots-py-LC4" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">return</span> <span class="pl-s">''</span></td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_movie_plots-py-LC5" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_movie_plots-py-LC6" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">return</span> <span class="pl-s1">names</span>[<span class="pl-c1">0</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_movie_plots-py-LC7" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_movie_plots-py-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">get_movie_plot</span>(<span class="pl-s1">page_name</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-recsys_movie_plots-py-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">try</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-recsys_movie_plots-py-LC10" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">try</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-recsys_movie_plots-py-LC11" class="blob-code blob-code-inner js-file-line">        <span class="pl-s1">movie_page_content</span> <span class="pl-c1">=</span> <span class="pl-en">str</span>(<span class="pl-s1">wikipedia</span>.<span class="pl-c1">page</span>(<span class="pl-s1">page_name</span>, <span class="pl-s1">auto_suggest</span><span class="pl-c1">=</span><span class="pl-c1">False</span>).<span class="pl-c1">content</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-recsys_movie_plots-py-LC12" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">except</span> <span class="pl-s1">wikipedia</span>.<span class="pl-c1">DisambiguationError</span> <span class="pl-k">as</span> <span class="pl-s1">e</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-recsys_movie_plots-py-LC13" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">for</span> <span class="pl-s1">option</span> <span class="pl-c1">in</span> <span class="pl-s1">e</span>.<span class="pl-c1">options</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-recsys_movie_plots-py-LC14" class="blob-code blob-code-inner js-file-line">          <span class="pl-k">if</span> <span class="pl-s">'film'</span> <span class="pl-c1">in</span> <span class="pl-s1">option</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-recsys_movie_plots-py-LC15" class="blob-code blob-code-inner js-file-line">            <span class="pl-s1">movie_page_content</span> <span class="pl-c1">=</span> <span class="pl-en">str</span>(<span class="pl-s1">wikipedia</span>.<span class="pl-c1">page</span>(<span class="pl-s1">option</span>, <span class="pl-s1">auto_suggest</span><span class="pl-c1">=</span><span class="pl-c1">False</span>).<span class="pl-c1">content</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-recsys_movie_plots-py-LC16" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">return</span> <span class="pl-s">''</span></td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="file-recsys_movie_plots-py-LC17" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">except</span> (<span class="pl-s1">wikipedia</span>.<span class="pl-c1">PageError</span>, <span class="pl-v">KeyError</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td>
          <td id="file-recsys_movie_plots-py-LC18" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">return</span> <span class="pl-s">''</span></td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td>
          <td id="file-recsys_movie_plots-py-LC19" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">re_groups</span> <span class="pl-c1">=</span> <span class="pl-s1">re</span>.<span class="pl-c1">search</span>(<span class="pl-s">"Plot ==(.*?)=+ [A-Z]"</span>, <span class="pl-en">str</span>(<span class="pl-s1">movie_page_content</span>).<span class="pl-c1">replace</span>(<span class="pl-s">'<span class="pl-cce">\n</span>'</span>, <span class="pl-s">''</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L20" class="blob-num js-line-number js-blob-rnum" data-line-number="20"></td>
          <td id="file-recsys_movie_plots-py-LC20" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> <span class="pl-s1">re_groups</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L21" class="blob-num js-line-number js-blob-rnum" data-line-number="21"></td>
          <td id="file-recsys_movie_plots-py-LC21" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">return</span> <span class="pl-s1">re_groups</span>.<span class="pl-c1">group</span>(<span class="pl-c1">1</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L22" class="blob-num js-line-number js-blob-rnum" data-line-number="22"></td>
          <td id="file-recsys_movie_plots-py-LC22" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L23" class="blob-num js-line-number js-blob-rnum" data-line-number="23"></td>
          <td id="file-recsys_movie_plots-py-LC23" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">return</span> <span class="pl-s">''</span></td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L24" class="blob-num js-line-number js-blob-rnum" data-line-number="24"></td>
          <td id="file-recsys_movie_plots-py-LC24" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L25" class="blob-num js-line-number js-blob-rnum" data-line-number="25"></td>
          <td id="file-recsys_movie_plots-py-LC25" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df</span>[<span class="pl-s">'wikipedia_page_name'</span>] <span class="pl-c1">=</span> <span class="pl-s1">movies_df</span>[<span class="pl-s">'movie_name'</span>].<span class="pl-c1">progress_apply</span>(<span class="pl-k">lambda</span> <span class="pl-s1">name</span>: <span class="pl-en">get_wikipedia_page_name</span>(<span class="pl-s1">name</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L26" class="blob-num js-line-number js-blob-rnum" data-line-number="26"></td>
          <td id="file-recsys_movie_plots-py-LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df</span>[<span class="pl-s">'movie_plot'</span>] <span class="pl-c1">=</span> <span class="pl-s1">movies_df</span>[<span class="pl-s">'wikipedia_page_name'</span>].<span class="pl-c1">progress_apply</span>(<span class="pl-k">lambda</span> <span class="pl-s1">page_name</span>: <span class="pl-en">get_movie_plot</span>(<span class="pl-s1">page_name</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L27" class="blob-num js-line-number js-blob-rnum" data-line-number="27"></td>
          <td id="file-recsys_movie_plots-py-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-en">print</span>(<span class="pl-s">f'There are <span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">movies_df</span>[<span class="pl-s">"movie_plot"</span>].<span class="pl-c1">isna</span>().<span class="pl-c1">sum</span>()<span class="pl-kos">}</span></span> NaN movie plots'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_movie_plots-py-L28" class="blob-num js-line-number js-blob-rnum" data-line-number="28"></td>
          <td id="file-recsys_movie_plots-py-LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df</span>[[<span class="pl-s">'movie_name'</span>, <span class="pl-s">'movie_plot'</span>]].<span class="pl-c1">head</span>()</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/7eecb658e93b16e72cb7273abcdfcef1/raw/1df4078d7ddda7845c2a59002cddab04a7aa9875/recsys_movie_plots.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/7eecb658e93b16e72cb7273abcdfcef1#file-recsys_movie_plots-py" class="Link--inTextBlock">
          recsys_movie_plots.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph"><code>There are 615 NaN movie plots</code></p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/42b04be6ca6be7027cabe63593689002.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114563136" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_movie_plots_head-csv" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-csv  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_movie_plots_head.csv content, created by erap129 on 07:11PM on February 05, 2022.">

        <div class="blob-interaction-bar">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
  <input type="text" name="filter" class="form-control js-csv-filter-field blob-filter" autocapitalize="off" placeholder="Search this file…" aria-label="Search this file…">
</div>

  <div class="markdown-body js-check-bidi" data-line-alert="before" data-hpc="">
    <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

    <table class="js-csv-data csv-data js-file-line-container">
      <thead>
        <tr id="file-recsys_movie_plots_head-csv-LC1" class="js-file-line">
          <td id="file-recsys_movie_plots_head-csv-L1" class="blob-num js-line-number" data-line-number="1"></td>
            <th></th>
            <th>movie_name</th>
            <th>movie_plot</th>
        </tr>
      </thead>
      <tbody>
          <tr id="file-recsys_movie_plots_head-csv-LC2" class="js-file-line">
            <td id="file-recsys_movie_plots_head-csv-L2" class="blob-num js-line-number" data-line-number="2"></td>
              <td>0</td>
              <td>Toy Story (1995)</td>
              <td>A group of living toys, who assume lifelessness around humans, are preparing to move into a new house with their owner Andy Davis, his sister Molly and their single mother. The toys become uneasy when Andy has his birthday party a week early; to calm them, Sheriff Woody, Andy's favorite toy and their leader, sends Sarge and his green army men to spy on the gift opening with a baby monitor. The other toys (which include Mr. Potato Head, Slinky Dog, Rex the tyrannosaur, Hamm the piggy bank, and Bo Peep the porcelain doll) are relieved when Andy receives nothing that could replace them. Andy then receives a last-minute surprise gift – a Buzz Lightyear action figure who believes he is a real space ranger. Buzz impresses the other toys with his various features and becomes Andy's new favorite, making Woody jealous.The day before the move, Andy's family plans for a dinner at Pizza Planet, where Andy is allowed to bring along only one toy. To ensure Andy chooses him and not Buzz, Woody tries to use the radio-controlled car RC to knock Buzz behind the desk, but accidentally knocks him out a window instead. The other toys believe Woody deliberately tried to kill Buzz, but Andy arrives and takes Woody before they can exact retribution. A vengeful Buzz stows away in the car, and confronts Woody when the car stops at a gas station on the way to Pizza Planet. The two fight, fall out of the car, and are left behind.After a further argument, the two hitch a ride on a Pizza Planet delivery truck and sneak into the restaurant. Buzz mistakenly believes a claw crane full of Little Green Men to be a true rocket, and Woody climbs in after him. Andy's sadistic next-door neighbor Sid spots and captures the two and takes them to his house, where they encounter his Bull Terrier Scud and his much-abused "mutant" toys made from parts of other toys he has destroyed.As Woody tries to find an escape route, Buzz is shocked by a TV commercial that reveals he is indeed a toy. In denial, he attempts to fly, but breaks his arm off and falls into despair. After Sid's toys fix Buzz, Sid returns and tapes Buzz to a large rocket, planning to destroy him but a storm delays his plot. He resolves to enact this the next morning. Woody helps Buzz realize that his purpose is making Andy happy, restoring Buzz's resolve. Sid takes Buzz out to launch him, but Woody rallies the mutant toys to frighten Sid into never harming toys again, freeing Buzz.Woody and Buzz pursue Andy's moving truck, but Scud sees them and gives chase, biting Woody. Buzz fights off Scud, while Woody, freed, climbs into the truck and pushes RC out, using him to distract Scud and rescue Buzz. The other toys, thinking Woody is now trying to get rid of RC, toss Woody back into the street. Having escaped Scud, Buzz and Woody pursue the truck on RC, and the other toys spot them coming and realize their error. During the chase, RC's batteries run out, forcing Woody to ignite the rocket still strapped to Buzz. As they launch towards the truck, they become airborne, and Woody drops RC into the truck. Buzz opens his wings to sever the tape just before the rocket explodes; he and Woody glide over the truck and fall through the sunroof of Andy's car, landing safely beside Andy.At Christmas, in the new house, Sarge and his men spy on the gift opening again while the other toys wait. Mr. Potato Head is delighted when Molly gets a Mrs. Potato Head, and Woody and Buzz jokingly ponder what gift could be "worse" than Buzz, only to nervously smile at each other when Andy gets a dachshund puppy.</td>
          </tr>
          <tr id="file-recsys_movie_plots_head-csv-LC3" class="js-file-line">
            <td id="file-recsys_movie_plots_head-csv-L3" class="blob-num js-line-number" data-line-number="3"></td>
              <td>1</td>
              <td>Jumanji (1995)</td>
              <td>In 1969, Alan Parrish lives with his parents Sam and Carol-Anne in Brantford, New Hampshire. One day, he escapes a group of bullies and retreats to Sam's shoe company. He meets his friend, Carl Bentley, who reveals a new shoe prototype he made by himself. Alan misplaces the prototype and it damages a machine, but Carl takes responsibility and loses his job. After the bullies attack Alan and steal his bicycle, Alan follows the sound of tribal drumbeats to a construction site. He finds a board game called Jumanji, which was buried a century earlier, and brings it home.That night, after an argument with his father about attending a boarding school, Alan plans to run away, but his friend, Sarah Whittle, returns his bicycle. Alan shows her Jumanji and invites her to play. With each roll of the dice, the game's piece move by themselves and a cryptic message describing the roll's outcome appears in the crystal ball at the center of the board. When Sarah takes her first turn, an eerie squeaking sound is heard. Alan then inadvertently rolls the dice after being startled by a chiming clock; he is given a message stating,"In the jungle you must wait, until the dice read five or eight.", and he is sucked into the game. Afterwards, a colony of bats appears and chases Sarah out of the mansion.Twenty-six years later, in 1995, Judy and Peter Shepherd move into the now-vacant Parrish mansion with their aunt, Nora, after their parents died in an accident on a ski trip in Canada the winter before. Discovering Jumanji in the attic, Judy and Peter begin playing it, resulting in the appearances of giant mosquitoes and a troop of monkeys. The game rules state that everything will be restored when the game ends, so they continue playing. A five is soon rolled, releasing a lion and a now-adult Alan. As Alan makes his way out, he meets Carl, who is now working as a police officer. Alan, Judy and Peter go to the now-abandoned shoe factory, where a homeless man tells Alan that Sam abandoned the business to search for his son after his disappearance until his death four years prior. Eventually, the factory closed, sending Brantford into economic decline.Realizing that they need Sarah to finish the game, the three locate her, now suffering from post-traumatic stress disorder due to both Jumanji and Alan's disappearance, and persuade her to join them. Sarah's next move releases fast-growing plant life and Alan's releases a big-game hunter named Van Pelt, whom Alan first met in the game’s inner world. Judy's next roll summons a stampeding herd of various animals, including several pelicans, one of which steals the game. Peter retrieves it, but Alan is arrested by Carl. Back in town, the stampede wreaks havoc and Van Pelt steals the game, intent on using it as bait to lure Alan to him.Peter, Sarah and Judy follow Van Pelt into a department store, where they set booby traps to subdue him and retrieve the game, while Alan, after revealing his identity to Carl, is set free. When the four return to the mansion, it is now completely overrun by jungle wildlife. They release one calamity after another until Van Pelt arrives. When Alan drops the dice, he wins the game which causes everything that happened as a result of the game to be reversed.Alan and Sarah return to 1969, just in time for Alan to reconcile with Sam, who tells him that he does not have to attend the boarding school, and confess that he was responsible for damaging the factory's machine, insuring Carl's job is kept. After realizing that they have memories of the events that took place, Alan and Sarah throw Jumanji into a river, then share a kiss.In an alternate version of the present, Alan and Sarah are married and expecting their first child. Alan's parents are still alive as Alan is now successfully running the family business. Alan and Sarah meet Judy, Peter, and their parents Jim and Martha for the first time during a Christmas party. Alan offers Jim a job after they convince them to cancel their upcoming ski trip, averting their deaths.Elsewhere, two young girls hear drumbeats while walking on a beach. Jumanji is seen lying partially buried in the sand.</td>
          </tr>
          <tr id="file-recsys_movie_plots_head-csv-LC4" class="js-file-line">
            <td id="file-recsys_movie_plots_head-csv-L4" class="blob-num js-line-number" data-line-number="4"></td>
              <td>2</td>
              <td>Grumpier Old Men (1995)</td>
              <td>The feud between Max (Walter Matthau) and John (Jack Lemmon) has cooled and they have become good friends. Their children, Melanie (Daryl Hannah) and Jacob (Kevin Pollak), have become engaged. Meanwhile, John is enjoying his marriage to new wife Ariel (Ann-Margret). John and Max still call each other "moron" and "putz" respectively, but with friendly intentions.The spring and summer fishing season is in full swing with the annual quest to catch "Catfish Hunter," an unusually large catfish that seems to enjoy eluding anyone that tries to catch it. However, the local bait shop closed after Chuck, the previous owner, died in the first movie. Maria Ragetti (Sophia Loren) has purchased the property with the intent of converting it into a fancy Italian restaurant.Irritated it will no longer be a bait shop, Max and John join forces to sabotage the restaurant. They are successful at first with their practical jokes. However, when Ariel learns what is going on, she tells John to apologize to Maria at once, and he does after Ariel kicks him out of the house. Max and Maria begin dating after discovering a shared passion for fishing, while her mother Francesca (Ann Morgan Guilbert) dates John's father, J.W. (Burgess Meredith).To complicate things further, Jacob and Melanie call off their engagement due to stress from their parents' involvement. Upon hearing the news, John and Max reignite their feud and go back to their childish pranks again such as John cutting a hole in Max's fishing net and detaching the anchor to his boat. Max retaliates by disconnecting John's motor from his boat and broadcasting him nude (while Ariel was making a clay statue of him) at a Sears department store. Ariel is stressed out because of it and leaves John until things settle down. At the restaurant, Francesca is worried about all the time Maria spends with Max. She reminds her daughter of her five failed marriages and worries that Max will make it six.After being convinced to take a long look at herself, Maria reluctantly stops seeing Max. Distraught over losing Ariel, John heads to the lake for his father's advice but finds that he has died in his favorite spot with a fishing pole in one hand and a can of beer in the other. Following the funeral and the spreading of J.W.'s ashes in the lake, John and Max call off their feud again.After realizing that their own inability to properly plan a wedding is what drove their kids to call it off, they decide to set it right. They help Jacob and Melanie reconcile, explaining their drama. John decides to reconcile with Ariel and convinces Max to talk to Maria. He does and convinces her to take a chance on him, while convincing her mother that he's not going to be like her previous sons-in-laws. John and Max manage to catch "Catfish Hunter" but they reluctantly decide to release it so it can be with J.W. in the lake. After they let it go, they realize that they're late for a wedding happening in town and rush to the church as quickly as they can. The wedding is revealed to be for Max and Maria, who have reconciled (Jacob and Melanie have eloped). On the way to their honeymoon, they discover Max's one-eyed bulldog, Lucky, in the car with them, being put there by John earlier as a prank. Ragetti's is also reformed so it will be both a restaurant and a bait shop.</td>
          </tr>
          <tr id="file-recsys_movie_plots_head-csv-LC5" class="js-file-line">
            <td id="file-recsys_movie_plots_head-csv-L5" class="blob-num js-line-number" data-line-number="5"></td>
              <td>3</td>
              <td>Waiting to Exhale (1995)</td>
              <td>Four friends (Savannah, Robin, Bernadine, and Gloria) get together frequently to support one another and listen to each other vent about life and love. They each want to be in a romantic relationship but they each have difficulties finding a good man.Successful television producer Savannah "'Vannah" Jackson believes that one day her married lover will leave his wife for her. She later realizes that he won't, and that she must find her own man who will love her for who she really is.Bernadine "Bernie" Harris, who abandoned her career dream of having a catering business, instead raised a family and supported her husband. He announces he is leaving her for a white woman with whom he works.Robin Stokes is a high-powered executive and the long-time mistress of married Russell. After dumping him, she has problems finding someone suitable.Beauty salon owner Gloria "Glo" Matthews is a single mother. Her ex-husband and the father of her son tells her that he was always bisexual and now realizes he is gay. Gloria eventually falls in love with a new neighbor, Marvin King.The situations all resolve themselves for the better. Savannah ends up permanently dumping her married lover. Bernadine gets a large divorce settlement from her ex-husband and finds love with a widowed civil rights attorney who encourages her to pursue her catering dream. Robin ends up pregnant by her married lover, but dumps him, and chooses to raise the baby on her own. Gloria apologizes to her neighbor for snapping at him when he suggested that she should let her son grow up and experience the world. She learns not to be so protective of her son and lets him go on an "Up with People" trip to Spain. She finds love while learning to take care of herself rather than being self-sacrificing in her devotion to her son and her business.</td>
          </tr>
          <tr id="file-recsys_movie_plots_head-csv-LC6" class="js-file-line">
            <td id="file-recsys_movie_plots_head-csv-L6" class="blob-num js-line-number" data-line-number="6"></td>
              <td>4</td>
              <td>Father of the Bride Part II (1995)</td>
              <td>The film begins four years after the events of the first one, with George Banks telling the audience he is ready for the empty nest he'll soon receive with all of his children grown up. Shortly thereafter, Annie tells the family that she's pregnant. George begins to mildly panic, insisting he is too young to be a grandfather. He has his assistant make a list of people who are older than him, dyes his hair brown, and decides he and Nina should sell the home their children have grown up in if one more thing goes wrong with it.Termites strike the house two weeks later. George puts the house on the market without telling Nina, and sells it to the Habibs. At dinner, after a discussion on whether the baby's last name will be hyphenated or not, George reveals the house has been sold. Nina is livid, as she and George have to be out in 10 days and have no place to go. The Banks stay at the mansion owned by Bryan's parents. As the MacKenzies are on a cruise in the Caribbean, the Banks have to deal with their vicious Dobermans, much to the chagrin of George, who is still paranoid from a previous mishap with them. Nina begins experiencing symptoms that bring up the concern of menopause. After visiting the doctor the following day, they are given the opposite news: Nina is pregnant, too.Following the unexpected news of Nina's pregnancy, they have a chance meeting with Franck, Annie's former wedding planner, who is elated at both women expecting. George has switched gears, now believing he is too old to be a father again. His feelings come to a head when he and Nina go to Annie's and Bryan's house to announce their news. Nina brings his insensitivity to light and tells him not to come home. As an apology, George reluctantly hires Franck to do the baby shower. As they are driving home, Nina and George have differing perspectives on the prospect of becoming new parents again. Both express how strange it will be, but begin to welcome the change.Out for a walk, George notices that the street to their old house is blocked off and sees a demolition crew with a wrecking ball at the house, learning that Mr. Habib plans to demolish it. An upset George runs in and tries to stop them as the wrecking ball is about to slam into the house. He pleads with Mr. Habib not to tear down the house since he is going to be a father again, as there is great sentimental value to it. He realizes that if he's going to have another child, he wants to raise him/her in the house his family grew up in. When George offers to buy the house back, Habib agrees on the condition that George pay him $100,000 up front. Although reluctant to pay that money, he gives in. The Banks then move back into their house, right as Bryan is called away to an emergency meeting in Japan.Meanwhile, Nina and Annie are moving along in their simultaneous pregnancies and need around the clock care from George. Matty takes over when his father George is away at work. Franck turns simple redecoration of Nina and George's new baby's nursery into a full-scale renovation/addition, which he affectionately calls, 'the baby's suite'. Eventually, all the stress and nights of sleep deprivation wear George out. When 'the baby's suite' is revealed, Franck offers George some sleeping pills from his native country called 'Vatsnik' after George tells him that he has not been getting enough sleep. George unknowingly takes too high of a dosage and suddenly passes out during dinner. The family becomes worried, which is only increased when Annie finally goes into labor.Franck takes over the role of driving the family to the hospital with a barely coherent George in tow. After being mistaken for a patient in need of a prostate exam, George finally regains full consciousness and goes to see Nina when she goes into labor. George is initially cynical about the female obstetrician who fills in because their own is unavailable. Despite wanting his grandchild to be delivered by the same doctor who delivered his children, George comes to terms with the arrangement. Bryan soon returns to be with Annie, who gives birth to a baby boy, while Nina at the same moment gives birth to a baby girl, named George and Megan, respectively. As George holds his grandson and daughter in his arms, he delivers the stand-out line of the movie - "Life doesn't get any better than this". George finishes telling the story about Nina and Annie's pregnancies. Bryan and Annie then move to Boston with baby George, since Annie took a job there. The film concludes with George standing on the road in front of his house, admiring it with Megan by his side. As he completes the story, he begins walking up the driveway, telling Megan about all the basketball tricks George will teach her.</td>
          </tr>
      </tbody>
    </table>
  </div>

    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/42b04be6ca6be7027cabe63593689002/raw/4a40c8f03213103a83c3e2a49f1784f858c3d136/recsys_movie_plots_head.csv" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/42b04be6ca6be7027cabe63593689002#file-recsys_movie_plots_head-csv" class="Link--inTextBlock">
          recsys_movie_plots_head.csv
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph">We see that we were not able to obtain movie plots for 615 movies. This might be because their Wikipedia page doesn’t have a "Plot" category or for some other reason. Since web crawling isn’t the main point here, we’ll just drop these movies and all ratings associated with them.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/055274ffe94562023e4b31ed028aac3d.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114563167" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_drop_invalid_movie_plots-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_drop_invalid_movie_plots.py content, created by erap129 on 07:14PM on February 05, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_drop_invalid_movie_plots.py">
        <tbody><tr>
          <td id="file-recsys_drop_invalid_movie_plots-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_drop_invalid_movie_plots-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df</span> <span class="pl-c1">=</span> <span class="pl-s1">movies_df</span>[<span class="pl-c1">~</span><span class="pl-s1">pd</span>.<span class="pl-c1">isna</span>(<span class="pl-s1">movies_df</span>[<span class="pl-s">'movie_plot'</span>])]</td>
        </tr>
        <tr>
          <td id="file-recsys_drop_invalid_movie_plots-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_drop_invalid_movie_plots-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">ratings_df</span> <span class="pl-c1">=</span> <span class="pl-s1">ratings_df</span>[<span class="pl-s1">ratings_df</span>[<span class="pl-s">'movie_id'</span>].<span class="pl-c1">isin</span>(<span class="pl-s1">movies_df</span>.<span class="pl-c1">index</span>)]</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/055274ffe94562023e4b31ed028aac3d/raw/2bb895837c4fcd10dfccd4ef29c19d8c46b41839/recsys_drop_invalid_movie_plots.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/055274ffe94562023e4b31ed028aac3d#file-recsys_drop_invalid_movie_plots-py" class="Link--inTextBlock">
          recsys_drop_invalid_movie_plots.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<h2 class="wp-block-heading">Part III – Setting up the recommendation problem and obtaining a baseline score</h2>
<p class="wp-block-paragraph">We will choose a user that will be acase study for which we will make actual predictions and see if the make sense to us. Most conveniently, we will choose the user with ID #1. Shown below in the user and the movies that she rated. We can see that she is a female K-12 student (age of 1 is an error in the data but I don’t think it’s very important anyhow). The top-20 movies she likes are mainly classical children’s hits with some anomalies here and there (Schindler’s List, One Flew Over the Cuckoo’s Nest).</p>
<figure class="wp-block-image size-large"><img data-dominant-color="343535" data-has-transparency="true" style="--dominant-color: #343535;" loading="lazy" decoding="async" width="555" height="133" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1EtuZbHe2-d2yY56u0YA9mQ.png" alt="" class="wp-image-511382 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1EtuZbHe2-d2yY56u0YA9mQ.png 555w, https://towardsdatascience.com/wp-content/uploads/2022/06/1EtuZbHe2-d2yY56u0YA9mQ-300x72.png 300w" sizes="auto, (max-width: 555px) 100vw, 555px"></figure>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/7a4cd6de2ca4d37258fca5f5b90bcbf7.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist116102332" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_ratings_user_1-csv" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-csv  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_ratings_user_1.csv content, created by erap129 on 03:42PM on May 04, 2022.">

        <div class="blob-interaction-bar">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
  <input type="text" name="filter" class="form-control js-csv-filter-field blob-filter" autocapitalize="off" placeholder="Search this file…" aria-label="Search this file…">
</div>

  <div class="markdown-body js-check-bidi" data-line-alert="before" data-hpc="">
    <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

    <table class="js-csv-data csv-data js-file-line-container">
      <thead>
        <tr id="file-recsys_ratings_user_1-csv-LC1" class="js-file-line">
          <td id="file-recsys_ratings_user_1-csv-L1" class="blob-num js-line-number" data-line-number="1"></td>
            <th></th>
            <th>user_id</th>
            <th>movie_id</th>
            <th>rating</th>
            <th>time</th>
            <th>movie_name</th>
            <th>genre</th>
        </tr>
      </thead>
      <tbody>
          <tr id="file-recsys_ratings_user_1-csv-LC2" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L2" class="blob-num js-line-number" data-line-number="2"></td>
              <td>0</td>
              <td>user_1</td>
              <td>movie_1193</td>
              <td>5</td>
              <td>978300760</td>
              <td>One Flew Over the Cuckoo's Nest (1975)</td>
              <td>['Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC3" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L3" class="blob-num js-line-number" data-line-number="3"></td>
              <td>45</td>
              <td>user_1</td>
              <td>movie_1028</td>
              <td>5</td>
              <td>978301777</td>
              <td>Mary Poppins (1964)</td>
              <td>["Children's", 'Comedy', 'Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC4" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L4" class="blob-num js-line-number" data-line-number="4"></td>
              <td>39</td>
              <td>user_1</td>
              <td>movie_150</td>
              <td>5</td>
              <td>978301777</td>
              <td>Apollo 13 (1995)</td>
              <td>['Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC5" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L5" class="blob-num js-line-number" data-line-number="5"></td>
              <td>23</td>
              <td>user_1</td>
              <td>movie_527</td>
              <td>5</td>
              <td>978824195</td>
              <td>Schindler's List (1993)</td>
              <td>['Drama', 'War']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC6" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L6" class="blob-num js-line-number" data-line-number="6"></td>
              <td>4</td>
              <td>user_1</td>
              <td>movie_2355</td>
              <td>5</td>
              <td>978824291</td>
              <td>Bug's Life, A (1998)</td>
              <td>['Animation',"Children's", 'Comedy']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC7" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L7" class="blob-num js-line-number" data-line-number="7"></td>
              <td>6</td>
              <td>user_1</td>
              <td>movie_1287</td>
              <td>5</td>
              <td>978302039</td>
              <td>Ben-Hur (1959)</td>
              <td>['Action', 'Adventure', 'Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC8" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L8" class="blob-num js-line-number" data-line-number="8"></td>
              <td>10</td>
              <td>user_1</td>
              <td>movie_595</td>
              <td>5</td>
              <td>978824268</td>
              <td>Beauty and the Beast (1991)</td>
              <td>['Animation',"Children's", 'Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC9" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L9" class="blob-num js-line-number" data-line-number="9"></td>
              <td>48</td>
              <td>user_1</td>
              <td>movie_2028</td>
              <td>5</td>
              <td>978301619</td>
              <td>Saving Private Ryan (1998)</td>
              <td>['Action', 'Drama', 'War']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC10" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L10" class="blob-num js-line-number" data-line-number="10"></td>
              <td>46</td>
              <td>user_1</td>
              <td>movie_1029</td>
              <td>5</td>
              <td>978302205</td>
              <td>Dumbo (1941)</td>
              <td>['Animation',"Children's", 'Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC11" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L11" class="blob-num js-line-number" data-line-number="11"></td>
              <td>7</td>
              <td>user_1</td>
              <td>movie_2804</td>
              <td>5</td>
              <td>978300719</td>
              <td>Christmas Story, A (1983)</td>
              <td>['Comedy', 'Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC12" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L12" class="blob-num js-line-number" data-line-number="12"></td>
              <td>14</td>
              <td>user_1</td>
              <td>movie_1035</td>
              <td>5</td>
              <td>978301753</td>
              <td>Sound of Music, The (1965)</td>
              <td>['Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC13" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L13" class="blob-num js-line-number" data-line-number="13"></td>
              <td>22</td>
              <td>user_1</td>
              <td>movie_1270</td>
              <td>5</td>
              <td>978300055</td>
              <td>Back to the Future (1985)</td>
              <td>['Comedy', 'Sci-Fi']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC14" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L14" class="blob-num js-line-number" data-line-number="14"></td>
              <td>37</td>
              <td>user_1</td>
              <td>movie_1022</td>
              <td>5</td>
              <td>978300055</td>
              <td>Cinderella (1950)</td>
              <td>['Animation',"Children's", 'Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC15" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L15" class="blob-num js-line-number" data-line-number="15"></td>
              <td>25</td>
              <td>user_1</td>
              <td>movie_48</td>
              <td>5</td>
              <td>978824351</td>
              <td>Pocahontas (1995)</td>
              <td>['Animation',"Children's", 'Musical', 'Romance']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC16" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L16" class="blob-num js-line-number" data-line-number="16"></td>
              <td>18</td>
              <td>user_1</td>
              <td>movie_3105</td>
              <td>5</td>
              <td>978301713</td>
              <td>Awakenings (1990)</td>
              <td>['Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC17" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L17" class="blob-num js-line-number" data-line-number="17"></td>
              <td>41</td>
              <td>user_1</td>
              <td>movie_1961</td>
              <td>5</td>
              <td>978301590</td>
              <td>Rain Man (1988)</td>
              <td>['Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC18" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L18" class="blob-num js-line-number" data-line-number="18"></td>
              <td>40</td>
              <td>user_1</td>
              <td>movie_1</td>
              <td>5</td>
              <td>978824268</td>
              <td>Toy Story (1995)</td>
              <td>['Animation',"Children's", 'Comedy']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC19" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L19" class="blob-num js-line-number" data-line-number="19"></td>
              <td>36</td>
              <td>user_1</td>
              <td>movie_1836</td>
              <td>5</td>
              <td>978300172</td>
              <td>Last Days of Disco, The (1998)</td>
              <td>['Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC20" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L20" class="blob-num js-line-number" data-line-number="20"></td>
              <td>11</td>
              <td>user_1</td>
              <td>movie_938</td>
              <td>4</td>
              <td>978301752</td>
              <td>Gigi (1958)</td>
              <td>['Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC21" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L21" class="blob-num js-line-number" data-line-number="21"></td>
              <td>12</td>
              <td>user_1</td>
              <td>movie_2398</td>
              <td>4</td>
              <td>978302281</td>
              <td>Miracle on 34th Street (1947)</td>
              <td>['Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC22" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L22" class="blob-num js-line-number" data-line-number="22"></td>
              <td>13</td>
              <td>user_1</td>
              <td>movie_2918</td>
              <td>4</td>
              <td>978302124</td>
              <td>Ferris Bueller's Day Off (1986)</td>
              <td>['Comedy']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC23" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L23" class="blob-num js-line-number" data-line-number="23"></td>
              <td>15</td>
              <td>user_1</td>
              <td>movie_2791</td>
              <td>4</td>
              <td>978302188</td>
              <td>Airplane! (1980)</td>
              <td>['Comedy']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC24" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L24" class="blob-num js-line-number" data-line-number="24"></td>
              <td>28</td>
              <td>user_1</td>
              <td>movie_1545</td>
              <td>4</td>
              <td>978824139</td>
              <td>Ponette (1996)</td>
              <td>['Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC25" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L25" class="blob-num js-line-number" data-line-number="25"></td>
              <td>30</td>
              <td>user_1</td>
              <td>movie_2294</td>
              <td>4</td>
              <td>978824291</td>
              <td>Antz (1998)</td>
              <td>['Animation',"Children's"]</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC26" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L26" class="blob-num js-line-number" data-line-number="26"></td>
              <td>17</td>
              <td>user_1</td>
              <td>movie_2018</td>
              <td>4</td>
              <td>978301777</td>
              <td>Bambi (1942)</td>
              <td>['Animation',"Children's"]</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC27" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L27" class="blob-num js-line-number" data-line-number="27"></td>
              <td>26</td>
              <td>user_1</td>
              <td>movie_1097</td>
              <td>4</td>
              <td>978301953</td>
              <td>E.T. the Extra-Terrestrial (1982)</td>
              <td>["Children's", 'Drama', 'Fantasy', 'Sci-Fi']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC28" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L28" class="blob-num js-line-number" data-line-number="28"></td>
              <td>52</td>
              <td>user_1</td>
              <td>movie_1246</td>
              <td>4</td>
              <td>978302091</td>
              <td>Dead Poets Society (1989)</td>
              <td>['Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC29" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L29" class="blob-num js-line-number" data-line-number="29"></td>
              <td>19</td>
              <td>user_1</td>
              <td>movie_2797</td>
              <td>4</td>
              <td>978302039</td>
              <td>Big (1988)</td>
              <td>['Comedy', 'Fantasy']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC30" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L30" class="blob-num js-line-number" data-line-number="30"></td>
              <td>8</td>
              <td>user_1</td>
              <td>movie_594</td>
              <td>4</td>
              <td>978302268</td>
              <td>Snow White and the Seven Dwarfs (1937)</td>
              <td>['Animation',"Children's", 'Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC31" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L31" class="blob-num js-line-number" data-line-number="31"></td>
              <td>44</td>
              <td>user_1</td>
              <td>movie_260</td>
              <td>4</td>
              <td>978300760</td>
              <td>Star Wars: Episode IV - A New Hope (1977)</td>
              <td>['Action', 'Adventure', 'Fantasy', 'Sci-Fi']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC32" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L32" class="blob-num js-line-number" data-line-number="32"></td>
              <td>31</td>
              <td>user_1</td>
              <td>movie_3186</td>
              <td>4</td>
              <td>978300019</td>
              <td>Girl, Interrupted (1999)</td>
              <td>['Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC33" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L33" class="blob-num js-line-number" data-line-number="33"></td>
              <td>27</td>
              <td>user_1</td>
              <td>movie_1721</td>
              <td>4</td>
              <td>978300055</td>
              <td>Titanic (1997)</td>
              <td>['Drama', 'Romance']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC34" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L34" class="blob-num js-line-number" data-line-number="34"></td>
              <td>33</td>
              <td>user_1</td>
              <td>movie_588</td>
              <td>4</td>
              <td>978824268</td>
              <td>Aladdin (1992)</td>
              <td>['Animation',"Children's", 'Comedy', 'Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC35" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L35" class="blob-num js-line-number" data-line-number="35"></td>
              <td>51</td>
              <td>user_1</td>
              <td>movie_608</td>
              <td>4</td>
              <td>978301398</td>
              <td>Fargo (1996)</td>
              <td>['Crime', 'Drama', 'Thriller']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC36" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L36" class="blob-num js-line-number" data-line-number="36"></td>
              <td>50</td>
              <td>user_1</td>
              <td>movie_3114</td>
              <td>4</td>
              <td>978302174</td>
              <td>Toy Story 2 (1999)</td>
              <td>['Animation',"Children's", 'Comedy']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC37" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L37" class="blob-num js-line-number" data-line-number="37"></td>
              <td>32</td>
              <td>user_1</td>
              <td>movie_1566</td>
              <td>4</td>
              <td>978824330</td>
              <td>Hercules (1997)</td>
              <td>['Adventure', 'Animation',"Children's", 'Comedy', 'Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC38" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L38" class="blob-num js-line-number" data-line-number="38"></td>
              <td>42</td>
              <td>user_1</td>
              <td>movie_1962</td>
              <td>4</td>
              <td>978301753</td>
              <td>Driving Miss Daisy (1989)</td>
              <td>['Drama']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC39" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L39" class="blob-num js-line-number" data-line-number="39"></td>
              <td>43</td>
              <td>user_1</td>
              <td>movie_2692</td>
              <td>4</td>
              <td>978301570</td>
              <td>Run Lola Run (Lola rennt) (1998)</td>
              <td>['Action', 'Crime', 'Romance']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC40" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L40" class="blob-num js-line-number" data-line-number="40"></td>
              <td>34</td>
              <td>user_1</td>
              <td>movie_1907</td>
              <td>4</td>
              <td>978824330</td>
              <td>Mulan (1998)</td>
              <td>['Animation',"Children's"]</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC41" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L41" class="blob-num js-line-number" data-line-number="41"></td>
              <td>35</td>
              <td>user_1</td>
              <td>movie_783</td>
              <td>4</td>
              <td>978824291</td>
              <td>Hunchback of Notre Dame, The (1996)</td>
              <td>['Animation',"Children's", 'Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC42" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L42" class="blob-num js-line-number" data-line-number="42"></td>
              <td>20</td>
              <td>user_1</td>
              <td>movie_2321</td>
              <td>3</td>
              <td>978302205</td>
              <td>Pleasantville (1998)</td>
              <td>['Comedy']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC43" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L43" class="blob-num js-line-number" data-line-number="43"></td>
              <td>16</td>
              <td>user_1</td>
              <td>movie_2687</td>
              <td>3</td>
              <td>978824268</td>
              <td>Tarzan (1999)</td>
              <td>['Animation',"Children's"]</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC44" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L44" class="blob-num js-line-number" data-line-number="44"></td>
              <td>24</td>
              <td>user_1</td>
              <td>movie_2340</td>
              <td>3</td>
              <td>978300103</td>
              <td>Meet Joe Black (1998)</td>
              <td>['Romance']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC45" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L45" class="blob-num js-line-number" data-line-number="45"></td>
              <td>1</td>
              <td>user_1</td>
              <td>movie_661</td>
              <td>3</td>
              <td>978302109</td>
              <td>James and the Giant Peach (1996)</td>
              <td>['Animation',"Children's", 'Musical']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC46" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L46" class="blob-num js-line-number" data-line-number="46"></td>
              <td>29</td>
              <td>user_1</td>
              <td>movie_745</td>
              <td>3</td>
              <td>978824268</td>
              <td>Close Shave, A (1995)</td>
              <td>['Animation', 'Comedy', 'Thriller']</td>
          </tr>
          <tr id="file-recsys_ratings_user_1-csv-LC47" class="js-file-line">
            <td id="file-recsys_ratings_user_1-csv-L47" class="blob-num js-line-number" data-line-number="47"></td>
              <td>2</td>
              <td>user_1</td>
              <td>movie_914</td>
              <td>3</td>
              <td>978301968</td>
              <td>My Fair Lady (1964)</td>
              <td>['Musical', 'Romance']</td>
          </tr>
      </tbody>
    </table>
  </div>

    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/7a4cd6de2ca4d37258fca5f5b90bcbf7/raw/167f2ffef3f7d2b195c5f101b817adbc7dce178b/recsys_ratings_user_1.csv" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/7a4cd6de2ca4d37258fca5f5b90bcbf7#file-recsys_ratings_user_1-csv" class="Link--inTextBlock">
          recsys_ratings_user_1.csv
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph">We will also shine our spotlight on the movie Toy Story (1995), and for each prediction method we will check which are the movies that are closest to this movie in the embedding space.</p>
<p class="wp-block-paragraph">Finally, let’s start recommending stuff! We will create two dataset splits:</p>
<ol class="wp-block-list">
<li>Standard train/test split. This will be used for the rating prediction regression task</li>
<li>
<p class="wp-block-paragraph">Leave-one-out cross-validation split. This will be used for hit-rate prediction (which is generally regarded as a more relevant metric in the field of recommender systems). The split is performed by taking one movie per user out of the dataset and using this as a train set. All the other user’s movies will be on the trainset. Then, the hit rate is the percentage of times the movie we took out was in the top-K ratings for that user.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/76686996750758c7530de98bb326a655.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114811679" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_create_data_splits-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_create_data_splits.py content, created by erap129 on 07:29AM on February 19, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_create_data_splits.py">
        <tbody><tr>
          <td id="file-recsys_create_data_splits-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_create_data_splits-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">reader</span> <span class="pl-c1">=</span> <span class="pl-en">Reader</span>(<span class="pl-s1">rating_scale</span><span class="pl-c1">=</span>(<span class="pl-c1">1</span>, <span class="pl-c1">5</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_create_data_splits-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_create_data_splits-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">data</span> <span class="pl-c1">=</span> <span class="pl-v">Dataset</span>.<span class="pl-c1">load_from_df</span>(<span class="pl-s1">ratings_df</span>[[<span class="pl-s">'user_id'</span>, <span class="pl-s">'movie_id'</span>, <span class="pl-s">'rating'</span>]], <span class="pl-s1">reader</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_create_data_splits-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_create_data_splits-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span> <span class="pl-c1">=</span> <span class="pl-en">train_test_split</span>(<span class="pl-s1">data</span>, <span class="pl-s1">test_size</span><span class="pl-c1">=</span><span class="pl-c1">.25</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_create_data_splits-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_create_data_splits-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">LOOCV</span> <span class="pl-c1">=</span> <span class="pl-en">LeaveOneOut</span>(<span class="pl-s1">n_splits</span><span class="pl-c1">=</span><span class="pl-c1">1</span>, <span class="pl-s1">random_state</span><span class="pl-c1">=</span><span class="pl-c1">1</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_create_data_splits-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_create_data_splits-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span> <span class="pl-c1">=</span> <span class="pl-en">list</span>(<span class="pl-c1">LOOCV</span>.<span class="pl-c1">split</span>(<span class="pl-s1">data</span>))[<span class="pl-c1">0</span>]</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/76686996750758c7530de98bb326a655/raw/041e781d4f5ed0210172212b635c0b38052c6f28/recsys_create_data_splits.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/76686996750758c7530de98bb326a655#file-recsys_create_data_splits-py" class="Link--inTextBlock">
          recsys_create_data_splits.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph">For each method we will calculate:</p>
</li>
</ol>
<ul class="wp-block-list">
<li>RMSE on test set</li>
<li>hit-rate on leave-one-out cross validation set</li>
<li>Top predictions for user #1 (case study)</li>
<li>Top-10 most similar movies to Toy Story (1995)</li>
</ul>
<p class="wp-block-paragraph">Now, let’s define some auxiliary functions to help us evaluate our algorithms (mainly – the hit rate). We will inspect two measures for each algorithm – the RMSE and hit rate. Some of the code here is taken from the fabulous course on recommender systems by <a href="https://sundog-education.com/recsys/">Sundog Education</a>. I will also implement a simple tweak to the original KNN and SVD algorithms because calculating the hit rate takes a long time and I want to at least be able to measure the progress in real-time.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/5ea94174eaeca99c5c272f06a67569ad.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114811696" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_hitrate_aux_funcs-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_hitrate_aux_funcs.py content, created by erap129 on 07:33AM on February 19, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_hitrate_aux_funcs.py">
        <tbody><tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">collections</span> <span class="pl-k">import</span> <span class="pl-s1">defaultdict</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC2" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">GetTopN</span>(<span class="pl-s1">predictions</span>, <span class="pl-s1">n</span><span class="pl-c1">=</span><span class="pl-c1">10</span>, <span class="pl-s1">minimumRating</span><span class="pl-c1">=</span><span class="pl-c1">4.0</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">topN</span> <span class="pl-c1">=</span> <span class="pl-en">defaultdict</span>(<span class="pl-s1">list</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC5" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC6" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span> <span class="pl-s1">userID</span>, <span class="pl-s1">movieID</span>, <span class="pl-s1">actualRating</span>, <span class="pl-s1">estimatedRating</span>, <span class="pl-s1">_</span> <span class="pl-c1">in</span> <span class="pl-s1">predictions</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> (<span class="pl-s1">estimatedRating</span> <span class="pl-c1">&gt;=</span> <span class="pl-s1">minimumRating</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC8" class="blob-code blob-code-inner js-file-line">        <span class="pl-s1">topN</span>[<span class="pl-s1">userID</span>].<span class="pl-c1">append</span>((<span class="pl-s1">movieID</span>, <span class="pl-s1">estimatedRating</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC9" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC10" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span> <span class="pl-s1">userID</span>, <span class="pl-s1">ratings</span> <span class="pl-c1">in</span> <span class="pl-s1">topN</span>.<span class="pl-c1">items</span>():</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC11" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">ratings</span>.<span class="pl-c1">sort</span>(<span class="pl-s1">key</span><span class="pl-c1">=</span><span class="pl-k">lambda</span> <span class="pl-s1">x</span>: <span class="pl-s1">x</span>[<span class="pl-c1">1</span>], <span class="pl-s1">reverse</span><span class="pl-c1">=</span><span class="pl-c1">True</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC12" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">topN</span>[<span class="pl-s1">userID</span>] <span class="pl-c1">=</span> <span class="pl-s1">ratings</span>[:<span class="pl-s1">n</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC13" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC14" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> <span class="pl-s1">topN</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC15" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">HitRate</span>(<span class="pl-s1">topNPredicted</span>, <span class="pl-s1">leftOutPredictions</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC17" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">hits</span> <span class="pl-c1">=</span> <span class="pl-c1">0</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC18" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">total</span> <span class="pl-c1">=</span> <span class="pl-c1">0</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC19" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L20" class="blob-num js-line-number js-blob-rnum" data-line-number="20"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC20" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"># For each left-out rating</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L21" class="blob-num js-line-number js-blob-rnum" data-line-number="21"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC21" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span> <span class="pl-s1">leftOut</span> <span class="pl-c1">in</span> <span class="pl-s1">leftOutPredictions</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L22" class="blob-num js-line-number js-blob-rnum" data-line-number="22"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC22" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">userID</span> <span class="pl-c1">=</span> <span class="pl-s1">leftOut</span>[<span class="pl-c1">0</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L23" class="blob-num js-line-number js-blob-rnum" data-line-number="23"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC23" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">leftOutMovieID</span> <span class="pl-c1">=</span> <span class="pl-s1">leftOut</span>[<span class="pl-c1">1</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L24" class="blob-num js-line-number js-blob-rnum" data-line-number="24"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC24" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"># Is it in the predicted top 10 for this user?</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L25" class="blob-num js-line-number js-blob-rnum" data-line-number="25"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC25" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">hit</span> <span class="pl-c1">=</span> <span class="pl-c1">False</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L26" class="blob-num js-line-number js-blob-rnum" data-line-number="26"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC26" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span> <span class="pl-s1">movieID</span>, <span class="pl-s1">predictedRating</span> <span class="pl-c1">in</span> <span class="pl-s1">topNPredicted</span>[<span class="pl-s1">userID</span>]:</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L27" class="blob-num js-line-number js-blob-rnum" data-line-number="27"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC27" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span> <span class="pl-s1">leftOutMovieID</span> <span class="pl-c1">==</span> <span class="pl-s1">movieID</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L28" class="blob-num js-line-number js-blob-rnum" data-line-number="28"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC28" class="blob-code blob-code-inner js-file-line">        <span class="pl-s1">hit</span> <span class="pl-c1">=</span> <span class="pl-c1">True</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L29" class="blob-num js-line-number js-blob-rnum" data-line-number="29"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC29" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">break</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L30" class="blob-num js-line-number js-blob-rnum" data-line-number="30"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC30" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> (<span class="pl-s1">hit</span>) :</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L31" class="blob-num js-line-number js-blob-rnum" data-line-number="31"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC31" class="blob-code blob-code-inner js-file-line">      <span class="pl-s1">hits</span> <span class="pl-c1">+=</span> <span class="pl-c1">1</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L32" class="blob-num js-line-number js-blob-rnum" data-line-number="32"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC32" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L33" class="blob-num js-line-number js-blob-rnum" data-line-number="33"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC33" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">total</span> <span class="pl-c1">+=</span> <span class="pl-c1">1</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L34" class="blob-num js-line-number js-blob-rnum" data-line-number="34"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC34" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L35" class="blob-num js-line-number js-blob-rnum" data-line-number="35"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC35" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"># Compute overall precision</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L36" class="blob-num js-line-number js-blob-rnum" data-line-number="36"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC36" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> <span class="pl-s1">hits</span><span class="pl-c1">/</span><span class="pl-s1">total</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L37" class="blob-num js-line-number js-blob-rnum" data-line-number="37"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC37" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L38" class="blob-num js-line-number js-blob-rnum" data-line-number="38"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC38" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">get_hitrate_results</span>(<span class="pl-s1">algo</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L39" class="blob-num js-line-number js-blob-rnum" data-line-number="39"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC39" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">algo</span>.<span class="pl-c1">fit</span>(<span class="pl-s1">train_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L40" class="blob-num js-line-number js-blob-rnum" data-line-number="40"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC40" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">left_out_predictions</span> <span class="pl-c1">=</span> <span class="pl-s1">algo</span>.<span class="pl-c1">test</span>(<span class="pl-s1">test_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L41" class="blob-num js-line-number js-blob-rnum" data-line-number="41"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC41" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">loocv_anti_testset</span> <span class="pl-c1">=</span> <span class="pl-s1">train_loocv</span>.<span class="pl-c1">build_anti_testset</span>()</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L42" class="blob-num js-line-number js-blob-rnum" data-line-number="42"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC42" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">all_predictions</span> <span class="pl-c1">=</span> <span class="pl-s1">algo</span>.<span class="pl-c1">test</span>(<span class="pl-s1">loocv_anti_testset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L43" class="blob-num js-line-number js-blob-rnum" data-line-number="43"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC43" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">top_n_predicted</span> <span class="pl-c1">=</span> <span class="pl-en">GetTopN</span>(<span class="pl-s1">all_predictions</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L44" class="blob-num js-line-number js-blob-rnum" data-line-number="44"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC44" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">hitrate</span> <span class="pl-c1">=</span> <span class="pl-en">HitRate</span>(<span class="pl-s1">top_n_predicted</span>, <span class="pl-s1">left_out_predictions</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L45" class="blob-num js-line-number js-blob-rnum" data-line-number="45"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC45" class="blob-code blob-code-inner js-file-line">  <span class="pl-en">print</span>(<span class="pl-s">f'HitRate: <span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">hitrate</span><span class="pl-kos">}</span></span>'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L46" class="blob-num js-line-number js-blob-rnum" data-line-number="46"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC46" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> <span class="pl-s1">all_predictions</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L47" class="blob-num js-line-number js-blob-rnum" data-line-number="47"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC47" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L48" class="blob-num js-line-number js-blob-rnum" data-line-number="48"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC48" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">get_algo_results</span>(<span class="pl-s1">algo</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L49" class="blob-num js-line-number js-blob-rnum" data-line-number="49"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC49" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">algo</span>.<span class="pl-c1">fit</span>(<span class="pl-s1">trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L50" class="blob-num js-line-number js-blob-rnum" data-line-number="50"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC50" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">predictions</span> <span class="pl-c1">=</span> <span class="pl-s1">algo</span>.<span class="pl-c1">test</span>(<span class="pl-s1">testset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L51" class="blob-num js-line-number js-blob-rnum" data-line-number="51"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC51" class="blob-code blob-code-inner js-file-line">  <span class="pl-s1">accuracy</span>.<span class="pl-c1">rmse</span>(<span class="pl-s1">predictions</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L52" class="blob-num js-line-number js-blob-rnum" data-line-number="52"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC52" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L53" class="blob-num js-line-number js-blob-rnum" data-line-number="53"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC53" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L54" class="blob-num js-line-number js-blob-rnum" data-line-number="54"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC54" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">get_most_similar_movies</span>(<span class="pl-s1">movies_df</span>, <span class="pl-s1">movie_embeddings</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">target_movie_id</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-c1">10</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L55" class="blob-num js-line-number js-blob-rnum" data-line-number="55"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC55" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">inner_movie_id</span> <span class="pl-c1">=</span> <span class="pl-s1">trainset</span>.<span class="pl-c1">to_inner_iid</span>(<span class="pl-s1">target_movie_id</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L56" class="blob-num js-line-number js-blob-rnum" data-line-number="56"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC56" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">sims</span> <span class="pl-c1">=</span> <span class="pl-en">cosine_similarity</span>(<span class="pl-s1">movie_embeddings</span>, <span class="pl-s1">movie_embeddings</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L57" class="blob-num js-line-number js-blob-rnum" data-line-number="57"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC57" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">target_movie_sims_sorted</span> <span class="pl-c1">=</span> [<span class="pl-s1">trainset</span>.<span class="pl-c1">to_raw_iid</span>(<span class="pl-s1">x</span>) <span class="pl-k">for</span> <span class="pl-s1">x</span> <span class="pl-c1">in</span> <span class="pl-s1">np</span>.<span class="pl-c1">argsort</span>(<span class="pl-s1">sims</span>[<span class="pl-s1">inner_movie_id</span>])[::<span class="pl-c1">-</span><span class="pl-c1">1</span>]]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L58" class="blob-num js-line-number js-blob-rnum" data-line-number="58"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC58" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">most_similar_movies</span> <span class="pl-c1">=</span> <span class="pl-s1">movies_df</span>.<span class="pl-c1">loc</span>[<span class="pl-s1">target_movie_sims_sorted</span>].<span class="pl-c1">iloc</span>[:<span class="pl-s1">top_k</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L59" class="blob-num js-line-number js-blob-rnum" data-line-number="59"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC59" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s1">most_similar_movies</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L60" class="blob-num js-line-number js-blob-rnum" data-line-number="60"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC60" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L61" class="blob-num js-line-number js-blob-rnum" data-line-number="61"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC61" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L62" class="blob-num js-line-number js-blob-rnum" data-line-number="62"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC62" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">filter_predictions_for_user</span>(<span class="pl-s1">predictions</span>, <span class="pl-s1">user_id</span>, <span class="pl-s1">movies_df</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-c1">10</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L63" class="blob-num js-line-number js-blob-rnum" data-line-number="63"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC63" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">top_preds</span> <span class="pl-c1">=</span> <span class="pl-en">sorted</span>([<span class="pl-s1">pred</span> <span class="pl-k">for</span> <span class="pl-s1">pred</span> <span class="pl-c1">in</span> <span class="pl-s1">predictions</span> <span class="pl-k">if</span> <span class="pl-s1">pred</span>.<span class="pl-c1">uid</span> <span class="pl-c1">==</span> <span class="pl-s1">user_id</span>], <span class="pl-s1">key</span><span class="pl-c1">=</span><span class="pl-k">lambda</span> <span class="pl-s1">pred</span>: <span class="pl-s1">pred</span>.<span class="pl-c1">est</span>, <span class="pl-s1">reverse</span><span class="pl-c1">=</span><span class="pl-c1">True</span>)[:<span class="pl-s1">top_k</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L64" class="blob-num js-line-number js-blob-rnum" data-line-number="64"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC64" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">movie_ids</span> <span class="pl-c1">=</span> [<span class="pl-s1">pred</span>.<span class="pl-c1">iid</span> <span class="pl-k">for</span> <span class="pl-s1">pred</span> <span class="pl-c1">in</span> <span class="pl-s1">top_preds</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L65" class="blob-num js-line-number js-blob-rnum" data-line-number="65"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC65" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">relevant_movies</span> <span class="pl-c1">=</span> <span class="pl-s1">movies_df</span>.<span class="pl-c1">loc</span>[<span class="pl-s1">movie_ids</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L66" class="blob-num js-line-number js-blob-rnum" data-line-number="66"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC66" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">relevant_movies</span>[<span class="pl-s">'rating'</span>] <span class="pl-c1">=</span> [<span class="pl-s1">pred</span>.<span class="pl-c1">est</span> <span class="pl-k">for</span> <span class="pl-s1">pred</span> <span class="pl-c1">in</span> <span class="pl-s1">top_preds</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L67" class="blob-num js-line-number js-blob-rnum" data-line-number="67"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC67" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s1">relevant_movies</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L68" class="blob-num js-line-number js-blob-rnum" data-line-number="68"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC68" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L69" class="blob-num js-line-number js-blob-rnum" data-line-number="69"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC69" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L70" class="blob-num js-line-number js-blob-rnum" data-line-number="70"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC70" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">get_algorithm_report</span>(<span class="pl-s1">algo_class</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>, <span class="pl-s1">movies_df</span>, <span class="pl-s1">target_movie_id</span><span class="pl-c1">=</span><span class="pl-c1">1</span>, <span class="pl-s1">target_user_id</span><span class="pl-c1">=</span><span class="pl-c1">1</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-c1">10</span>, <span class="pl-s1">algo_args</span><span class="pl-c1">=</span>[], <span class="pl-s1">algo_kwargs</span><span class="pl-c1">=</span>{}, <span class="pl-s1">calc_most_similar</span><span class="pl-c1">=</span><span class="pl-c1">True</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L71" class="blob-num js-line-number js-blob-rnum" data-line-number="71"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC71" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">algo_inst</span> <span class="pl-c1">=</span> <span class="pl-en">algo_class</span>(<span class="pl-c1">*</span><span class="pl-s1">algo_args</span>, <span class="pl-c1">**</span><span class="pl-s1">algo_kwargs</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L72" class="blob-num js-line-number js-blob-rnum" data-line-number="72"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC72" class="blob-code blob-code-inner js-file-line">    <span class="pl-en">get_algo_results</span>(<span class="pl-s1">algo_inst</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L73" class="blob-num js-line-number js-blob-rnum" data-line-number="73"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC73" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">algo_inst_for_hitrate</span> <span class="pl-c1">=</span> <span class="pl-en">algo_class</span>(<span class="pl-c1">*</span><span class="pl-s1">algo_args</span>, <span class="pl-c1">**</span><span class="pl-s1">algo_kwargs</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L74" class="blob-num js-line-number js-blob-rnum" data-line-number="74"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC74" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">all_predictions</span> <span class="pl-c1">=</span> <span class="pl-en">get_hitrate_results</span>(<span class="pl-s1">algo_inst_for_hitrate</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L75" class="blob-num js-line-number js-blob-rnum" data-line-number="75"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC75" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> <span class="pl-s1">calc_most_similar</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L76" class="blob-num js-line-number js-blob-rnum" data-line-number="76"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC76" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> <span class="pl-en">hasattr</span>(<span class="pl-s1">algo_inst_for_hitrate</span>, <span class="pl-s">'qi'</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L77" class="blob-num js-line-number js-blob-rnum" data-line-number="77"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC77" class="blob-code blob-code-inner js-file-line">            <span class="pl-s1">sims</span> <span class="pl-c1">=</span> <span class="pl-s1">algo_inst_for_hitrate</span>.<span class="pl-c1">qi</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L78" class="blob-num js-line-number js-blob-rnum" data-line-number="78"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC78" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">else</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L79" class="blob-num js-line-number js-blob-rnum" data-line-number="79"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC79" class="blob-code blob-code-inner js-file-line">            <span class="pl-s1">sims</span> <span class="pl-c1">=</span> <span class="pl-s1">algo_inst_for_hitrate</span>.<span class="pl-c1">sim</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L80" class="blob-num js-line-number js-blob-rnum" data-line-number="80"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC80" class="blob-code blob-code-inner js-file-line">        <span class="pl-s1">most_similar_movies</span> <span class="pl-c1">=</span> <span class="pl-en">get_most_similar_movies</span>(<span class="pl-s1">movies_df</span>, <span class="pl-s1">sims</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">target_movie_id</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-s1">top_k</span>);</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L81" class="blob-num js-line-number js-blob-rnum" data-line-number="81"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC81" class="blob-code blob-code-inner js-file-line">        <span class="pl-en">print</span>(<span class="pl-s">f'Most similar movies to <span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">movies_df</span>.<span class="pl-c1">loc</span>[<span class="pl-s1">target_movie_id</span>].<span class="pl-c1">movie_name</span><span class="pl-kos">}</span></span>:'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L82" class="blob-num js-line-number js-blob-rnum" data-line-number="82"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC82" class="blob-code blob-code-inner js-file-line">        <span class="pl-en">print</span>(<span class="pl-en">tabulate</span>(<span class="pl-s1">most_similar_movies</span>.<span class="pl-c1">head</span>(<span class="pl-s1">top_k</span>)[[<span class="pl-s">'movie_name'</span>, <span class="pl-s">'genre'</span>]], <span class="pl-s1">headers</span><span class="pl-c1">=</span><span class="pl-s">'keys'</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L83" class="blob-num js-line-number js-blob-rnum" data-line-number="83"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC83" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">predictions_for_user</span> <span class="pl-c1">=</span> <span class="pl-en">filter_predictions_for_user</span>(<span class="pl-s1">all_predictions</span>, <span class="pl-s1">target_user_id</span>, <span class="pl-s1">movies_df</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L84" class="blob-num js-line-number js-blob-rnum" data-line-number="84"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC84" class="blob-code blob-code-inner js-file-line">    <span class="pl-en">print</span>(<span class="pl-s">f'Top predictions for user <span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">target_user_id</span><span class="pl-kos">}</span></span>:'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L85" class="blob-num js-line-number js-blob-rnum" data-line-number="85"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC85" class="blob-code blob-code-inner js-file-line">    <span class="pl-en">print</span>(<span class="pl-en">tabulate</span>(<span class="pl-s1">predictions_for_user</span>.<span class="pl-c1">head</span>(<span class="pl-s1">top_k</span>)[[<span class="pl-s">'movie_name'</span>, <span class="pl-s">'genre'</span>]], <span class="pl-s1">headers</span><span class="pl-c1">=</span><span class="pl-s">'keys'</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L86" class="blob-num js-line-number js-blob-rnum" data-line-number="86"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC86" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L87" class="blob-num js-line-number js-blob-rnum" data-line-number="87"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC87" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L88" class="blob-num js-line-number js-blob-rnum" data-line-number="88"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC88" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-v">SVDWithTqdm</span>(<span class="pl-c1">SVD</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L89" class="blob-num js-line-number js-blob-rnum" data-line-number="89"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC89" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">def</span> <span class="pl-en">__init__</span>(<span class="pl-s1">self</span>, <span class="pl-c1">*</span><span class="pl-s1">args</span>, <span class="pl-c1">**</span><span class="pl-s1">kwargs</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L90" class="blob-num js-line-number js-blob-rnum" data-line-number="90"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC90" class="blob-code blob-code-inner js-file-line">        <span class="pl-en">super</span>().<span class="pl-c1">__init__</span>(<span class="pl-c1">*</span><span class="pl-s1">args</span>, <span class="pl-c1">**</span><span class="pl-s1">kwargs</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L91" class="blob-num js-line-number js-blob-rnum" data-line-number="91"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC91" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L92" class="blob-num js-line-number js-blob-rnum" data-line-number="92"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC92" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">def</span> <span class="pl-en">test</span>(<span class="pl-s1">self</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">verbose</span><span class="pl-c1">=</span><span class="pl-c1">False</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L93" class="blob-num js-line-number js-blob-rnum" data-line-number="93"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC93" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"># The ratings are translated back to their original scale.</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L94" class="blob-num js-line-number js-blob-rnum" data-line-number="94"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC94" class="blob-code blob-code-inner js-file-line">        <span class="pl-s1">predictions</span> <span class="pl-c1">=</span> [<span class="pl-s1">self</span>.<span class="pl-c1">predict</span>(<span class="pl-s1">uid</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L95" class="blob-num js-line-number js-blob-rnum" data-line-number="95"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC95" class="blob-code blob-code-inner js-file-line">                                    <span class="pl-s1">iid</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L96" class="blob-num js-line-number js-blob-rnum" data-line-number="96"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC96" class="blob-code blob-code-inner js-file-line">                                    <span class="pl-s1">r_ui_trans</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L97" class="blob-num js-line-number js-blob-rnum" data-line-number="97"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC97" class="blob-code blob-code-inner js-file-line">                                    <span class="pl-s1">verbose</span><span class="pl-c1">=</span><span class="pl-s1">verbose</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L98" class="blob-num js-line-number js-blob-rnum" data-line-number="98"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC98" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">for</span> (<span class="pl-s1">uid</span>, <span class="pl-s1">iid</span>, <span class="pl-s1">r_ui_trans</span>) <span class="pl-c1">in</span> <span class="pl-en">tqdm</span>(<span class="pl-s1">testset</span>, <span class="pl-s1">desc</span><span class="pl-c1">=</span><span class="pl-s">'making predictions'</span>)]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L99" class="blob-num js-line-number js-blob-rnum" data-line-number="99"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC99" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">return</span> <span class="pl-s1">predictions</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L100" class="blob-num js-line-number js-blob-rnum" data-line-number="100"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC100" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L101" class="blob-num js-line-number js-blob-rnum" data-line-number="101"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC101" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L102" class="blob-num js-line-number js-blob-rnum" data-line-number="102"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC102" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-v">KNNBasicWithTqdm</span>(<span class="pl-v">KNNBasic</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L103" class="blob-num js-line-number js-blob-rnum" data-line-number="103"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC103" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">def</span> <span class="pl-en">__init__</span>(<span class="pl-s1">self</span>, <span class="pl-c1">*</span><span class="pl-s1">args</span>, <span class="pl-c1">**</span><span class="pl-s1">kwargs</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L104" class="blob-num js-line-number js-blob-rnum" data-line-number="104"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC104" class="blob-code blob-code-inner js-file-line">        <span class="pl-en">super</span>().<span class="pl-c1">__init__</span>(<span class="pl-c1">*</span><span class="pl-s1">args</span>, <span class="pl-c1">**</span><span class="pl-s1">kwargs</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L105" class="blob-num js-line-number js-blob-rnum" data-line-number="105"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC105" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L106" class="blob-num js-line-number js-blob-rnum" data-line-number="106"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC106" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">def</span> <span class="pl-en">test</span>(<span class="pl-s1">self</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">verbose</span><span class="pl-c1">=</span><span class="pl-c1">False</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L107" class="blob-num js-line-number js-blob-rnum" data-line-number="107"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC107" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"># The ratings are translated back to their original scale.</span></td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L108" class="blob-num js-line-number js-blob-rnum" data-line-number="108"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC108" class="blob-code blob-code-inner js-file-line">        <span class="pl-s1">predictions</span> <span class="pl-c1">=</span> [<span class="pl-s1">self</span>.<span class="pl-c1">predict</span>(<span class="pl-s1">uid</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L109" class="blob-num js-line-number js-blob-rnum" data-line-number="109"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC109" class="blob-code blob-code-inner js-file-line">                                    <span class="pl-s1">iid</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L110" class="blob-num js-line-number js-blob-rnum" data-line-number="110"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC110" class="blob-code blob-code-inner js-file-line">                                    <span class="pl-s1">r_ui_trans</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L111" class="blob-num js-line-number js-blob-rnum" data-line-number="111"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC111" class="blob-code blob-code-inner js-file-line">                                    <span class="pl-s1">verbose</span><span class="pl-c1">=</span><span class="pl-s1">verbose</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L112" class="blob-num js-line-number js-blob-rnum" data-line-number="112"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC112" class="blob-code blob-code-inner js-file-line">                        <span class="pl-k">for</span> (<span class="pl-s1">uid</span>, <span class="pl-s1">iid</span>, <span class="pl-s1">r_ui_trans</span>) <span class="pl-c1">in</span> <span class="pl-en">tqdm</span>(<span class="pl-s1">testset</span>, <span class="pl-s1">desc</span><span class="pl-c1">=</span><span class="pl-s">'making predictions'</span>)]</td>
        </tr>
        <tr>
          <td id="file-recsys_hitrate_aux_funcs-py-L113" class="blob-num js-line-number js-blob-rnum" data-line-number="113"></td>
          <td id="file-recsys_hitrate_aux_funcs-py-LC113" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">return</span> <span class="pl-s1">predictions</span></td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/5ea94174eaeca99c5c272f06a67569ad/raw/af76d7c44db99819870c96e841f66c05dd60e4d3/recsys_hitrate_aux_funcs.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/5ea94174eaeca99c5c272f06a67569ad#file-recsys_hitrate_aux_funcs-py" class="Link--inTextBlock">
          recsys_hitrate_aux_funcs.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph">Let’s obtain results for a completely random recommender system, so we will be able to evaluate if our algorithms are better or worse than random (after all, we want to make things better not worse…)</p>
<ul class="wp-block-list">
<li>Note – hit rate takes a lot of time to compute
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/eeee3b417023f5c23749bd014977e45d.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114811803" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_normal_predictor-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_normal_predictor.py content, created by erap129 on 07:49AM on February 19, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_normal_predictor.py">
        <tbody><tr>
          <td id="file-recsys_normal_predictor-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_normal_predictor-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">normal_predictor</span> <span class="pl-c1">=</span> <span class="pl-en">NormalPredictor</span>()</td>
        </tr>
        <tr>
          <td id="file-recsys_normal_predictor-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_normal_predictor-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-en">get_algo_results</span>(<span class="pl-s1">normal_predictor</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_normal_predictor-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_normal_predictor-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-en">get_hitrate_results</span>(<span class="pl-s1">normal_predictor</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>)      </td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/eeee3b417023f5c23749bd014977e45d/raw/03d70821eacea3ab9d8f1a8bfdf80c3deddb9605/recsys_normal_predictor.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/eeee3b417023f5c23749bd014977e45d#file-recsys_normal_predictor-py" class="Link--inTextBlock">
          recsys_normal_predictor.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<pre class="wp-block-prismatic-blocks"><code class="language-">RMSE: 1.4960
HitRate: 0.02185430463576159</code></pre></li>
</ul>
<h2 class="wp-block-heading">Part IV – Recommending movies with collaborative filtering</h2>
<p class="wp-block-paragraph">We will use the classic vanilla algorithms, out-of-the-box from the Surprise package (with some minor tweaks to show progress in KNN). I won’t go into the algorithmic details here because I think there are many great tutorials out there for learning these things (just google recommender systems SVD/KNN and you’re good to go). I will check these algorithms:</p>
<ol class="wp-block-list">
<li>SVD</li>
<li>User-based KNN</li>
<li>Item-based KNN</li>
</ol>
<p class="wp-block-paragraph">We will start with SVD:</p>
<pre class="wp-block-prismatic-blocks"><code class="language-">RMSE: 0.8809
HitRate: 0.03923841059602649</code></pre>
<figure class="wp-block-image size-large"><img data-dominant-color="323232" data-has-transparency="true" style="--dominant-color: #323232;" loading="lazy" decoding="async" width="762" height="288" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1QA8122cc7PwbcuDZe8GYpw.png" alt="" class="wp-image-511383 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1QA8122cc7PwbcuDZe8GYpw.png 762w, https://towardsdatascience.com/wp-content/uploads/2022/06/1QA8122cc7PwbcuDZe8GYpw-300x113.png 300w" sizes="auto, (max-width: 762px) 100vw, 762px"></figure>
<figure class="wp-block-image size-large"><img data-dominant-color="323232" data-has-transparency="true" style="--dominant-color: #323232;" loading="lazy" decoding="async" width="658" height="293" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1sK5FCZe54WvUuLryVdEP5g.png" alt="" class="wp-image-511385 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1sK5FCZe54WvUuLryVdEP5g.png 658w, https://towardsdatascience.com/wp-content/uploads/2022/06/1sK5FCZe54WvUuLryVdEP5g-300x134.png 300w" sizes="auto, (max-width: 658px) 100vw, 658px"></figure>
<p class="wp-block-paragraph">Nice! That’s a major improvement over the random score. But when we look at the predictions for user #1 they still feel a bit "off". The only children’s movie is Babe (1995) and I personally would expect more of these to appear in a good recommendation for this user.</p>
<hr class="wp-block-separator has-alpha-channel-opacity">
<p class="wp-block-paragraph">Now onto KNN. We will start with user-based KNN. This means that predictions for movie <em>m</em> and user <em>u</em> will be based upon the tastes of users that are similar to <em>u</em>.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1083c37d95f8f9314a60ec70f5e721b0.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114811874" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_knn_tqdm_and_knn_user-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_knn_tqdm_and_knn_user.py content, created by erap129 on 08:01AM on February 19, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_knn_tqdm_and_knn_user.py">
        <tbody><tr>
          <td id="file-recsys_knn_tqdm_and_knn_user-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_knn_tqdm_and_knn_user-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">algo_kwargs</span> <span class="pl-c1">=</span> <span class="pl-en">dict</span>(<span class="pl-s1">k</span><span class="pl-c1">=</span><span class="pl-c1">50</span>, <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'name'</span>: <span class="pl-s">'pearson'</span>, <span class="pl-s">'user_based'</span>: <span class="pl-c1">True</span>, <span class="pl-s">'verbose'</span> : <span class="pl-c1">True</span>})</td>
        </tr>
        <tr>
          <td id="file-recsys_knn_tqdm_and_knn_user-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_knn_tqdm_and_knn_user-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-en">get_algorithm_report</span>(<span class="pl-v">KNNBasicWithTqdm</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>, <span class="pl-s1">movies_df</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_knn_tqdm_and_knn_user-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_knn_tqdm_and_knn_user-py-LC3" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">target_movie_id</span><span class="pl-c1">=</span><span class="pl-s">'movie_1'</span>, <span class="pl-s1">target_user_id</span><span class="pl-c1">=</span><span class="pl-s">'user_1'</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-c1">10</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_knn_tqdm_and_knn_user-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_knn_tqdm_and_knn_user-py-LC4" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset</span><span class="pl-c1">=</span><span class="pl-s1">algo_kwargs</span>, <span class="pl-s1">algo_kwargs_trainset_loocv</span><span class="pl-c1">=</span><span class="pl-s1">algo_kwargs</span>, <span class="pl-s1">calc_most_similar</span><span class="pl-c1">=</span><span class="pl-c1">False</span>)</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/1083c37d95f8f9314a60ec70f5e721b0/raw/f3b005e573ba8209158628ba50c8bb978e602755/recsys_knn_tqdm_and_knn_user.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/1083c37d95f8f9314a60ec70f5e721b0#file-recsys_knn_tqdm_and_knn_user-py" class="Link--inTextBlock">
          recsys_knn_tqdm_and_knn_user.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<pre class="wp-block-prismatic-blocks"><code class="language-">RMSE: 0.9595
HitRate: 0.002152317880794702</code></pre>
<figure class="wp-block-image size-large"><img data-dominant-color="323232" data-has-transparency="true" style="--dominant-color: #323232;" loading="lazy" decoding="async" width="656" height="293" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1WLGhvvYSlI0JJzp_EmDopg.png" alt="" class="wp-image-511387 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1WLGhvvYSlI0JJzp_EmDopg.png 656w, https://towardsdatascience.com/wp-content/uploads/2022/06/1WLGhvvYSlI0JJzp_EmDopg-300x134.png 300w" sizes="auto, (max-width: 656px) 100vw, 656px"></figure>
<p class="wp-block-paragraph">The RMSE is better than random but the hit rate is worse. We can also see that the top predictions for user_1 seem even further away than those that were given by the SVD algorithm. In user-based KNN there is no notion of similarity between items, so we won’t calculate the most similar movies to Toy Story (1995) for this algorithm.</p>
<hr class="wp-block-separator has-alpha-channel-opacity">
<p class="wp-block-paragraph">Let us now check the performance of item-based KNN, which recommends items to users by the similarity of the items they already rated to other items they have not yet rated. Code-wise only a slight change to the class instantiation is required.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/6e92d4c1c81ff21acfb14236840f25f4.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114811899" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_knn_item-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_knn_item.py content, created by erap129 on 08:04AM on February 19, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_knn_item.py">
        <tbody><tr>
          <td id="file-recsys_knn_item-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_knn_item-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">algo_kwargs</span> <span class="pl-c1">=</span> <span class="pl-en">dict</span>(<span class="pl-s1">k</span><span class="pl-c1">=</span><span class="pl-c1">50</span>, <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'name'</span>: <span class="pl-s">'pearson'</span>, <span class="pl-s">'user_based'</span>: <span class="pl-c1">False</span>, <span class="pl-s">'verbose'</span> : <span class="pl-c1">True</span>})</td>
        </tr>
        <tr>
          <td id="file-recsys_knn_item-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_knn_item-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-en">get_algorithm_report</span>(<span class="pl-v">KNNBasicWithTqdm</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>, <span class="pl-s1">movies_df</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_knn_item-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_knn_item-py-LC3" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">target_movie_id</span><span class="pl-c1">=</span><span class="pl-s">'movie_1'</span>, <span class="pl-s1">target_user_id</span><span class="pl-c1">=</span><span class="pl-s">'user_1'</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-c1">10</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_knn_item-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_knn_item-py-LC4" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset</span><span class="pl-c1">=</span><span class="pl-s1">algo_kwargs</span>, <span class="pl-s1">algo_kwargs_trainset_loocv</span><span class="pl-c1">=</span><span class="pl-s1">algo_kwargs</span>, <span class="pl-s1">calc_most_similar</span><span class="pl-c1">=</span><span class="pl-c1">True</span>)</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/6e92d4c1c81ff21acfb14236840f25f4/raw/637eabb37f4f6d7fccbb9ec440647e56339ff156/recsys_knn_item.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/6e92d4c1c81ff21acfb14236840f25f4#file-recsys_knn_item-py" class="Link--inTextBlock">
          recsys_knn_item.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<figure class="wp-block-image size-large"><img data-dominant-color="323232" data-has-transparency="true" style="--dominant-color: #323232;" loading="lazy" decoding="async" width="869" height="288" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1tU1iUEHRFmQPwoF6t_rv6w.png" alt="" class="wp-image-511388 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1tU1iUEHRFmQPwoF6t_rv6w.png 869w, https://towardsdatascience.com/wp-content/uploads/2022/06/1tU1iUEHRFmQPwoF6t_rv6w-300x99.png 300w, https://towardsdatascience.com/wp-content/uploads/2022/06/1tU1iUEHRFmQPwoF6t_rv6w-768x255.png 768w" sizes="auto, (max-width: 869px) 100vw, 869px"></figure>
<figure class="wp-block-image size-large"><img data-dominant-color="313131" data-has-transparency="true" style="--dominant-color: #313131;" loading="lazy" decoding="async" width="713" height="292" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1DyzxsHX5EVQQ4GobjbOnDA.png" alt="" class="wp-image-511390 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1DyzxsHX5EVQQ4GobjbOnDA.png 713w, https://towardsdatascience.com/wp-content/uploads/2022/06/1DyzxsHX5EVQQ4GobjbOnDA-300x123.png 300w" sizes="auto, (max-width: 713px) 100vw, 713px"></figure>
<pre class="wp-block-prismatic-blocks"><code class="language-">RMSE: 0.9851
HitRate: 0.002152317880794702</code></pre>
<p class="wp-block-paragraph">The RMSE is a bit worse than the user-based KNN and the hit rate reaches almost zero. The most similar movies to Toy Story (1995) seem reasonable but the predictions for user_1 are once again unsatisfying. So far the KNN algorithms have failed to outperform the SVD, which really is regarded as a much better algorithm for collaborative filtering.</p>
<p class="wp-block-paragraph">Up until now, we haven’t taken into account the features of the movies themselves. Maybe if I know something about the details of the movies it will help me make better recommendations? Let’s check it out. This is called content-based filtering.</p>
<h2 class="wp-block-heading">Part V – Recommending movies with content-based filtering</h2>
<p class="wp-block-paragraph">For the content-based filtering we will use KNN-based algorithms in three approaches (two of them item-based and one user-based):</p>
<ol class="wp-block-list">
<li><strong>Movie plots (item-based)</strong>: Create a vector representation of all of the movies based on the plot descriptions. We will do this by first stemming all of the words in the plot description and then applying TF-IDF to vectorize each document. The similarity matrices we will generate will be based on:</li>
</ol>
<p class="wp-block-paragraph">a. Using the complete TF-IDF matrix</p>
<p class="wp-block-paragraph">b. Using the TF-IDF matrix after feature selection</p>
<p class="wp-block-paragraph">c. Using the TF-IDF matrix after feature selection and after removing peoples’ names</p>
<ol class="wp-block-list" start="2">
<li><strong>Movie genres (item-based)</strong>: **** We will use the movie genres as the only source for recommendations and see how that goes.</li>
<li><strong>User age+gender (user-based)</strong>: We will use user data as features for our KNN predictor.</li>
</ol>
<p class="wp-block-paragraph">We will create a class that inherits from Surprise’s <code>KNNBasic.</code> Its functionality will be the same as item-based KNN for collaborative filtering, with the only difference being that we will supply a pre-calculated similarity matrix to the fit function, instead of having it calculated from the rating data.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/d2a2dae52a6a1e1cc578f8e40295dd91.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114814015" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_custom_sim_knn-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_custom_sim_knn.py content, created by erap129 on 12:23PM on February 19, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_custom_sim_knn.py">
        <tbody><tr>
          <td id="file-recsys_custom_sim_knn-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_custom_sim_knn-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">surprise</span> <span class="pl-k">import</span> <span class="pl-v">AlgoBase</span>, <span class="pl-v">KNNBasic</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_custom_sim_knn-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">surprise</span>.<span class="pl-s1">prediction_algorithms</span>.<span class="pl-s1">knns</span> <span class="pl-k">import</span> <span class="pl-v">SymmetricAlgo</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_custom_sim_knn-py-LC3" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_custom_sim_knn-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-v">CustomSimKNNAlgorithm</span>(<span class="pl-v">KNNBasic</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_custom_sim_knn-py-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">def</span> <span class="pl-en">__init__</span>(<span class="pl-s1">self</span>, <span class="pl-s1">sim_options</span>, <span class="pl-s1">k</span><span class="pl-c1">=</span><span class="pl-c1">40</span>, <span class="pl-s1">min_k</span><span class="pl-c1">=</span><span class="pl-c1">1</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_custom_sim_knn-py-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-v">SymmetricAlgo</span>.<span class="pl-c1">__init__</span>(<span class="pl-s1">self</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_custom_sim_knn-py-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">self</span>.<span class="pl-c1">sim_options</span> <span class="pl-c1">=</span> <span class="pl-s1">sim_options</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_custom_sim_knn-py-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">self</span>.<span class="pl-c1">k</span> <span class="pl-c1">=</span> <span class="pl-s1">k</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-recsys_custom_sim_knn-py-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">self</span>.<span class="pl-c1">min_k</span> <span class="pl-c1">=</span> <span class="pl-s1">min_k</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-recsys_custom_sim_knn-py-LC10" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-recsys_custom_sim_knn-py-LC11" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">def</span> <span class="pl-en">fit</span>(<span class="pl-s1">self</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">similarities</span>): </td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-recsys_custom_sim_knn-py-LC12" class="blob-code blob-code-inner js-file-line">    <span class="pl-v">AlgoBase</span>.<span class="pl-c1">fit</span>(<span class="pl-s1">self</span>, <span class="pl-s1">trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-recsys_custom_sim_knn-py-LC13" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">self</span>.<span class="pl-c1">sim</span> <span class="pl-c1">=</span> <span class="pl-s1">similarities</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-recsys_custom_sim_knn-py-LC14" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">ub</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">sim_options</span>[<span class="pl-s">'user_based'</span>]</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-recsys_custom_sim_knn-py-LC15" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">self</span>.<span class="pl-c1">n_x</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">trainset</span>.<span class="pl-c1">n_users</span> <span class="pl-k">if</span> <span class="pl-s1">ub</span> <span class="pl-k">else</span> <span class="pl-s1">self</span>.<span class="pl-c1">trainset</span>.<span class="pl-c1">n_items</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-recsys_custom_sim_knn-py-LC16" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">self</span>.<span class="pl-c1">n_y</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">trainset</span>.<span class="pl-c1">n_items</span> <span class="pl-k">if</span> <span class="pl-s1">ub</span> <span class="pl-k">else</span> <span class="pl-s1">self</span>.<span class="pl-c1">trainset</span>.<span class="pl-c1">n_users</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="file-recsys_custom_sim_knn-py-LC17" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">self</span>.<span class="pl-c1">xr</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">trainset</span>.<span class="pl-c1">ur</span> <span class="pl-k">if</span> <span class="pl-s1">ub</span> <span class="pl-k">else</span> <span class="pl-s1">self</span>.<span class="pl-c1">trainset</span>.<span class="pl-c1">ir</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td>
          <td id="file-recsys_custom_sim_knn-py-LC18" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">self</span>.<span class="pl-c1">yr</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-c1">trainset</span>.<span class="pl-c1">ir</span> <span class="pl-k">if</span> <span class="pl-s1">ub</span> <span class="pl-k">else</span> <span class="pl-s1">self</span>.<span class="pl-c1">trainset</span>.<span class="pl-c1">ur</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td>
          <td id="file-recsys_custom_sim_knn-py-LC19" class="blob-code blob-code-inner js-file-line">  </td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L20" class="blob-num js-line-number js-blob-rnum" data-line-number="20"></td>
          <td id="file-recsys_custom_sim_knn-py-LC20" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">def</span> <span class="pl-en">test</span>(<span class="pl-s1">self</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">verbose</span><span class="pl-c1">=</span><span class="pl-c1">False</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L21" class="blob-num js-line-number js-blob-rnum" data-line-number="21"></td>
          <td id="file-recsys_custom_sim_knn-py-LC21" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"># The ratings are translated back to their original scale.</span></td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L22" class="blob-num js-line-number js-blob-rnum" data-line-number="22"></td>
          <td id="file-recsys_custom_sim_knn-py-LC22" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">predictions</span> <span class="pl-c1">=</span> [<span class="pl-s1">self</span>.<span class="pl-c1">predict</span>(<span class="pl-s1">uid</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L23" class="blob-num js-line-number js-blob-rnum" data-line-number="23"></td>
          <td id="file-recsys_custom_sim_knn-py-LC23" class="blob-code blob-code-inner js-file-line">                                <span class="pl-s1">iid</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L24" class="blob-num js-line-number js-blob-rnum" data-line-number="24"></td>
          <td id="file-recsys_custom_sim_knn-py-LC24" class="blob-code blob-code-inner js-file-line">                                <span class="pl-s1">r_ui_trans</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L25" class="blob-num js-line-number js-blob-rnum" data-line-number="25"></td>
          <td id="file-recsys_custom_sim_knn-py-LC25" class="blob-code blob-code-inner js-file-line">                                <span class="pl-s1">verbose</span><span class="pl-c1">=</span><span class="pl-s1">verbose</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L26" class="blob-num js-line-number js-blob-rnum" data-line-number="26"></td>
          <td id="file-recsys_custom_sim_knn-py-LC26" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">for</span> (<span class="pl-s1">uid</span>, <span class="pl-s1">iid</span>, <span class="pl-s1">r_ui_trans</span>) <span class="pl-c1">in</span> <span class="pl-en">tqdm</span>(<span class="pl-s1">testset</span>, <span class="pl-s1">desc</span><span class="pl-c1">=</span><span class="pl-s">'making predictions'</span>)]</td>
        </tr>
        <tr>
          <td id="file-recsys_custom_sim_knn-py-L27" class="blob-num js-line-number js-blob-rnum" data-line-number="27"></td>
          <td id="file-recsys_custom_sim_knn-py-LC27" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s1">predictions</span></td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/d2a2dae52a6a1e1cc578f8e40295dd91/raw/a1a15f80284eb93a5e78d4d14b3632b00c6d0781/recsys_custom_sim_knn.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/d2a2dae52a6a1e1cc578f8e40295dd91#file-recsys_custom_sim_knn-py" class="Link--inTextBlock">
          recsys_custom_sim_knn.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph"><strong>Part V.I – Content-based filtering using movie plots</strong></p>
<p class="wp-block-paragraph">Now, let’s create the TF-IDF similarity matrix</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/c7747025900ede2cd93d3733d5da0a93.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114814028" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_tfidf_matrix-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_tfidf_matrix.py content, created by erap129 on 12:25PM on February 19, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_tfidf_matrix.py">
        <tbody><tr>
          <td id="file-recsys_tfidf_matrix-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_tfidf_matrix-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">stemmer</span> <span class="pl-c1">=</span> <span class="pl-en">SnowballStemmer</span>(<span class="pl-s">'english'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_matrix-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_tfidf_matrix-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df</span>[<span class="pl-s">'movie_plot'</span>] <span class="pl-c1">=</span> <span class="pl-s1">movies_df</span>[<span class="pl-s">'movie_plot'</span>].<span class="pl-c1">apply</span>(<span class="pl-k">lambda</span> <span class="pl-s1">x</span>:<span class="pl-s">' '</span>.<span class="pl-c1">join</span>([<span class="pl-s1">stemmer</span>.<span class="pl-c1">stem</span>(<span class="pl-s1">y</span>) <span class="pl-k">for</span> <span class="pl-s1">y</span> <span class="pl-c1">in</span> <span class="pl-s1">x</span>.<span class="pl-c1">split</span>()]))</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_matrix-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_tfidf_matrix-py-LC3" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_matrix-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_tfidf_matrix-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">tfidf</span> <span class="pl-c1">=</span> <span class="pl-en">TfidfVectorizer</span>(<span class="pl-s1">stop_words</span><span class="pl-c1">=</span><span class="pl-s">'english'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_matrix-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_tfidf_matrix-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">tfidf_matrix</span> <span class="pl-c1">=</span> <span class="pl-s1">tfidf</span>.<span class="pl-c1">fit_transform</span>(<span class="pl-s1">movies_df</span>[<span class="pl-s">'movie_plot'</span>])</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_matrix-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_tfidf_matrix-py-LC6" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_matrix-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_tfidf_matrix-py-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">tfidf_df</span> <span class="pl-c1">=</span> <span class="pl-s1">pd</span>.<span class="pl-c1">DataFrame</span>(</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_matrix-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_tfidf_matrix-py-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">tfidf_matrix</span>.<span class="pl-c1">todense</span>(),</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_matrix-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-recsys_tfidf_matrix-py-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">columns</span><span class="pl-c1">=</span><span class="pl-s1">tfidf</span>.<span class="pl-c1">get_feature_names</span>()</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_matrix-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-recsys_tfidf_matrix-py-LC10" class="blob-code blob-code-inner js-file-line">)</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/c7747025900ede2cd93d3733d5da0a93/raw/4483cfb5c1e8d1fa18df3a9f57bcac9d51f7ea4d/recsys_tfidf_matrix.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/c7747025900ede2cd93d3733d5da0a93#file-recsys_tfidf_matrix-py" class="Link--inTextBlock">
          recsys_tfidf_matrix.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<p class="wp-block-paragraph">Now, get the results for approach #1 (using the complete TF-IDF matrix). Note that we need a different cosine similarity matrix for the regular trainset and the leave-one-out trainset which is used to calculate hit-rate because they contain different inner ids for each movie.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/e1c8d06c8fb784992d38fd330664e631.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114814045" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_tfidf_results-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_tfidf_results.py content, created by erap129 on 12:27PM on February 19, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_tfidf_results.py">
        <tbody><tr>
          <td id="file-recsys_tfidf_results-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_tfidf_results-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">item_matrix_all_words_trainset_loocv</span> <span class="pl-c1">=</span> <span class="pl-en">get_item_matrix_with_inner_ids</span>(<span class="pl-s1">tfidf_matrix</span>.<span class="pl-c1">todense</span>(), <span class="pl-s1">movies_df</span>, <span class="pl-s1">train_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_results-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_tfidf_results-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">cosine_sim_all_words_trainset_loocv</span> <span class="pl-c1">=</span> <span class="pl-en">cosine_similarity</span>(<span class="pl-s1">item_matrix_all_words_trainset_loocv</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_results-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_tfidf_results-py-LC3" class="blob-code blob-code-inner js-file-line">                                                        <span class="pl-s1">item_matrix_all_words_trainset_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_results-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_tfidf_results-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">item_matrix_all_words_trainset</span> <span class="pl-c1">=</span> <span class="pl-en">get_item_matrix_with_inner_ids</span>(<span class="pl-s1">tfidf_matrix</span>.<span class="pl-c1">todense</span>(), <span class="pl-s1">movies_df</span>, <span class="pl-s1">trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_results-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_tfidf_results-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">cosine_sim_all_words_trainset</span> <span class="pl-c1">=</span> <span class="pl-en">cosine_similarity</span>(<span class="pl-s1">item_matrix_all_words_trainset</span>, <span class="pl-s1">item_matrix_all_words_trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_results-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_tfidf_results-py-LC6" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_results-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_tfidf_results-py-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-en">get_algorithm_report</span>(<span class="pl-v">CustomSimKNNAlgorithm</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>, <span class="pl-s1">movies_df</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_results-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_tfidf_results-py-LC8" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">target_movie_id</span><span class="pl-c1">=</span><span class="pl-s">'movie_1'</span>, <span class="pl-s1">target_user_id</span><span class="pl-c1">=</span><span class="pl-s">'user_1'</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-c1">10</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_results-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-recsys_tfidf_results-py-LC9" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset</span><span class="pl-c1">=</span><span class="pl-en">dict</span>(<span class="pl-s1">similarities</span><span class="pl-c1">=</span><span class="pl-s1">cosine_sim_all_words_trainset</span>, <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'user_based'</span>: <span class="pl-c1">False</span>}),</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_results-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-recsys_tfidf_results-py-LC10" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset_loocv</span><span class="pl-c1">=</span><span class="pl-en">dict</span>(<span class="pl-s1">similarities</span><span class="pl-c1">=</span><span class="pl-s1">cosine_sim_all_words_trainset_loocv</span>, <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'user_based'</span>: <span class="pl-c1">False</span>}))</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/e1c8d06c8fb784992d38fd330664e631/raw/acd47aa4eb86771c7c9e813957903fd501dae4d3/recsys_tfidf_results.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/e1c8d06c8fb784992d38fd330664e631#file-recsys_tfidf_results-py" class="Link--inTextBlock">
          recsys_tfidf_results.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<pre class="wp-block-prismatic-blocks"><code class="language-">RMSE: 1.0268
HitRate: 0.003973509933774834</code></pre>
<figure class="wp-block-image size-large"><img data-dominant-color="323232" data-has-transparency="true" style="--dominant-color: #323232;" loading="lazy" decoding="async" width="726" height="285" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1jpIh-sFcE_RNjs0ax8Pqtg.png" alt="" class="wp-image-511391 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1jpIh-sFcE_RNjs0ax8Pqtg.png 726w, https://towardsdatascience.com/wp-content/uploads/2022/06/1jpIh-sFcE_RNjs0ax8Pqtg-300x118.png 300w" sizes="auto, (max-width: 726px) 100vw, 726px"></figure>
<figure class="wp-block-image size-large"><img data-dominant-color="333333" data-has-transparency="true" style="--dominant-color: #333333;" loading="lazy" decoding="async" width="658" height="284" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1XklBowYBxwV3VbCWwtwRdQ.png" alt="" class="wp-image-511392 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1XklBowYBxwV3VbCWwtwRdQ.png 658w, https://towardsdatascience.com/wp-content/uploads/2022/06/1XklBowYBxwV3VbCWwtwRdQ-300x129.png 300w" sizes="auto, (max-width: 658px) 100vw, 658px"></figure>
<p class="wp-block-paragraph">Worse than collaborative filtering, without a doubt. We also see that the similarity matrix doesn’t really generate meaningful relationships between movies (the only children’s movie which is similar to Toy Story is Toy Story 2). Let’s see if reducing the number of features helps.</p>
<hr class="wp-block-separator has-alpha-channel-opacity">
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/d772b9a90f5fb7e73c7a83f4ba47ad41.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114814074" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_tfidf_less_features-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_tfidf_less_features.py content, created by erap129 on 12:30PM on February 19, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_tfidf_less_features.py">
        <tbody><tr>
          <td id="file-recsys_tfidf_less_features-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_tfidf_less_features-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">constant_filter</span> <span class="pl-c1">=</span> <span class="pl-en">VarianceThreshold</span>(<span class="pl-s1">threshold</span> <span class="pl-c1">=</span> <span class="pl-c1">0.0002</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_tfidf_less_features-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">constant_filter</span>.<span class="pl-c1">fit</span>(<span class="pl-s1">tfidf_df</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_tfidf_less_features-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">feature_list</span> <span class="pl-c1">=</span> <span class="pl-s1">tfidf_df</span>.<span class="pl-c1">columns</span>[<span class="pl-s1">constant_filter</span>.<span class="pl-c1">get_support</span>(<span class="pl-s1">indices</span><span class="pl-c1">=</span><span class="pl-c1">True</span>)]</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_tfidf_less_features-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-en">print</span>(<span class="pl-s">'Number of selected features: '</span> ,<span class="pl-en">len</span>(<span class="pl-en">list</span>(<span class="pl-s1">feature_list</span>)),<span class="pl-s">'<span class="pl-cce">\n</span>'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_tfidf_less_features-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-en">print</span>(<span class="pl-s">'List of selected features: <span class="pl-cce">\n</span>'</span> ,<span class="pl-en">list</span>(<span class="pl-s1">feature_list</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_tfidf_less_features-py-LC6" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_tfidf_less_features-py-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">item_matrix_filtered_words_trainset_loocv</span> <span class="pl-c1">=</span> <span class="pl-en">get_item_matrix_with_inner_ids</span>(<span class="pl-s1">tfidf_df</span>[<span class="pl-s1">feature_list</span>].<span class="pl-c1">values</span>, <span class="pl-s1">movies_df</span>, <span class="pl-s1">train_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_tfidf_less_features-py-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">cosine_sim_filtered_words_trainset_loocv</span> <span class="pl-c1">=</span> <span class="pl-en">cosine_similarity</span>(<span class="pl-s1">item_matrix_filtered_words_trainset_loocv</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-recsys_tfidf_less_features-py-LC9" class="blob-code blob-code-inner js-file-line">                                                        <span class="pl-s1">item_matrix_filtered_words_trainset_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-recsys_tfidf_less_features-py-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">item_matrix_filtered_words_trainset</span> <span class="pl-c1">=</span> <span class="pl-en">get_item_matrix_with_inner_ids</span>(<span class="pl-s1">tfidf_df</span>[<span class="pl-s1">feature_list</span>].<span class="pl-c1">values</span>, <span class="pl-s1">movies_df</span>, <span class="pl-s1">trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-recsys_tfidf_less_features-py-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">cosine_sim_filtered_words_trainset</span> <span class="pl-c1">=</span> <span class="pl-en">cosine_similarity</span>(<span class="pl-s1">item_matrix_all_words_trainset</span>, <span class="pl-s1">item_matrix_all_words_trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-recsys_tfidf_less_features-py-LC12" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-recsys_tfidf_less_features-py-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-en">get_algorithm_report</span>(<span class="pl-v">CustomSimKNNAlgorithm</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>, <span class="pl-s1">movies_df</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-recsys_tfidf_less_features-py-LC14" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">target_movie_id</span><span class="pl-c1">=</span><span class="pl-s">'movie_1'</span>, <span class="pl-s1">target_user_id</span><span class="pl-c1">=</span><span class="pl-s">'user_1'</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-c1">10</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-recsys_tfidf_less_features-py-LC15" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset</span><span class="pl-c1">=</span><span class="pl-en">dict</span>(<span class="pl-s1">similarities</span><span class="pl-c1">=</span><span class="pl-s1">cosine_sim_filtered_words_trainset</span>, <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'user_based'</span>: <span class="pl-c1">False</span>}),</td>
        </tr>
        <tr>
          <td id="file-recsys_tfidf_less_features-py-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-recsys_tfidf_less_features-py-LC16" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset_loocv</span><span class="pl-c1">=</span><span class="pl-en">dict</span>(<span class="pl-s1">similarities</span><span class="pl-c1">=</span><span class="pl-s1">cosine_sim_filtered_words_trainset_loocv</span>, <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'user_based'</span>: <span class="pl-c1">False</span>}))</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/d772b9a90f5fb7e73c7a83f4ba47ad41/raw/3753fa4732d8db7b46311939df0375b2281985bf/recsys_tfidf_less_features.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/d772b9a90f5fb7e73c7a83f4ba47ad41#file-recsys_tfidf_less_features-py" class="Link--inTextBlock">
          recsys_tfidf_less_features.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<pre class="wp-block-prismatic-blocks"><code class="language-">Number of selected features:  784</code></pre>
<pre class="wp-block-prismatic-blocks"><code class="language-">List of selected features:   ['abbi', 'abel', 'ace', 'adam', 'adel', 'adrian', 'adrien', 'affair', 'agent', 'agn', 'al', 'aladdin', 'alan', 'albert', 'alex', 'alfr', 'ali', 'alic', 'alicia', 'alien', 'allen', 'alli', 'alvin', 'alyssa', 'amanda', 'amelia', 'american', 'ami', 'amo', 'andi', 'andrea', 'andrew', 'angel', 'angela', 'angelo', 'angus', 'ann', 'anna', 'anni', 'antoin', 'anton', 'antonio', 'ape', 'archer', 'archi', 'ariel', 'arjun', 'armstrong', 'arni', 'arroway', 'art', 'arthur', 'arturo', 'ash', 'audrey', 'aurora', 'austin', 'axel', 'babe', 'babi', 'balto', 'bambi', 'band', 'bank', 'barbara', 'barn', 'barney', 'bastian', 'bate', 'bateman', 'batman', 'beach', 'beal', 'bean', 'beatric', 'beckett', 'becki', 'beldar', 'bella', 'ben', 'bendrix'...</code></pre>
<pre class="wp-block-prismatic-blocks"><code class="language-">RMSE: 1.0314
HitRate: 0.003642384105960265</code></pre>
<figure class="wp-block-image size-large"><img data-dominant-color="323232" data-has-transparency="true" style="--dominant-color: #323232;" loading="lazy" decoding="async" width="719" height="287" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1BWj1x-b5fQQFrlqJcHrO5g.png" alt="" class="wp-image-511394 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1BWj1x-b5fQQFrlqJcHrO5g.png 719w, https://towardsdatascience.com/wp-content/uploads/2022/06/1BWj1x-b5fQQFrlqJcHrO5g-300x120.png 300w" sizes="auto, (max-width: 719px) 100vw, 719px"></figure>
<figure class="wp-block-image size-large"><img data-dominant-color="323232" data-has-transparency="true" style="--dominant-color: #323232;" loading="lazy" decoding="async" width="708" height="290" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1oBGvA1nu2OzbNWc5sKArhw.png" alt="" class="wp-image-511396 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1oBGvA1nu2OzbNWc5sKArhw.png 708w, https://towardsdatascience.com/wp-content/uploads/2022/06/1oBGvA1nu2OzbNWc5sKArhw-300x123.png 300w" sizes="auto, (max-width: 708px) 100vw, 708px"></figure>
<p class="wp-block-paragraph">Didn’t really help…We see that a large portion of the informative features are names. We don’t want that because names don’t really say anything about the movie content. Let’s remove the names.</p>
<hr class="wp-block-separator has-alpha-channel-opacity">
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/d80f30af38fa303ae79cfaa6ee3ce6fe.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist114814097" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_removing_people_names-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_removing_people_names.py content, created by erap129 on 12:33PM on February 19, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_removing_people_names.py">
        <tbody><tr>
          <td id="file-recsys_removing_people_names-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_removing_people_names-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">nltk</span>.<span class="pl-c1">download</span>(<span class="pl-s">'punkt'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_removing_people_names-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">text</span> <span class="pl-c1">=</span> <span class="pl-s">' '</span>.<span class="pl-c1">join</span>(<span class="pl-en">list</span>(<span class="pl-s1">feature_list</span>))</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_removing_people_names-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">st</span> <span class="pl-c1">=</span> <span class="pl-en">StanfordNERTagger</span>(<span class="pl-s">f'<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-c1">BASE_FOLDER</span><span class="pl-kos">}</span></span>/MovieLens-1M/english.all.3class.distsim.crf.ser.gz'</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_removing_people_names-py-LC4" class="blob-code blob-code-inner js-file-line">                       <span class="pl-s">f'<span class="pl-s1"><span class="pl-kos">{</span><span class="pl-c1">BASE_FOLDER</span><span class="pl-kos">}</span></span>/MovieLens-1M/stanford-ner.jar'</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_removing_people_names-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">people</span> <span class="pl-c1">=</span> []</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_removing_people_names-py-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-k">for</span> <span class="pl-s1">sent</span> <span class="pl-c1">in</span> <span class="pl-s1">nltk</span>.<span class="pl-c1">sent_tokenize</span>(<span class="pl-s1">text</span>):</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_removing_people_names-py-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">tokens</span> <span class="pl-c1">=</span> <span class="pl-s1">nltk</span>.<span class="pl-c1">tokenize</span>.<span class="pl-c1">word_tokenize</span>(<span class="pl-s1">sent</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_removing_people_names-py-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">tags</span> <span class="pl-c1">=</span> <span class="pl-s1">st</span>.<span class="pl-c1">tag</span>(<span class="pl-s1">tokens</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-recsys_removing_people_names-py-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span> <span class="pl-s1">tag</span> <span class="pl-c1">in</span> <span class="pl-s1">tags</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-recsys_removing_people_names-py-LC10" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> <span class="pl-s1">tag</span>[<span class="pl-c1">1</span>] <span class="pl-c1">==</span> <span class="pl-s">"PERSON"</span>:</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-recsys_removing_people_names-py-LC11" class="blob-code blob-code-inner js-file-line">            <span class="pl-s1">people</span>.<span class="pl-c1">append</span>(<span class="pl-s1">tag</span>[<span class="pl-c1">0</span>])</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-recsys_removing_people_names-py-LC12" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-recsys_removing_people_names-py-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">tfidf_df_min</span> <span class="pl-c1">=</span> <span class="pl-s1">tfidf_df</span>[[<span class="pl-s1">x</span> <span class="pl-k">for</span> <span class="pl-s1">x</span> <span class="pl-c1">in</span> <span class="pl-en">list</span>(<span class="pl-s1">feature_list</span>) <span class="pl-k">if</span> <span class="pl-s1">x</span> <span class="pl-c1"><span class="pl-c1">not</span> <span class="pl-c1">in</span></span> <span class="pl-s1">people</span>]]</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-recsys_removing_people_names-py-LC14" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-recsys_removing_people_names-py-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">item_matrix_filtered_words_no_names_trainset_loocv</span> <span class="pl-c1">=</span> <span class="pl-en">get_item_matrix_with_inner_ids</span>(<span class="pl-s1">tfidf_df_min</span>.<span class="pl-c1">values</span>, <span class="pl-s1">movies_df</span>, <span class="pl-s1">train_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-recsys_removing_people_names-py-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">cosine_sim_filtered_words_no_names_trainset_loocv</span> <span class="pl-c1">=</span> <span class="pl-en">cosine_similarity</span>(<span class="pl-s1">item_matrix_filtered_words_no_names_trainset_loocv</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="file-recsys_removing_people_names-py-LC17" class="blob-code blob-code-inner js-file-line">                                                        <span class="pl-s1">item_matrix_filtered_words_no_names_trainset_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td>
          <td id="file-recsys_removing_people_names-py-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">item_matrix_filtered_words_no_names_trainset</span> <span class="pl-c1">=</span> <span class="pl-en">get_item_matrix_with_inner_ids</span>(<span class="pl-s1">tfidf_df_min</span>.<span class="pl-c1">values</span>, <span class="pl-s1">movies_df</span>, <span class="pl-s1">trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td>
          <td id="file-recsys_removing_people_names-py-LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">cosine_sim_filtered_words_no_names_trainset</span> <span class="pl-c1">=</span> <span class="pl-en">cosine_similarity</span>(<span class="pl-s1">item_matrix_filtered_words_no_names_trainset</span>, <span class="pl-s1">item_matrix_filtered_words_no_names_trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L20" class="blob-num js-line-number js-blob-rnum" data-line-number="20"></td>
          <td id="file-recsys_removing_people_names-py-LC20" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L21" class="blob-num js-line-number js-blob-rnum" data-line-number="21"></td>
          <td id="file-recsys_removing_people_names-py-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-en">get_algorithm_report</span>(<span class="pl-v">CustomSimKNNAlgorithm</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>, <span class="pl-s1">movies_df</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L22" class="blob-num js-line-number js-blob-rnum" data-line-number="22"></td>
          <td id="file-recsys_removing_people_names-py-LC22" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">target_movie_id</span><span class="pl-c1">=</span><span class="pl-s">'movie_1'</span>, <span class="pl-s1">target_user_id</span><span class="pl-c1">=</span><span class="pl-s">'user_1'</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-c1">10</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L23" class="blob-num js-line-number js-blob-rnum" data-line-number="23"></td>
          <td id="file-recsys_removing_people_names-py-LC23" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset</span><span class="pl-c1">=</span><span class="pl-en">dict</span>(<span class="pl-s1">similarities</span><span class="pl-c1">=</span><span class="pl-s1">cosine_sim_filtered_words_no_names_trainset</span>, <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'user_based'</span>: <span class="pl-c1">False</span>}),</td>
        </tr>
        <tr>
          <td id="file-recsys_removing_people_names-py-L24" class="blob-num js-line-number js-blob-rnum" data-line-number="24"></td>
          <td id="file-recsys_removing_people_names-py-LC24" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset_loocv</span><span class="pl-c1">=</span><span class="pl-en">dict</span>(<span class="pl-s1">similarities</span><span class="pl-c1">=</span><span class="pl-s1">cosine_sim_filtered_words_no_names_trainset_loocv</span>, <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'user_based'</span>: <span class="pl-c1">False</span>}))</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/d80f30af38fa303ae79cfaa6ee3ce6fe/raw/d39770817368545a452cfbe794eca7decd5b5ad3/recsys_removing_people_names.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/d80f30af38fa303ae79cfaa6ee3ce6fe#file-recsys_removing_people_names-py" class="Link--inTextBlock">
          recsys_removing_people_names.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<pre class="wp-block-prismatic-blocks"><code class="language-">RMSE: 1.0284
HitRate: 0.0041390728476821195</code></pre>
<figure class="wp-block-image size-large"><img data-dominant-color="313131" data-has-transparency="true" style="--dominant-color: #313131;" loading="lazy" decoding="async" width="891" height="293" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1NGYrdRAUAZwgIARswe4d-g.png" alt="" class="wp-image-511397 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1NGYrdRAUAZwgIARswe4d-g.png 891w, https://towardsdatascience.com/wp-content/uploads/2022/06/1NGYrdRAUAZwgIARswe4d-g-300x99.png 300w, https://towardsdatascience.com/wp-content/uploads/2022/06/1NGYrdRAUAZwgIARswe4d-g-768x253.png 768w" sizes="auto, (max-width: 891px) 100vw, 891px"></figure>
<figure class="wp-block-image size-large"><img data-dominant-color="323232" data-has-transparency="true" style="--dominant-color: #323232;" loading="lazy" decoding="async" width="676" height="289" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1VZy1UZht1cB3pXtI4G1r-w.png" alt="" class="wp-image-511398 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1VZy1UZht1cB3pXtI4G1r-w.png 676w, https://towardsdatascience.com/wp-content/uploads/2022/06/1VZy1UZht1cB3pXtI4G1r-w-300x128.png 300w" sizes="auto, (max-width: 676px) 100vw, 676px"></figure>
<p class="wp-block-paragraph">OK, this is somewhat more reasonable than the previous two approaches. First of all the hit-rate is higher (though still way less than the collaborative filtering methods), and second the similar movies to Toy Story(1995) are actually similar. Third, the top predictions for user_1 even seem passable. Let us now try the movie-poster approach and see how that goes.</p>
<p class="wp-block-paragraph"><strong>Part V.II— Content-based filtering using movie genres</strong></p>
<p class="wp-block-paragraph">In this part I will tune down the algorithmic complexity and create a KNN recommender based only on the movie genres. This means that if a person rated children’s movies very high, we should expect the algorithm to recommend children’s movies. We will create all possible combinations of genres using pythons <code>itertools</code> package and then apply our old friend TF-IDF to generate a feature matrix from this data.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/2dfdb5a5d52d769fcaf08c39a5d344a8.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist116136588" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-recsys_genres-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="recsys_genres.py content, created by erap129 on 07:50AM on May 06, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="recsys_genres.py">
        <tbody><tr>
          <td id="file-recsys_genres-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-recsys_genres-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">ast</span></td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-recsys_genres-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">itertools</span> <span class="pl-k">import</span> <span class="pl-s1">combinations</span></td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-recsys_genres-py-LC3" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-recsys_genres-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">movies_df</span>[<span class="pl-s">'genre_list'</span>] <span class="pl-c1">=</span> <span class="pl-s1">movies_df</span>[<span class="pl-s">'genre'</span>].<span class="pl-c1">apply</span>(<span class="pl-s1">ast</span>.<span class="pl-c1">literal_eval</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-recsys_genres-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">tf_genres</span> <span class="pl-c1">=</span> <span class="pl-en">TfidfVectorizer</span>(<span class="pl-s1">analyzer</span><span class="pl-c1">=</span><span class="pl-k">lambda</span> <span class="pl-s1">s</span>: (<span class="pl-s1">c</span> <span class="pl-k">for</span> <span class="pl-s1">i</span> <span class="pl-c1">in</span> <span class="pl-en">range</span>(<span class="pl-c1">1</span>,<span class="pl-c1">4</span>) <span class="pl-k">for</span> <span class="pl-s1">c</span> <span class="pl-c1">in</span> <span class="pl-en">combinations</span>(<span class="pl-s1">s</span>, <span class="pl-s1">r</span><span class="pl-c1">=</span><span class="pl-s1">i</span>)))</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-recsys_genres-py-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">tfidf_genres</span> <span class="pl-c1">=</span> <span class="pl-s1">tf_genres</span>.<span class="pl-c1">fit_transform</span>(<span class="pl-s1">movies_df</span>[<span class="pl-s">'genre_list'</span>])</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-recsys_genres-py-LC7" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-recsys_genres-py-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">item_matrix_genres_trainset_loocv</span> <span class="pl-c1">=</span> <span class="pl-en">get_item_matrix_with_inner_ids</span>(<span class="pl-s1">tfidf_genres</span>.<span class="pl-c1">todense</span>(), <span class="pl-s1">movies_df</span>, <span class="pl-s1">train_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-recsys_genres-py-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">cosine_sim_genres_trainset_loocv</span> <span class="pl-c1">=</span> <span class="pl-en">cosine_similarity</span>(<span class="pl-s1">item_matrix_genres_trainset_loocv</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-recsys_genres-py-LC10" class="blob-code blob-code-inner js-file-line">                                                        <span class="pl-s1">item_matrix_genres_trainset_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-recsys_genres-py-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">item_matrix_genres_trainset</span> <span class="pl-c1">=</span> <span class="pl-en">get_item_matrix_with_inner_ids</span>(<span class="pl-s1">tfidf_genres</span>.<span class="pl-c1">todense</span>(), <span class="pl-s1">movies_df</span>, <span class="pl-s1">trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-recsys_genres-py-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">cosine_sim_genres_trainset</span> <span class="pl-c1">=</span> <span class="pl-en">cosine_similarity</span>(<span class="pl-s1">item_matrix_genres_trainset</span>, <span class="pl-s1">item_matrix_genres_trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-recsys_genres-py-LC13" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-recsys_genres-py-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-en">get_algorithm_report</span>(<span class="pl-v">CustomSimKNNAlgorithm</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>, <span class="pl-s1">movies_df</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-recsys_genres-py-LC15" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">target_movie_id</span><span class="pl-c1">=</span><span class="pl-s">'movie_1'</span>, <span class="pl-s1">target_user_id</span><span class="pl-c1">=</span><span class="pl-s">'user_1'</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-c1">10</span>,</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-recsys_genres-py-LC16" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset</span><span class="pl-c1">=</span><span class="pl-en">dict</span>(<span class="pl-s1">similarities</span><span class="pl-c1">=</span><span class="pl-s1">cosine_sim_genres_trainset</span>, <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'user_based'</span>: <span class="pl-c1">False</span>}),</td>
        </tr>
        <tr>
          <td id="file-recsys_genres-py-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="file-recsys_genres-py-LC17" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset_loocv</span><span class="pl-c1">=</span><span class="pl-en">dict</span>(<span class="pl-s1">similarities</span><span class="pl-c1">=</span><span class="pl-s1">cosine_sim_genres_trainset_loocv</span>, <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'user_based'</span>: <span class="pl-c1">False</span>}))</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/2dfdb5a5d52d769fcaf08c39a5d344a8/raw/ebc3322ff9eaa386b0352edee549ae5a4a01f4d5/recsys_genres.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/2dfdb5a5d52d769fcaf08c39a5d344a8#file-recsys_genres-py" class="Link--inTextBlock">
          recsys_genres.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<pre class="wp-block-prismatic-blocks"><code class="language-">RMSE: 1.0138
HitRate: 0.0031456953642384107</code></pre>
<figure class="wp-block-image size-large"><img data-dominant-color="323232" data-has-transparency="true" style="--dominant-color: #323232;" loading="lazy" decoding="async" width="885" height="291" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/12UzsMJUEYam1xfC1XEKbkw.png" alt="" class="wp-image-511399 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/12UzsMJUEYam1xfC1XEKbkw.png 885w, https://towardsdatascience.com/wp-content/uploads/2022/06/12UzsMJUEYam1xfC1XEKbkw-300x99.png 300w, https://towardsdatascience.com/wp-content/uploads/2022/06/12UzsMJUEYam1xfC1XEKbkw-768x253.png 768w" sizes="auto, (max-width: 885px) 100vw, 885px"></figure>
<figure class="wp-block-image size-large"><img data-dominant-color="333333" data-has-transparency="true" style="--dominant-color: #333333;" loading="lazy" decoding="async" width="535" height="292" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1sksGjMCf2SagW71XPB6Jig.png" alt="" class="wp-image-511400 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1sksGjMCf2SagW71XPB6Jig.png 535w, https://towardsdatascience.com/wp-content/uploads/2022/06/1sksGjMCf2SagW71XPB6Jig-300x164.png 300w" sizes="auto, (max-width: 535px) 100vw, 535px"></figure>
<p class="wp-block-paragraph">Unsurprisingly the most similar movies to Toy Story (1995) are those that have identical or almost identical genres. Other than that the results are quite confusing, why did user_1 get recommendations only for war movies? Let’s remind ourselves of the table in part III of this article (which shows all of the ratings of user_1), we see that there are two movies with genre "war" in user_1’s rating list and both of them got a score of 5. The other genres that user_1 has rated appear more frequently and thus if we average user_1’s scores by genre – the "war" genre will receive a perfect score while the other genres won’t.</p>
<p class="wp-block-paragraph">Because the item content-based KNN recommender predicts new items for user_1 by their similarity to other items that have been scored by user_1 it will give a perfect score for each war movie it will see in the context of user_1! The KNN recommender ignores scores belonging to 0 similarity items, it will only take into account the war movie scores when generating the recommendations for war movies and thus always predict perfect scores.</p>
<p class="wp-block-paragraph"><strong>Part V.III – Content-based filtering using user User age+gender</strong></p>
<p class="wp-block-paragraph">Let us start by creating a feature vector from the users’ age and gender. We will assign 0 to ‘Male’ and 1 to ‘Female’ and we will take the age column as-is. Finally we will normalize the columns so as not to be affected by the difference in column magnitudes. Using these values we will create a cosine-similarity matrix as we did for the movies, but this time we will calculate a similarity score between each user. This similarity score will be an input to our user-based KNN recommender.</p>
<div class="wp-block-tds-gist-embed">
	<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/3040d43599560ad8ca0829f4db97352f.js.download"></script><link rel="stylesheet" href="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/gist-embed-04c27bb90e5b.css"><div id="gist116664749" class="gist">
    <div class="gist-file" translate="no" data-color-mode="light" data-light-theme="light">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-user_knn-py" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  " style="overflow: auto" tabindex="0" role="region" aria-label="user_knn.py content, created by erap129 on 11:18AM on June 04, 2022.">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

  <table data-hpc="" class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-path="user_knn.py">
        <tbody><tr>
          <td id="file-user_knn-py-L1" class="blob-num js-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-user_knn-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">get_user_sim_values</span>(<span class="pl-s1">train_set</span>):</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L2" class="blob-num js-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-user_knn-py-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">users_age_gender</span> <span class="pl-c1">=</span> (<span class="pl-s1">users_df</span>.</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L3" class="blob-num js-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-user_knn-py-LC3" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">assign</span>(<span class="pl-s1">inner_id</span><span class="pl-c1">=</span><span class="pl-k">lambda</span> <span class="pl-s1">df</span>: <span class="pl-s1">df</span>[<span class="pl-s">'user_id'</span>].<span class="pl-c1">apply</span>(<span class="pl-k">lambda</span> <span class="pl-s1">x</span>: <span class="pl-s1">train_set</span>.<span class="pl-c1">to_inner_uid</span>(<span class="pl-s1">x</span>)),</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L4" class="blob-num js-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-user_knn-py-LC4" class="blob-code blob-code-inner js-file-line">               <span class="pl-s1">gender</span><span class="pl-c1">=</span><span class="pl-k">lambda</span> <span class="pl-s1">df</span>: <span class="pl-s1">df</span>[<span class="pl-s">'gender'</span>].<span class="pl-c1">replace</span>({<span class="pl-s">'M'</span>: <span class="pl-c1">0</span>, <span class="pl-s">'F'</span>: <span class="pl-c1">1</span>}).<span class="pl-c1">astype</span>(<span class="pl-s">'int'</span>)).</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L5" class="blob-num js-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-user_knn-py-LC5" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">sort_values</span>(<span class="pl-s">'inner_id'</span>).</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L6" class="blob-num js-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-user_knn-py-LC6" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">filter</span>(<span class="pl-s1">items</span><span class="pl-c1">=</span>[<span class="pl-s">'age'</span>, <span class="pl-s">'gender'</span>])</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L7" class="blob-num js-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-user_knn-py-LC7" class="blob-code blob-code-inner js-file-line">    )</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L8" class="blob-num js-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-user_knn-py-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">user_values_np</span> <span class="pl-c1">=</span> <span class="pl-en">StandardScaler</span>().<span class="pl-c1">fit_transform</span>(<span class="pl-s1">users_age_gender</span>.<span class="pl-c1">to_numpy</span>())</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L9" class="blob-num js-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-user_knn-py-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">cosine_sim_user_values</span> <span class="pl-c1">=</span> <span class="pl-en">cosine_similarity</span>(<span class="pl-s1">user_values_np</span>, <span class="pl-s1">user_values_np</span>)</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L10" class="blob-num js-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-user_knn-py-LC10" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s1">cosine_sim_user_values</span></td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L11" class="blob-num js-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-user_knn-py-LC11" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L12" class="blob-num js-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-user_knn-py-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">cosine_sim_user_values_trainset</span> <span class="pl-c1">=</span> <span class="pl-en">get_user_sim_values</span>(<span class="pl-s1">trainset</span>)</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L13" class="blob-num js-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-user_knn-py-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">cosine_sim_user_values_train_loocv</span> <span class="pl-c1">=</span> <span class="pl-en">get_user_sim_values</span>(<span class="pl-s1">train_loocv</span>)</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L14" class="blob-num js-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-user_knn-py-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-en">get_algorithm_report</span>(<span class="pl-v">CustomSimKNNAlgorithm</span>, <span class="pl-s1">trainset</span>, <span class="pl-s1">testset</span>, <span class="pl-s1">train_loocv</span>, <span class="pl-s1">test_loocv</span>, <span class="pl-s1">movies_df</span>,</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L15" class="blob-num js-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-user_knn-py-LC15" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">target_movie_id</span><span class="pl-c1">=</span><span class="pl-s">'movie_1'</span>, <span class="pl-s1">target_user_id</span><span class="pl-c1">=</span><span class="pl-s">'user_1'</span>, <span class="pl-s1">top_k</span><span class="pl-c1">=</span><span class="pl-c1">10</span>,</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L16" class="blob-num js-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-user_knn-py-LC16" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset</span><span class="pl-c1">=</span><span class="pl-en">dict</span>(<span class="pl-s1">similarities</span><span class="pl-c1">=</span><span class="pl-c1">None</span>,</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L17" class="blob-num js-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="file-user_knn-py-LC17" class="blob-code blob-code-inner js-file-line">                                               <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'user_based'</span>: <span class="pl-c1">True</span>}),</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L18" class="blob-num js-line-number js-blob-rnum" data-line-number="18"></td>
          <td id="file-user_knn-py-LC18" class="blob-code blob-code-inner js-file-line">                     <span class="pl-s1">algo_kwargs_trainset_loocv</span><span class="pl-c1">=</span><span class="pl-en">dict</span>(<span class="pl-s1">similarities</span><span class="pl-c1">=</span><span class="pl-s1">cosine_sim_user_values_train_loocv</span>,</td>
        </tr>
        <tr>
          <td id="file-user_knn-py-L19" class="blob-num js-line-number js-blob-rnum" data-line-number="19"></td>
          <td id="file-user_knn-py-LC19" class="blob-code blob-code-inner js-file-line">                                                     <span class="pl-s1">sim_options</span><span class="pl-c1">=</span>{<span class="pl-s">'user_based'</span>: <span class="pl-c1">True</span>}), <span class="pl-s1">calc_most_similar</span><span class="pl-c1">=</span><span class="pl-c1">False</span>)</td>
        </tr>
  </tbody></table>
</div>


    </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/erap129/3040d43599560ad8ca0829f4db97352f/raw/8665cbe4a69371cda7f75f7724f005f67daf2cb6/user_knn.py" style="float:right" class="Link--inTextBlock">view raw</a>
        <a href="https://gist.github.com/erap129/3040d43599560ad8ca0829f4db97352f#file-user_knn-py" class="Link--inTextBlock">
          user_knn.py
        </a>
        hosted with ❤ by <a class="Link--inTextBlock" href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>

</div>

<pre class="wp-block-prismatic-blocks"><code class="language-">RMSE: 0.9784
HitRate: 0.00347682119205298</code></pre>
<figure class="wp-block-image size-large"><img data-dominant-color="313131" data-has-transparency="true" style="--dominant-color: #313131;" loading="lazy" decoding="async" width="771" height="292" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1C3BAeCkUQmfqxy6j5Yn1Ug.png" alt="" class="wp-image-511401 has-transparency" srcset="https://towardsdatascience.com/wp-content/uploads/2022/06/1C3BAeCkUQmfqxy6j5Yn1Ug.png 771w, https://towardsdatascience.com/wp-content/uploads/2022/06/1C3BAeCkUQmfqxy6j5Yn1Ug-300x114.png 300w, https://towardsdatascience.com/wp-content/uploads/2022/06/1C3BAeCkUQmfqxy6j5Yn1Ug-768x291.png 768w" sizes="auto, (max-width: 771px) 100vw, 771px"></figure>
<p class="wp-block-paragraph">We see that the RMSE is a better than for the item-based methods, similarly to the results we got in part IV (collaborative filtering), where the user-based recommendations outperformed item-based ones. but the hit rate is a bit worse than some of the item-based methods we tried. It seems that each method has its strengths and weaknesses and a good approach will probably be to somehow combine them all, and this will be the focus of the next part.</p>
<h2 class="wp-block-heading">Part VI – Conclusions and thoughts ahead</h2>
<p class="wp-block-paragraph">In this post, a lot was covered.</p>
<p class="wp-block-paragraph">First, we inspected the MovieLens-1M dataset and got some pretty interesting insights from the graphs we saw, such as which movie genres tend to score higher than others in average. We then used some vanilla <a href="https://towardsdatascience.com/tag/recommender-systems/" title="Recommender Systems">Recommender Systems</a> algorithms from the <code>Surprise</code> python package, and got some pretty good results with the SVD algorithm.</p>
<p class="wp-block-paragraph">After that, we tried our luck with content-based filtering, but unfortunately, this turned out to be a futile attempt. Despite that, in the research process we unveiled an inherent weakness in KNN recommender systems (or content-based filtering in general), which is that the recommendations for a specific user are based solely on the items that he/she has interacted with in the past, and if there was bias in this user’s interactions it will show up in the KNN recommendations. This is why our spotlight user (user_1) got top scores for war movies when we used genres as the basis of our recommendations, even though we as humans wouldn’t necessarily agree. A more probable recommendation for this user would be children’s/musicals and the like.</p>
<p class="wp-block-paragraph">Additionally, we saw that when dealing with natural text, such as movie plots, it is worthwhile to understand which features are most affecting the recommendations. When we removed person names which were ranked very high in the TF-IDF algorithm, we suddenly got better results and this was clearly visible when the movies that were most similar to Toy Story (1995) suddenly made sense.</p>
<p class="wp-block-paragraph">In the next part, I will combine content-based filtering and collaborative filtering and thus have the best of both worlds. I already have my eyes on the <a href="https://www.tensorflow.org/recommenders">TensorFlow-recommenders</a> package and I cant’ wait to give it a go.</p>
<p class="wp-block-paragraph">Until next time!</p>
<p class="wp-block-paragraph">Elad</p>
<p class="wp-block-paragraph"><strong>References:</strong></p>
<p class="wp-block-paragraph">[1] <em>Maxwell Harper and Joseph A. Konstan. 2015. The MovieLens Datasets: History and Context. ACM Transactions on Interactive Intelligent Systems (TiiS) 5, 4: 19:1–19:19. <a href="https://doi.org/10.1145/2827872">https://doi.org/10.1145/2827872</a></em></p></div>

		</div>
		

		
		<hr class="wp-block-separator has-alpha-channel-opacity is-style-dotted" style="margin-top:var(--wp--preset--spacing--64);margin-bottom:var(--wp--preset--spacing--64)">
		

		
		<div class="wp-block-group has-global-padding is-layout-constrained wp-container-core-group-is-layout-17 wp-block-group-is-layout-constrained">

			
			<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-14 wp-block-group-is-layout-flex">

				
				<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-13 wp-block-group-is-layout-flex">

					
					<p class="has-eyebrow-1-font-size wp-block-paragraph" style="text-transform:uppercase">Written By</p>
					

					<div style="font-style:normal;font-weight:700;text-transform:capitalize;" class="wp-block-post-author-name has-heading-5-font-size">Elad Rapaport</div>

					
					<div class="wp-block-buttons is-layout-flex wp-block-buttons-is-layout-flex">

						<div class="wp-block-button"><a href="https://towardsdatascience.com/author/erap129/" class="wp-block-button__link wp-element-button">See all from Elad Rapaport</a></div>

					</div>
					

				</div>
				

			</div>
			

			
			<div class="wp-block-group is-layout-flex wp-block-group-is-layout-flex">

				
				<p class="has-body-2-font-size wp-block-paragraph" style="font-style:normal;font-weight:700">Topics:</p>
				

				<div class="taxonomy-post_tag wp-block-post-terms"><a href="https://towardsdatascience.com/tag/machine-learning/" rel="tag">Machine Learning</a><span class="wp-block-post-terms__separator">, </span><a href="https://towardsdatascience.com/tag/python/" rel="tag">Python</a><span class="wp-block-post-terms__separator">, </span><a href="https://towardsdatascience.com/tag/recommendation-system/" rel="tag">Recommendation System</a><span class="wp-block-post-terms__separator">, </span><a href="https://towardsdatascience.com/tag/recommender-systems/" rel="tag">Recommender Systems</a><span class="wp-block-post-terms__separator">, </span><a href="https://towardsdatascience.com/tag/surprise/" rel="tag">Surprise</a></div>

			</div>
			

			
			<div class="wp-block-group is-layout-flex wp-block-group-is-layout-flex">

				
				<p class="has-body-2-font-size wp-block-paragraph" style="font-style:normal;font-weight:700">Share this article:</p>
				

				
				<ul class="wp-block-outermost-social-sharing has-icon-color is-style-logos-only is-layout-flex wp-block-social-sharing-is-layout-flex">

					<li style="color: var(--wp--custom--color--wild-blue-yonder);  border-radius:100px;border-width:1px; padding-top:var(--wp--preset--spacing--8);padding-bottom:var(--wp--preset--spacing--8);padding-left:var(--wp--preset--spacing--8);padding-right:var(--wp--preset--spacing--8);" class="outermost-social-sharing-link outermost-social-sharing-link-facebook has-wild-blue-yonder-color wp-block-outermost-social-sharing-link">
	<a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftowardsdatascience.com%2Fmovielens-1m-deep-dive-part-i-8acfeda1ad4%2F&amp;title=MovieLens-1M%20Deep%20Dive%20%E2%80%93%20Part%20I" aria-label="Share on Facebook" rel="noopener nofollow" target="_blank" class="wp-block-outermost-social-sharing-link-anchor">
		<svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M12 2C6.5 2 2 6.5 2 12c0 5 3.7 9.1 8.4 9.9v-7H7.9V12h2.5V9.8c0-2.5 1.5-3.9 3.8-3.9 1.1 0 2.2.2 2.2.2v2.5h-1.3c-1.2 0-1.6.8-1.6 1.6V12h2.8l-.4 2.9h-2.3v7C18.3 21.1 22 17 22 12c0-5.5-4.5-10-10-10z"></path></svg>		<span class="wp-block-outermost-social-sharing-link-label screen-reader-text">
			Share on Facebook		</span>
	</a>
</li>

					<li style="color: var(--wp--custom--color--wild-blue-yonder);  border-radius:100px;border-width:1px; padding-top:var(--wp--preset--spacing--8);padding-bottom:var(--wp--preset--spacing--8);padding-left:var(--wp--preset--spacing--8);padding-right:var(--wp--preset--spacing--8);" class="outermost-social-sharing-link outermost-social-sharing-link-linkedin has-wild-blue-yonder-color wp-block-outermost-social-sharing-link">
	<a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Ftowardsdatascience.com%2Fmovielens-1m-deep-dive-part-i-8acfeda1ad4%2F&amp;title=MovieLens-1M%20Deep%20Dive%20%E2%80%93%20Part%20I" aria-label="Share on LinkedIn" rel="noopener nofollow" target="_blank" class="wp-block-outermost-social-sharing-link-anchor">
		<svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z"></path></svg>		<span class="wp-block-outermost-social-sharing-link-label screen-reader-text">
			Share on LinkedIn		</span>
	</a>
</li>

					<li style="color: var(--wp--custom--color--wild-blue-yonder);  border-radius:100px;border-width:1px; padding-top:var(--wp--preset--spacing--8);padding-bottom:var(--wp--preset--spacing--8);padding-left:var(--wp--preset--spacing--8);padding-right:var(--wp--preset--spacing--8);" class="outermost-social-sharing-link outermost-social-sharing-link-x has-wild-blue-yonder-color wp-block-outermost-social-sharing-link">
	<a href="https://x.com/share?url=https%3A%2F%2Ftowardsdatascience.com%2Fmovielens-1m-deep-dive-part-i-8acfeda1ad4%2F&amp;text=MovieLens-1M%20Deep%20Dive%20%E2%80%93%20Part%20I" aria-label="Share on X" rel="noopener nofollow" target="_blank" class="wp-block-outermost-social-sharing-link-anchor">
		<svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M13.982 10.622 20.54 3h-1.554l-5.693 6.618L8.745 3H3.5l6.876 10.007L3.5 21h1.554l6.012-6.989L15.868 21h5.245l-7.131-10.378Zm-2.128 2.474-.697-.997-5.543-7.93H8l4.474 6.4.697.996 5.815 8.318h-2.387l-4.745-6.787Z"></path></svg>		<span class="wp-block-outermost-social-sharing-link-label screen-reader-text">
			Share on X		</span>
	</a>
</li>


				</ul>
				

			</div>
			

		</div>
		

		
		<div style="height:40px" aria-hidden="true" class="wp-block-spacer"></div>
		

		
		<div class="wp-block-group has-global-padding is-layout-constrained wp-block-group-is-layout-constrained">

			

		</div>
		

	</main>
	

	
	<div class="wp-block-group has-surface-secondary-background-color has-background has-global-padding is-layout-constrained wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--80);padding-bottom:var(--wp--preset--spacing--80)">

		
		<div class="wp-block-group is-layout-flow wp-block-group-is-layout-flow">

			
			<h2 class="wp-block-heading has-heading-3-font-size">Related Articles</h2>
			

			
			<div class="wp-block-query alignwide is-layout-flow wp-block-query-is-layout-flow">

				<ul class="wp-block-post-template is-layout-grid wp-container-core-post-template-is-layout-1 wp-block-post-template-is-layout-grid is-entire-card-clickable"><li class="wp-block-post post-3482 post type-post status-publish format-standard has-post-thumbnail hentry category-artificial-intelligence category-data-science category-deep-learning category-machine-learning tag-artificial-intelligence tag-data-science tag-deep-learning tag-machine-learning tag-neural-networks" style="cursor: pointer;">

					

<div class="wp-block-group alignwide is-vertical is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-25 wp-block-group-is-layout-flex wp-block-pattern wp-block-null">

	<figure style="aspect-ratio:16/9;width:100%;" class="wp-block-post-featured-image"><img width="1400" height="644" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/0c09RmbCCpfjAbSMq.png" class="attachment-post-thumbnail size-post-thumbnail has-transparency wp-post-image" alt="" style="--dominant-color: #f5eddd;width:100%;height:100%;object-fit:cover;" decoding="async" loading="lazy" srcset="https://towardsdatascience.com/wp-content/uploads/2024/08/0c09RmbCCpfjAbSMq.png 1400w, https://towardsdatascience.com/wp-content/uploads/2024/08/0c09RmbCCpfjAbSMq-300x138.png 300w, https://towardsdatascience.com/wp-content/uploads/2024/08/0c09RmbCCpfjAbSMq-1024x471.png 1024w, https://towardsdatascience.com/wp-content/uploads/2024/08/0c09RmbCCpfjAbSMq-768x353.png 768w" sizes="auto, (max-width: 1400px) 100vw, 1400px" data-has-transparency="true" data-dominant-color="f5eddd"></figure>

	
	<div class="wp-block-group alignwide is-style-default is-vertical is-layout-flex wp-container-core-group-is-layout-24 wp-block-group-is-layout-flex" style="padding-top:var(--wp--preset--spacing--10);padding-right:0;padding-left:0">

		
		<div class="wp-block-group is-reversed is-vertical is-layout-flex wp-container-core-group-is-layout-20 wp-block-group-is-layout-flex">

			<h2 style="margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;" class="has-link-color alignwide wp-elements-c804df8ecfea890347697a4469c7a87f wp-block-post-title has-text-color has-text-primary-color has-heading-6-font-size"><a href="https://towardsdatascience.com/implementing-convolutional-neural-networks-in-tensorflow-bc1c4f00bd34/" target="_self">Implementing Convolutional Neural Networks in TensorFlow</a></h2>
							<a href="https://towardsdatascience.com/category/artificial-intelligence/" style="text-transform:uppercase;" class="is-taxonomy-category wp-block-tenup-post-primary-term has-text-color has-text-secondary-color has-eyebrow-1-font-size">
					Artificial Intelligence				</a>
						

		</div>
		

		<div class="has-link-color wp-elements-9b2da9e78c2e95c41dab8b5a7bd89187 wp-block-post-excerpt has-text-color has-text-secondary-color"><p class="wp-block-post-excerpt__excerpt">Step-by-step code guide to building a Convolutional Neural Network </p></div>

		
		<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-23 wp-block-group-is-layout-flex">

			
			<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-22 wp-block-group-is-layout-flex">

				<div style="text-decoration:none;" class="has-link-color wp-elements-405d4e0f55fae1c84a82bd83ba2e27c0 wp-block-post-author-name has-text-color has-blue-gray-color has-caption-1-font-size"><a href="https://towardsdatascience.com/author/shreya-rao/" target="_self" class="wp-block-post-author-name__link">Shreya Rao</a></div>

				
				<div class="wp-block-group has-text-secondary-color has-text-color has-link-color wp-elements-421d182eef1a5225f64372b8a5605ad9 is-nowrap is-layout-flex wp-container-core-group-is-layout-21 wp-block-group-is-layout-flex">

					<div class="has-link-color wp-elements-2f08df38809735c44d27c382513ecb52 wp-block-post-date has-text-color has-text-secondary-color has-caption-1-font-size"><time datetime="2024-08-20T17:12:30-05:00">August 20, 2024</time></div>
					
<div class="wp-elements-717bb1e0e8956d465f5b94f3ba248dbf wp-block-tenup-post-time-to-read has-text-color has-text-secondary-color has-caption-1-font-size">
	6 min read</div>


					

					

				</div>
				

			</div>
			

		</div>
		

	</div>
	

</div>



				</li><li class="wp-block-post post-3491 post type-post status-publish format-standard has-post-thumbnail hentry category-artificial-intelligence category-machine-learning category-statistics tag-artificial-intelligence tag-hands-on-tutorials tag-machine-learning tag-statistics tag-time-series-forecasting" style="cursor: pointer;">

					

<div class="wp-block-group alignwide is-vertical is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-31 wp-block-group-is-layout-flex wp-block-pattern wp-block-null">

	<figure style="aspect-ratio:16/9;width:100%;" class="wp-block-post-featured-image"><img width="2560" height="1506" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/0GyVVTbgotH-DhGPH-scaled.jpg" class="attachment-post-thumbnail size-post-thumbnail not-transparent wp-post-image" alt="Photo by Krista Mangulsone on Unsplash" style="--dominant-color: #7d7668;width:100%;height:100%;object-fit:cover;" decoding="async" loading="lazy" srcset="https://towardsdatascience.com/wp-content/uploads/2024/08/0GyVVTbgotH-DhGPH-scaled.jpg 2560w, https://towardsdatascience.com/wp-content/uploads/2024/08/0GyVVTbgotH-DhGPH-300x177.jpg 300w, https://towardsdatascience.com/wp-content/uploads/2024/08/0GyVVTbgotH-DhGPH-1024x603.jpg 1024w, https://towardsdatascience.com/wp-content/uploads/2024/08/0GyVVTbgotH-DhGPH-768x452.jpg 768w, https://towardsdatascience.com/wp-content/uploads/2024/08/0GyVVTbgotH-DhGPH-1536x904.jpg 1536w, https://towardsdatascience.com/wp-content/uploads/2024/08/0GyVVTbgotH-DhGPH-2048x1205.jpg 2048w" sizes="auto, (max-width: 2560px) 100vw, 2560px" data-has-transparency="false" data-dominant-color="7d7668"></figure>

	
	<div class="wp-block-group alignwide is-style-default is-vertical is-layout-flex wp-container-core-group-is-layout-30 wp-block-group-is-layout-flex" style="padding-top:var(--wp--preset--spacing--10);padding-right:0;padding-left:0">

		
		<div class="wp-block-group is-reversed is-vertical is-layout-flex wp-container-core-group-is-layout-26 wp-block-group-is-layout-flex">

			<h2 style="margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;" class="has-link-color alignwide wp-elements-c804df8ecfea890347697a4469c7a87f wp-block-post-title has-text-color has-text-primary-color has-heading-6-font-size"><a href="https://towardsdatascience.com/how-to-forecast-hierarchical-time-series-75f223f79793/" target="_self">How to Forecast Hierarchical Time Series</a></h2>
							<a href="https://towardsdatascience.com/category/artificial-intelligence/" style="text-transform:uppercase;" class="is-taxonomy-category wp-block-tenup-post-primary-term has-text-color has-text-secondary-color has-eyebrow-1-font-size">
					Artificial Intelligence				</a>
						

		</div>
		

		<div class="has-link-color wp-elements-9b2da9e78c2e95c41dab8b5a7bd89187 wp-block-post-excerpt has-text-color has-text-secondary-color"><p class="wp-block-post-excerpt__excerpt">A beginner’s guide to forecast reconciliation </p></div>

		
		<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-29 wp-block-group-is-layout-flex">

			
			<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-28 wp-block-group-is-layout-flex">

				<div style="text-decoration:none;" class="has-link-color wp-elements-405d4e0f55fae1c84a82bd83ba2e27c0 wp-block-post-author-name has-text-color has-blue-gray-color has-caption-1-font-size"><a href="https://towardsdatascience.com/author/dr-robert-kuebler/" target="_self" class="wp-block-post-author-name__link">Dr. Robert Kübler</a></div>

				
				<div class="wp-block-group has-text-secondary-color has-text-color has-link-color wp-elements-421d182eef1a5225f64372b8a5605ad9 is-nowrap is-layout-flex wp-container-core-group-is-layout-27 wp-block-group-is-layout-flex">

					<div class="has-link-color wp-elements-2f08df38809735c44d27c382513ecb52 wp-block-post-date has-text-color has-text-secondary-color has-caption-1-font-size"><time datetime="2024-08-20T12:32:17-05:00">August 20, 2024</time></div>
					
<div class="wp-elements-717bb1e0e8956d465f5b94f3ba248dbf wp-block-tenup-post-time-to-read has-text-color has-text-secondary-color has-caption-1-font-size">
	13 min read</div>


					

					

				</div>
				

			</div>
			

		</div>
		

	</div>
	

</div>



				</li><li class="wp-block-post post-3494 post type-post status-publish format-standard has-post-thumbnail hentry category-data-science category-machine-learning tag-anomaly-detection tag-data-science tag-hands-on-tutorials tag-machine-learning tag-time-series-analysis" style="cursor: pointer;">

					

<div class="wp-block-group alignwide is-vertical is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-37 wp-block-group-is-layout-flex wp-block-pattern wp-block-null">

	<figure style="aspect-ratio:16/9;width:100%;" class="wp-block-post-featured-image"><img width="2560" height="1707" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1bAABgtZtAIG5YW1oEjW3pA-scaled.jpeg" class="attachment-post-thumbnail size-post-thumbnail not-transparent wp-post-image" alt="Photo by davisuko on Unsplash" style="--dominant-color: #097cb9;width:100%;height:100%;object-fit:cover;" decoding="async" loading="lazy" srcset="https://towardsdatascience.com/wp-content/uploads/2024/08/1bAABgtZtAIG5YW1oEjW3pA-scaled.jpeg 2560w, https://towardsdatascience.com/wp-content/uploads/2024/08/1bAABgtZtAIG5YW1oEjW3pA-300x200.jpeg 300w, https://towardsdatascience.com/wp-content/uploads/2024/08/1bAABgtZtAIG5YW1oEjW3pA-1024x683.jpeg 1024w, https://towardsdatascience.com/wp-content/uploads/2024/08/1bAABgtZtAIG5YW1oEjW3pA-768x512.jpeg 768w, https://towardsdatascience.com/wp-content/uploads/2024/08/1bAABgtZtAIG5YW1oEjW3pA-1536x1024.jpeg 1536w, https://towardsdatascience.com/wp-content/uploads/2024/08/1bAABgtZtAIG5YW1oEjW3pA-2048x1365.jpeg 2048w" sizes="auto, (max-width: 2560px) 100vw, 2560px" data-has-transparency="false" data-dominant-color="097cb9"></figure>

	
	<div class="wp-block-group alignwide is-style-default is-vertical is-layout-flex wp-container-core-group-is-layout-36 wp-block-group-is-layout-flex" style="padding-top:var(--wp--preset--spacing--10);padding-right:0;padding-left:0">

		
		<div class="wp-block-group is-reversed is-vertical is-layout-flex wp-container-core-group-is-layout-32 wp-block-group-is-layout-flex">

			<h2 style="margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;" class="has-link-color alignwide wp-elements-c804df8ecfea890347697a4469c7a87f wp-block-post-title has-text-color has-text-primary-color has-heading-6-font-size"><a href="https://towardsdatascience.com/hands-on-time-series-anomaly-detection-using-autoencoders-with-python-7cd893bbc122/" target="_self">Hands-on Time Series Anomaly Detection using Autoencoders, with Python</a></h2>
							<a href="https://towardsdatascience.com/category/data-science/" style="text-transform:uppercase;" class="is-taxonomy-category wp-block-tenup-post-primary-term has-text-color has-text-secondary-color has-eyebrow-1-font-size">
					Data Science				</a>
						

		</div>
		

		<div class="has-link-color wp-elements-9b2da9e78c2e95c41dab8b5a7bd89187 wp-block-post-excerpt has-text-color has-text-secondary-color"><p class="wp-block-post-excerpt__excerpt">Here’s how to use Autoencoders to detect signals with anomalies in a few lines of… </p></div>

		
		<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-35 wp-block-group-is-layout-flex">

			
			<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-34 wp-block-group-is-layout-flex">

				<div style="text-decoration:none;" class="has-link-color wp-elements-405d4e0f55fae1c84a82bd83ba2e27c0 wp-block-post-author-name has-text-color has-blue-gray-color has-caption-1-font-size"><a href="https://towardsdatascience.com/author/piero-paialunga/" target="_self" class="wp-block-post-author-name__link">Piero Paialunga</a></div>

				
				<div class="wp-block-group has-text-secondary-color has-text-color has-link-color wp-elements-421d182eef1a5225f64372b8a5605ad9 is-nowrap is-layout-flex wp-container-core-group-is-layout-33 wp-block-group-is-layout-flex">

					<div class="has-link-color wp-elements-2f08df38809735c44d27c382513ecb52 wp-block-post-date has-text-color has-text-secondary-color has-caption-1-font-size"><time datetime="2024-08-21T00:03:49-05:00">August 21, 2024</time></div>
					
<div class="wp-elements-717bb1e0e8956d465f5b94f3ba248dbf wp-block-tenup-post-time-to-read has-text-color has-text-secondary-color has-caption-1-font-size">
	12 min read</div>


					

					

				</div>
				

			</div>
			

		</div>
		

	</div>
	

</div>



				</li><li class="wp-block-post post-3497 post type-post status-publish format-standard has-post-thumbnail hentry category-machine-learning tag-ai tag-ai-for-business tag-generative-ai tag-llm tag-machine-learning" style="cursor: pointer;">

					

<div class="wp-block-group alignwide is-vertical is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-43 wp-block-group-is-layout-flex wp-block-pattern wp-block-null">

	<figure style="aspect-ratio:16/9;width:100%;" class="wp-block-post-featured-image"><img width="1280" height="720" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1UAA9jQVdqMXnwzYiz8Q53Q.png" class="attachment-post-thumbnail size-post-thumbnail has-transparency wp-post-image" alt="Image from Canva." style="--dominant-color: #7b938e;width:100%;height:100%;object-fit:cover;" decoding="async" loading="lazy" srcset="https://towardsdatascience.com/wp-content/uploads/2024/08/1UAA9jQVdqMXnwzYiz8Q53Q.png 1280w, https://towardsdatascience.com/wp-content/uploads/2024/08/1UAA9jQVdqMXnwzYiz8Q53Q-300x169.png 300w, https://towardsdatascience.com/wp-content/uploads/2024/08/1UAA9jQVdqMXnwzYiz8Q53Q-1024x576.png 1024w, https://towardsdatascience.com/wp-content/uploads/2024/08/1UAA9jQVdqMXnwzYiz8Q53Q-768x432.png 768w" sizes="auto, (max-width: 1280px) 100vw, 1280px" data-has-transparency="true" data-dominant-color="7b938e"></figure>

	
	<div class="wp-block-group alignwide is-style-default is-vertical is-layout-flex wp-container-core-group-is-layout-42 wp-block-group-is-layout-flex" style="padding-top:var(--wp--preset--spacing--10);padding-right:0;padding-left:0">

		
		<div class="wp-block-group is-reversed is-vertical is-layout-flex wp-container-core-group-is-layout-38 wp-block-group-is-layout-flex">

			<h2 style="margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;" class="has-link-color alignwide wp-elements-c804df8ecfea890347697a4469c7a87f wp-block-post-title has-text-color has-text-primary-color has-heading-6-font-size"><a href="https://towardsdatascience.com/3-ai-use-cases-that-are-not-a-chatbot-f4f328a2707a/" target="_self">3 AI Use Cases (That Are Not a Chatbot)</a></h2>
							<a href="https://towardsdatascience.com/category/artificial-intelligence/machine-learning/" style="text-transform:uppercase;" class="is-taxonomy-category wp-block-tenup-post-primary-term has-text-color has-text-secondary-color has-eyebrow-1-font-size">
					Machine Learning				</a>
						

		</div>
		

		<div class="has-link-color wp-elements-9b2da9e78c2e95c41dab8b5a7bd89187 wp-block-post-excerpt has-text-color has-text-secondary-color"><p class="wp-block-post-excerpt__excerpt">Feature engineering, structuring unstructured data, and lead scoring </p></div>

		
		<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-41 wp-block-group-is-layout-flex">

			
			<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-40 wp-block-group-is-layout-flex">

				<div style="text-decoration:none;" class="has-link-color wp-elements-405d4e0f55fae1c84a82bd83ba2e27c0 wp-block-post-author-name has-text-color has-blue-gray-color has-caption-1-font-size"><a href="https://towardsdatascience.com/author/shawhin/" target="_self" class="wp-block-post-author-name__link">Shaw Talebi</a></div>

				
				<div class="wp-block-group has-text-secondary-color has-text-color has-link-color wp-elements-421d182eef1a5225f64372b8a5605ad9 is-nowrap is-layout-flex wp-container-core-group-is-layout-39 wp-block-group-is-layout-flex">

					<div class="has-link-color wp-elements-2f08df38809735c44d27c382513ecb52 wp-block-post-date has-text-color has-text-secondary-color has-caption-1-font-size"><time datetime="2024-08-21T05:30:19-05:00">August 21, 2024</time></div>
					
<div class="wp-elements-717bb1e0e8956d465f5b94f3ba248dbf wp-block-tenup-post-time-to-read has-text-color has-text-secondary-color has-caption-1-font-size">
	7 min read</div>


					

					

				</div>
				

			</div>
			

		</div>
		

	</div>
	

</div>



				</li><li class="wp-block-post post-3509 post type-post status-publish format-standard has-post-thumbnail hentry category-data-science category-machine-learning tag-computer-science tag-data-science tag-getting-started tag-linear-regression tag-machine-learning" style="cursor: pointer;">

					

<div class="wp-block-group alignwide is-vertical is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-49 wp-block-group-is-layout-flex wp-block-pattern wp-block-null">

	<figure style="aspect-ratio:16/9;width:100%;" class="wp-block-post-featured-image"><img width="1588" height="448" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1VEUgT5T4absnTqBMOEuNig.png" class="attachment-post-thumbnail size-post-thumbnail has-transparency wp-post-image" alt="" style="--dominant-color: #dcdad8;width:100%;height:100%;object-fit:cover;" decoding="async" loading="lazy" srcset="https://towardsdatascience.com/wp-content/uploads/2023/02/1VEUgT5T4absnTqBMOEuNig.png 1588w, https://towardsdatascience.com/wp-content/uploads/2023/02/1VEUgT5T4absnTqBMOEuNig-300x85.png 300w, https://towardsdatascience.com/wp-content/uploads/2023/02/1VEUgT5T4absnTqBMOEuNig-1024x289.png 1024w, https://towardsdatascience.com/wp-content/uploads/2023/02/1VEUgT5T4absnTqBMOEuNig-768x217.png 768w, https://towardsdatascience.com/wp-content/uploads/2023/02/1VEUgT5T4absnTqBMOEuNig-1536x433.png 1536w" sizes="auto, (max-width: 1588px) 100vw, 1588px" data-has-transparency="true" data-dominant-color="dcdad8"></figure>

	
	<div class="wp-block-group alignwide is-style-default is-vertical is-layout-flex wp-container-core-group-is-layout-48 wp-block-group-is-layout-flex" style="padding-top:var(--wp--preset--spacing--10);padding-right:0;padding-left:0">

		
		<div class="wp-block-group is-reversed is-vertical is-layout-flex wp-container-core-group-is-layout-44 wp-block-group-is-layout-flex">

			<h2 style="margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;" class="has-link-color alignwide wp-elements-c804df8ecfea890347697a4469c7a87f wp-block-post-title has-text-color has-text-primary-color has-heading-6-font-size"><a href="https://towardsdatascience.com/back-to-basics-part-uno-linear-regression-cost-function-and-gradient-descent-590dcb3eee46/" target="_self">Back To Basics, Part Uno: Linear Regression and Cost Function</a></h2>
							<a href="https://towardsdatascience.com/category/data-science/" style="text-transform:uppercase;" class="is-taxonomy-category wp-block-tenup-post-primary-term has-text-color has-text-secondary-color has-eyebrow-1-font-size">
					Data Science				</a>
						

		</div>
		

		<div class="has-link-color wp-elements-9b2da9e78c2e95c41dab8b5a7bd89187 wp-block-post-excerpt has-text-color has-text-secondary-color"><p class="wp-block-post-excerpt__excerpt">An illustrated guide on essential machine learning concepts </p></div>

		
		<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-47 wp-block-group-is-layout-flex">

			
			<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-46 wp-block-group-is-layout-flex">

				<div style="text-decoration:none;" class="has-link-color wp-elements-405d4e0f55fae1c84a82bd83ba2e27c0 wp-block-post-author-name has-text-color has-blue-gray-color has-caption-1-font-size"><a href="https://towardsdatascience.com/author/shreya-rao/" target="_self" class="wp-block-post-author-name__link">Shreya Rao</a></div>

				
				<div class="wp-block-group has-text-secondary-color has-text-color has-link-color wp-elements-421d182eef1a5225f64372b8a5605ad9 is-nowrap is-layout-flex wp-container-core-group-is-layout-45 wp-block-group-is-layout-flex">

					<div class="has-link-color wp-elements-2f08df38809735c44d27c382513ecb52 wp-block-post-date has-text-color has-text-secondary-color has-caption-1-font-size"><time datetime="2023-02-03T06:34:43-05:00">February 3, 2023</time></div>
					
<div class="wp-elements-717bb1e0e8956d465f5b94f3ba248dbf wp-block-tenup-post-time-to-read has-text-color has-text-secondary-color has-caption-1-font-size">
	6 min read</div>


					

					

				</div>
				

			</div>
			

		</div>
		

	</div>
	

</div>



				</li><li class="wp-block-post post-3524 post type-post status-publish format-standard has-post-thumbnail hentry category-data-science category-machine-learning category-mathematics category-statistics tag-data-science tag-machine-learning tag-mathematics tag-python tag-statistics" style="cursor: pointer;">

					

<div class="wp-block-group alignwide is-vertical is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-55 wp-block-group-is-layout-flex wp-block-pattern wp-block-null">

	<figure style="aspect-ratio:16/9;width:100%;" class="wp-block-post-featured-image"><img width="691" height="732" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1kM8tfYcdaoccB1HX71YDig.png" class="attachment-post-thumbnail size-post-thumbnail has-transparency wp-post-image" alt="" style="--dominant-color: #d2d8d7;width:100%;height:100%;object-fit:cover;" decoding="async" loading="lazy" srcset="https://towardsdatascience.com/wp-content/uploads/2024/08/1kM8tfYcdaoccB1HX71YDig.png 691w, https://towardsdatascience.com/wp-content/uploads/2024/08/1kM8tfYcdaoccB1HX71YDig-283x300.png 283w" sizes="auto, (max-width: 691px) 100vw, 691px" data-has-transparency="true" data-dominant-color="d2d8d7"></figure>

	
	<div class="wp-block-group alignwide is-style-default is-vertical is-layout-flex wp-container-core-group-is-layout-54 wp-block-group-is-layout-flex" style="padding-top:var(--wp--preset--spacing--10);padding-right:0;padding-left:0">

		
		<div class="wp-block-group is-reversed is-vertical is-layout-flex wp-container-core-group-is-layout-50 wp-block-group-is-layout-flex">

			<h2 style="margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;" class="has-link-color alignwide wp-elements-c804df8ecfea890347697a4469c7a87f wp-block-post-title has-text-color has-text-primary-color has-heading-6-font-size"><a href="https://towardsdatascience.com/must-know-in-statistics-the-bivariate-normal-projection-explained-ace7b2f70b5b/" target="_self">Must-Know in Statistics: The Bivariate Normal Projection Explained</a></h2>
							<a href="https://towardsdatascience.com/category/data-science/" style="text-transform:uppercase;" class="is-taxonomy-category wp-block-tenup-post-primary-term has-text-color has-text-secondary-color has-eyebrow-1-font-size">
					Data Science				</a>
						

		</div>
		

		<div class="has-link-color wp-elements-9b2da9e78c2e95c41dab8b5a7bd89187 wp-block-post-excerpt has-text-color has-text-secondary-color"><p class="wp-block-post-excerpt__excerpt">Derivation and practical examples of this powerful concept </p></div>

		
		<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-53 wp-block-group-is-layout-flex">

			
			<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-52 wp-block-group-is-layout-flex">

				<div style="text-decoration:none;" class="has-link-color wp-elements-405d4e0f55fae1c84a82bd83ba2e27c0 wp-block-post-author-name has-text-color has-blue-gray-color has-caption-1-font-size"><a href="https://towardsdatascience.com/author/lu-battistoni/" target="_self" class="wp-block-post-author-name__link">Luigi Battistoni</a></div>

				
				<div class="wp-block-group has-text-secondary-color has-text-color has-link-color wp-elements-421d182eef1a5225f64372b8a5605ad9 is-nowrap is-layout-flex wp-container-core-group-is-layout-51 wp-block-group-is-layout-flex">

					<div class="has-link-color wp-elements-2f08df38809735c44d27c382513ecb52 wp-block-post-date has-text-color has-text-secondary-color has-caption-1-font-size"><time datetime="2024-08-14T12:17:00-05:00">August 14, 2024</time></div>
					
<div class="wp-elements-717bb1e0e8956d465f5b94f3ba248dbf wp-block-tenup-post-time-to-read has-text-color has-text-secondary-color has-caption-1-font-size">
	7 min read</div>


					

					

				</div>
				

			</div>
			

		</div>
		

	</div>
	

</div>



				</li><li class="wp-block-post post-3533 post type-post status-publish format-standard has-post-thumbnail hentry category-data-science category-machine-learning tag-data-science tag-machine-learning tag-tds-explore tag-towards-data-science" style="cursor: pointer;">

					

<div class="wp-block-group alignwide is-vertical is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-61 wp-block-group-is-layout-flex wp-block-pattern wp-block-null">

	<figure style="aspect-ratio:16/9;width:100%;" class="wp-block-post-featured-image"><img width="2560" height="1707" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/0BF38u2sw4WQdaMLS-scaled.jpg" class="attachment-post-thumbnail size-post-thumbnail not-transparent wp-post-image" alt="Photo by Alex Geerts on Unsplash" style="--dominant-color: #7c6b64;width:100%;height:100%;object-fit:cover;" decoding="async" loading="lazy" srcset="https://towardsdatascience.com/wp-content/uploads/2020/11/0BF38u2sw4WQdaMLS-scaled.jpg 2560w, https://towardsdatascience.com/wp-content/uploads/2020/11/0BF38u2sw4WQdaMLS-300x200.jpg 300w, https://towardsdatascience.com/wp-content/uploads/2020/11/0BF38u2sw4WQdaMLS-1024x683.jpg 1024w, https://towardsdatascience.com/wp-content/uploads/2020/11/0BF38u2sw4WQdaMLS-768x512.jpg 768w, https://towardsdatascience.com/wp-content/uploads/2020/11/0BF38u2sw4WQdaMLS-1536x1024.jpg 1536w, https://towardsdatascience.com/wp-content/uploads/2020/11/0BF38u2sw4WQdaMLS-2048x1365.jpg 2048w" sizes="auto, (max-width: 2560px) 100vw, 2560px" data-has-transparency="false" data-dominant-color="7c6b64"></figure>

	
	<div class="wp-block-group alignwide is-style-default is-vertical is-layout-flex wp-container-core-group-is-layout-60 wp-block-group-is-layout-flex" style="padding-top:var(--wp--preset--spacing--10);padding-right:0;padding-left:0">

		
		<div class="wp-block-group is-reversed is-vertical is-layout-flex wp-container-core-group-is-layout-56 wp-block-group-is-layout-flex">

			<h2 style="margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;" class="has-link-color alignwide wp-elements-c804df8ecfea890347697a4469c7a87f wp-block-post-title has-text-color has-text-primary-color has-heading-6-font-size"><a href="https://towardsdatascience.com/our-columns-53501f74c86d/" target="_self">Our Columns</a></h2>
							<a href="https://towardsdatascience.com/category/data-science/" style="text-transform:uppercase;" class="is-taxonomy-category wp-block-tenup-post-primary-term has-text-color has-text-secondary-color has-eyebrow-1-font-size">
					Data Science				</a>
						

		</div>
		

		<div class="has-link-color wp-elements-9b2da9e78c2e95c41dab8b5a7bd89187 wp-block-post-excerpt has-text-color has-text-secondary-color"><p class="wp-block-post-excerpt__excerpt">Columns on TDS are carefully curated collections of posts on a particular idea or category… </p></div>

		
		<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-59 wp-block-group-is-layout-flex">

			
			<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-58 wp-block-group-is-layout-flex">

				<div style="text-decoration:none;" class="has-link-color wp-elements-405d4e0f55fae1c84a82bd83ba2e27c0 wp-block-post-author-name has-text-color has-blue-gray-color has-caption-1-font-size"><a href="https://towardsdatascience.com/author/towardsdatascience/" target="_self" class="wp-block-post-author-name__link">TDS Editors</a></div>

				
				<div class="wp-block-group has-text-secondary-color has-text-color has-link-color wp-elements-421d182eef1a5225f64372b8a5605ad9 is-nowrap is-layout-flex wp-container-core-group-is-layout-57 wp-block-group-is-layout-flex">

					<div class="has-link-color wp-elements-2f08df38809735c44d27c382513ecb52 wp-block-post-date has-text-color has-text-secondary-color has-caption-1-font-size"><time datetime="2020-11-14T16:54:29-05:00">November 14, 2020</time></div>
					
<div class="wp-elements-717bb1e0e8956d465f5b94f3ba248dbf wp-block-tenup-post-time-to-read has-text-color has-text-secondary-color has-caption-1-font-size">
	4 min read</div>


					

					

				</div>
				

			</div>
			

		</div>
		

	</div>
	

</div>



				</li><li class="wp-block-post post-3545 post type-post status-publish format-standard has-post-thumbnail hentry category-data-science category-machine-learning tag-data-science tag-editors-pick tag-machine-learning tag-marketing-campaign tag-multi-armed-bandit" style="cursor: pointer;">

					

<div class="wp-block-group alignwide is-vertical is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-67 wp-block-group-is-layout-flex wp-block-pattern wp-block-null">

	<figure style="aspect-ratio:16/9;width:100%;" class="wp-block-post-featured-image"><img width="1792" height="1024" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/1vilI3Q4nlwqsAQLq3TOzSA.jpg" class="attachment-post-thumbnail size-post-thumbnail not-transparent wp-post-image" alt="Image created by authors with GPT-4o" style="--dominant-color: #9db1b3;width:100%;height:100%;object-fit:cover;" decoding="async" loading="lazy" srcset="https://towardsdatascience.com/wp-content/uploads/2024/08/1vilI3Q4nlwqsAQLq3TOzSA.jpg 1792w, https://towardsdatascience.com/wp-content/uploads/2024/08/1vilI3Q4nlwqsAQLq3TOzSA-300x171.jpg 300w, https://towardsdatascience.com/wp-content/uploads/2024/08/1vilI3Q4nlwqsAQLq3TOzSA-1024x585.jpg 1024w, https://towardsdatascience.com/wp-content/uploads/2024/08/1vilI3Q4nlwqsAQLq3TOzSA-768x439.jpg 768w, https://towardsdatascience.com/wp-content/uploads/2024/08/1vilI3Q4nlwqsAQLq3TOzSA-1536x878.jpg 1536w" sizes="auto, (max-width: 1792px) 100vw, 1792px" data-has-transparency="false" data-dominant-color="9db1b3"></figure>

	
	<div class="wp-block-group alignwide is-style-default is-vertical is-layout-flex wp-container-core-group-is-layout-66 wp-block-group-is-layout-flex" style="padding-top:var(--wp--preset--spacing--10);padding-right:0;padding-left:0">

		
		<div class="wp-block-group is-reversed is-vertical is-layout-flex wp-container-core-group-is-layout-62 wp-block-group-is-layout-flex">

			<h2 style="margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;" class="has-link-color alignwide wp-elements-c804df8ecfea890347697a4469c7a87f wp-block-post-title has-text-color has-text-primary-color has-heading-6-font-size"><a href="https://towardsdatascience.com/optimizing-marketing-campaigns-with-budgeted-multi-armed-bandits-a65fccd61878/" target="_self">Optimizing Marketing Campaigns with Budgeted Multi-Armed Bandits</a></h2>
							<a href="https://towardsdatascience.com/category/data-science/" style="text-transform:uppercase;" class="is-taxonomy-category wp-block-tenup-post-primary-term has-text-color has-text-secondary-color has-eyebrow-1-font-size">
					Data Science				</a>
						

		</div>
		

		<div class="has-link-color wp-elements-9b2da9e78c2e95c41dab8b5a7bd89187 wp-block-post-excerpt has-text-color has-text-secondary-color"><p class="wp-block-post-excerpt__excerpt">With demos, our new solution, and a video </p></div>

		
		<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-65 wp-block-group-is-layout-flex">

			
			<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-64 wp-block-group-is-layout-flex">

				<div style="text-decoration:none;" class="has-link-color wp-elements-405d4e0f55fae1c84a82bd83ba2e27c0 wp-block-post-author-name has-text-color has-blue-gray-color has-caption-1-font-size"><a href="https://towardsdatascience.com/author/vadim-arzamasov/" target="_self" class="wp-block-post-author-name__link">Vadim Arzamasov</a></div>

				
				<div class="wp-block-group has-text-secondary-color has-text-color has-link-color wp-elements-421d182eef1a5225f64372b8a5605ad9 is-nowrap is-layout-flex wp-container-core-group-is-layout-63 wp-block-group-is-layout-flex">

					<div class="has-link-color wp-elements-2f08df38809735c44d27c382513ecb52 wp-block-post-date has-text-color has-text-secondary-color has-caption-1-font-size"><time datetime="2024-08-16T14:17:21-05:00">August 16, 2024</time></div>
					
<div class="wp-elements-717bb1e0e8956d465f5b94f3ba248dbf wp-block-tenup-post-time-to-read has-text-color has-text-secondary-color has-caption-1-font-size">
	10 min read</div>


					

					

				</div>
				

			</div>
			

		</div>
		

	</div>
	

</div>



				</li><li class="wp-block-post post-3600 post type-post status-publish format-standard has-post-thumbnail hentry category-data-science category-machine-learning tag-data-science tag-getting-started tag-logistic-regression tag-machine-learning tag-python-programming" style="cursor: pointer;">

					

<div class="wp-block-group alignwide is-vertical is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-73 wp-block-group-is-layout-flex wp-block-pattern wp-block-null">

	

	
	<div class="wp-block-group alignwide is-style-default is-vertical is-layout-flex wp-container-core-group-is-layout-72 wp-block-group-is-layout-flex" style="padding-top:var(--wp--preset--spacing--10);padding-right:0;padding-left:0">

		
		<div class="wp-block-group is-reversed is-vertical is-layout-flex wp-container-core-group-is-layout-68 wp-block-group-is-layout-flex">

			<h2 style="margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;" class="has-link-color alignwide wp-elements-c804df8ecfea890347697a4469c7a87f wp-block-post-title has-text-color has-text-primary-color has-heading-6-font-size"><a href="https://towardsdatascience.com/back-to-basics-part-tres-logistic-regression-e309de76bd66/" target="_self">Back to Basics, Part Tres: Logistic Regression</a></h2>
							<a href="https://towardsdatascience.com/category/data-science/" style="text-transform:uppercase;" class="is-taxonomy-category wp-block-tenup-post-primary-term has-text-color has-text-secondary-color has-eyebrow-1-font-size">
					Data Science				</a>
						

		</div>
		

		<div class="has-link-color wp-elements-9b2da9e78c2e95c41dab8b5a7bd89187 wp-block-post-excerpt has-text-color has-text-secondary-color"><p class="wp-block-post-excerpt__excerpt">An illustrated guide to everything you need to know about Logistic Regression </p></div>

		
		<div class="wp-block-group is-nowrap is-layout-flex wp-container-core-group-is-layout-71 wp-block-group-is-layout-flex">

			
			<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-70 wp-block-group-is-layout-flex">

				<div style="text-decoration:none;" class="has-link-color wp-elements-405d4e0f55fae1c84a82bd83ba2e27c0 wp-block-post-author-name has-text-color has-blue-gray-color has-caption-1-font-size"><a href="https://towardsdatascience.com/author/shreya-rao/" target="_self" class="wp-block-post-author-name__link">Shreya Rao</a></div>

				
				<div class="wp-block-group has-text-secondary-color has-text-color has-link-color wp-elements-421d182eef1a5225f64372b8a5605ad9 is-nowrap is-layout-flex wp-container-core-group-is-layout-69 wp-block-group-is-layout-flex">

					<div class="has-link-color wp-elements-2f08df38809735c44d27c382513ecb52 wp-block-post-date has-text-color has-text-secondary-color has-caption-1-font-size"><time datetime="2023-03-02T08:06:05-05:00">March 2, 2023</time></div>
					
<div class="wp-elements-717bb1e0e8956d465f5b94f3ba248dbf wp-block-tenup-post-time-to-read has-text-color has-text-secondary-color has-caption-1-font-size">
	8 min read</div>


					

					

				</div>
				

			</div>
			

		</div>
		

	</div>
	

</div>



				</li></ul>

			</div>
			

		</div>
		

	</div>
	

</div>


<footer class="wp-block-template-part wp-block-template-part--footer">


<div class="wp-block-group is-style-section-brand has-spindle-color has-text-color has-link-color wp-elements-053ca6a4d4dc3c2e0f0e05387d746340 has-global-padding is-layout-constrained wp-container-core-group-is-layout-79 wp-block-group-is-layout-constrained is-style-section-brand--7" style="margin-top:0;margin-bottom:0;padding-top:var(--wp--preset--spacing--32);padding-right:var(--wp--preset--spacing--16);padding-bottom:var(--wp--preset--spacing--32);padding-left:var(--wp--preset--spacing--16)">
<div class="wp-block-group is-content-justification-center is-nowrap is-layout-flex wp-container-core-group-is-layout-77 wp-block-group-is-layout-flex">
<ul class="wp-block-social-links has-large-icon-size has-icon-color is-style-logos-only is-layout-flex wp-block-social-links-is-layout-flex"><li style="color: var(--wp--custom--color--spindle); " class="wp-social-link wp-social-link-youtube has-spindle-color wp-block-social-link"><a rel="noopener nofollow" target="_blank" href="https://www.youtube.com/c/TowardsDataScience" class="wp-block-social-link-anchor"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M21.8,8.001c0,0-0.195-1.378-0.795-1.985c-0.76-0.797-1.613-0.801-2.004-0.847c-2.799-0.202-6.997-0.202-6.997-0.202 h-0.009c0,0-4.198,0-6.997,0.202C4.608,5.216,3.756,5.22,2.995,6.016C2.395,6.623,2.2,8.001,2.2,8.001S2,9.62,2,11.238v1.517 c0,1.618,0.2,3.237,0.2,3.237s0.195,1.378,0.795,1.985c0.761,0.797,1.76,0.771,2.205,0.855c1.6,0.153,6.8,0.201,6.8,0.201 s4.203-0.006,7.001-0.209c0.391-0.047,1.243-0.051,2.004-0.847c0.6-0.607,0.795-1.985,0.795-1.985s0.2-1.618,0.2-3.237v-1.517 C22,9.62,21.8,8.001,21.8,8.001z M9.935,14.594l-0.001-5.62l5.404,2.82L9.935,14.594z"></path></svg><span class="wp-block-social-link-label screen-reader-text">YouTube</span></a></li>

<li style="color: var(--wp--custom--color--spindle); " class="wp-social-link wp-social-link-x has-spindle-color wp-block-social-link"><a rel="noopener nofollow" target="_blank" href="https://x.com/TDataScience" class="wp-block-social-link-anchor"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M13.982 10.622 20.54 3h-1.554l-5.693 6.618L8.745 3H3.5l6.876 10.007L3.5 21h1.554l6.012-6.989L15.868 21h5.245l-7.131-10.378Zm-2.128 2.474-.697-.997-5.543-7.93H8l4.474 6.4.697.996 5.815 8.318h-2.387l-4.745-6.787Z"></path></svg><span class="wp-block-social-link-label screen-reader-text">X</span></a></li>

<li style="color: var(--wp--custom--color--spindle); " class="wp-social-link wp-social-link-linkedin has-spindle-color wp-block-social-link"><a rel="noopener nofollow" target="_blank" href="https://www.linkedin.com/company/towards-data-science/?originalSubdomain=ca" class="wp-block-social-link-anchor"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z"></path></svg><span class="wp-block-social-link-label screen-reader-text">LinkedIn</span></a></li>

<li style="color: var(--wp--custom--color--spindle); " class="wp-social-link wp-social-link-threads has-spindle-color wp-block-social-link"><a rel="noopener nofollow" target="_blank" href="https://www.threads.net/@towardsdatascience" class="wp-block-social-link-anchor"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M16.3 11.3c-.1 0-.2-.1-.2-.1-.1-2.6-1.5-4-3.9-4-1.4 0-2.6.6-3.3 1.7l1.3.9c.5-.8 1.4-1 2-1 .8 0 1.4.2 1.7.7.3.3.5.8.5 1.3-.7-.1-1.4-.2-2.2-.1-2.2.1-3.7 1.4-3.6 3.2 0 .9.5 1.7 1.3 2.2.7.4 1.5.6 2.4.6 1.2-.1 2.1-.5 2.7-1.3.5-.6.8-1.4.9-2.4.6.3 1 .8 1.2 1.3.4.9.4 2.4-.8 3.6-1.1 1.1-2.3 1.5-4.3 1.5-2.1 0-3.8-.7-4.8-2S5.7 14.3 5.7 12c0-2.3.5-4.1 1.5-5.4 1.1-1.3 2.7-2 4.8-2 2.2 0 3.8.7 4.9 2 .5.7.9 1.5 1.2 2.5l1.5-.4c-.3-1.2-.8-2.2-1.5-3.1-1.3-1.7-3.3-2.6-6-2.6-2.6 0-4.7.9-6 2.6C4.9 7.2 4.3 9.3 4.3 12s.6 4.8 1.9 6.4c1.4 1.7 3.4 2.6 6 2.6 2.3 0 4-.6 5.3-2 1.8-1.8 1.7-4 1.1-5.4-.4-.9-1.2-1.7-2.3-2.3zm-4 3.8c-1 .1-2-.4-2-1.3 0-.7.5-1.5 2.1-1.6h.5c.6 0 1.1.1 1.6.2-.2 2.3-1.3 2.7-2.2 2.7z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Threads</span></a></li>

<li style="color: var(--wp--custom--color--spindle); " class="wp-social-link wp-social-link-bluesky has-spindle-color wp-block-social-link"><a rel="noopener nofollow" target="_blank" href="https://bsky.app/profile/towardsdatascience.com" class="wp-block-social-link-anchor"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M6.3,4.2c2.3,1.7,4.8,5.3,5.7,7.2.9-1.9,3.4-5.4,5.7-7.2,1.7-1.3,4.3-2.2,4.3.9s-.4,5.2-.6,5.9c-.7,2.6-3.3,3.2-5.6,2.8,4,.7,5.1,3,2.9,5.3-5,5.2-6.7-2.8-6.7-2.8,0,0-1.7,8-6.7,2.8-2.2-2.3-1.2-4.6,2.9-5.3-2.3.4-4.9-.3-5.6-2.8-.2-.7-.6-5.3-.6-5.9,0-3.1,2.7-2.1,4.3-.9h0Z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Bluesky</span></a></li></ul>
</div>



<div class="wp-block-columns alignwide is-layout-flex wp-container-core-columns-is-layout-1 wp-block-columns-is-layout-flex has-2-columns">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow"><div class="is-default-size wp-block-site-logo"><a href="https://towardsdatascience.com/" class="custom-logo-link" rel="home"><img loading="lazy" width="242" height="77" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/TDS-Vector-Logo.svg" class="custom-logo" alt="Towards Data Science" decoding="async"></a></div>


<p class="wp-block-paragraph">Your home for data science and Al. The world’s leading publication for data science, data analytics, data engineering, machine learning, and artificial intelligence professionals.</p>



<div class="wp-block-group is-vertical is-content-justification-left is-nowrap is-layout-flex wp-container-core-group-is-layout-78 wp-block-group-is-layout-flex">
<div class="wp-block-tenup-copyright">
	<span class="wp-block-tenup-copyright__copyright">
		©
	</span>
			<span class="wp-block-tenup-copyright__prefix">Insight Media Group, LLC</span>
		<span class="wp-block-tenup-copyright__year">
		2025	</span>
	</div>


<nav class="items-justified-center alignwide wp-block-navigation is-content-justification-center is-layout-flex wp-container-core-navigation-is-layout-1 wp-block-navigation-is-layout-flex" aria-label="Site Footer Navigation"><ul class="wp-block-navigation__container items-justified-center alignwide wp-block-navigation"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://towardsdatascience.com/about-towards-data-science-d691af11cc2f/"><span class="wp-block-navigation-item__label">About</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://towardsdatascience.com/privacy-policy/"><span class="wp-block-navigation-item__label">Privacy Policy</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://towardsdatascience.com/website-terms-of-use/"><span class="wp-block-navigation-item__label">Terms of Use</span></a></li></ul></nav>


<p class="wp-block-paragraph"><a href="https://towardsdatascience.com/towards-data-science-is-launching-as-an-independent-publication/" style="text-decoration: none; data-type=" link"="" data-id="https://towardsdatascience.com/towards-data-science-is-launching-as-an-independent-publication/">Towards Data Science is now independent!</a></p>



<button id="ot-sdk-btn" class="ot-sdk-show-settings wp-block-html">Cookies Settings</button>
</div>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h2 class="wp-block-heading has-surface-primary-color has-text-color has-link-color has-heading-6-font-size wp-elements-8abfba23580a95812086dc19dff05bae" style="margin-bottom:var(--wp--preset--spacing--16)">Sign up to our newsletter</h2>



<script class="wp-block-html" charset="utf-8" type="text/javascript" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/v2.js.download"></script>

	<script data-hubspot-rendered="true">
	hbspt.forms.create({
		portalId: "46095657",
		formId: "f73211c9-0317-43e8-8fbe-6eb475701286",
		onFormReady: function($form) {
			console.log({$form});
			const formElement = $form[0];
			console.log({formElement});
			if (formElement) {
				const link = document.createElement('link');
				link.rel = 'stylesheet';
				link.href = 'https://towardsdatascience.com/wp-content/themes/tds-theme/dist/css/frontend.css';
				formElement.ownerDocument.head.appendChild(link);
			}
		}
	});
</script><div id="hbspt-form-ace5c2b2-32ab-4959-a489-a26d27b92bc6" class="hbspt-form" data-hs-forms-root="true"><form id="hsForm_f73211c9-0317-43e8-8fbe-6eb475701286" method="POST" accept-charset="UTF-8" enctype="multipart/form-data" novalidate="" action="https://forms.hsforms.com/submissions/v3/public/submit/formsnext/multipart/46095657/f73211c9-0317-43e8-8fbe-6eb475701286" class="hs-form-private hsForm_f73211c9-0317-43e8-8fbe-6eb475701286 hs-form-f73211c9-0317-43e8-8fbe-6eb475701286 hs-form-f73211c9-0317-43e8-8fbe-6eb475701286_ace5c2b2-32ab-4959-a489-a26d27b92bc6 hs-form stacked" target="target_iframe_f73211c9-0317-43e8-8fbe-6eb475701286" data-instance-id="ace5c2b2-32ab-4959-a489-a26d27b92bc6" data-form-id="f73211c9-0317-43e8-8fbe-6eb475701286" data-portal-id="46095657" data-test-id="hsForm_f73211c9-0317-43e8-8fbe-6eb475701286"><div class="hs_email hs-email hs-fieldtype-text field hs-form-field"><label id="label-email-f73211c9-0317-43e8-8fbe-6eb475701286" class="" placeholder="Enter your Email address" for="email-f73211c9-0317-43e8-8fbe-6eb475701286"><span>Email address</span><span class="hs-form-required">*</span></label><legend class="hs-field-desc" style="display: none;"></legend><div class="input"><input id="email-f73211c9-0317-43e8-8fbe-6eb475701286" name="email" required="" placeholder="" type="email" class="hs-input" inputmode="email" autocomplete="email" value=""></div></div><div class="hs_firstname hs-firstname hs-fieldtype-text field hs-form-field"><label id="label-firstname-f73211c9-0317-43e8-8fbe-6eb475701286" class="" placeholder="Enter your First name" for="firstname-f73211c9-0317-43e8-8fbe-6eb475701286"><span>First name</span><span class="hs-form-required">*</span></label><legend class="hs-field-desc" style="display: none;"></legend><div class="input"><input id="firstname-f73211c9-0317-43e8-8fbe-6eb475701286" name="firstname" required="" placeholder="" type="text" class="hs-input" inputmode="text" autocomplete="given-name" value=""></div></div><div class="hs_lastname hs-lastname hs-fieldtype-text field hs-form-field"><label id="label-lastname-f73211c9-0317-43e8-8fbe-6eb475701286" class="" placeholder="Enter your Last name" for="lastname-f73211c9-0317-43e8-8fbe-6eb475701286"><span>Last name</span><span class="hs-form-required">*</span></label><legend class="hs-field-desc" style="display: none;"></legend><div class="input"><input id="lastname-f73211c9-0317-43e8-8fbe-6eb475701286" name="lastname" required="" placeholder="" type="text" class="hs-input" inputmode="text" autocomplete="family-name" value=""></div></div><div class="hs_jobtitle hs-jobtitle hs-fieldtype-text field hs-form-field"><label id="label-jobtitle-f73211c9-0317-43e8-8fbe-6eb475701286" class="" placeholder="Enter your Job title" for="jobtitle-f73211c9-0317-43e8-8fbe-6eb475701286"><span>Job title</span><span class="hs-form-required">*</span></label><legend class="hs-field-desc" style="display: none;"></legend><div class="input"><input id="jobtitle-f73211c9-0317-43e8-8fbe-6eb475701286" name="jobtitle" required="" placeholder="" type="text" class="hs-input" inputmode="text" autocomplete="organization-title" value=""></div></div><div class="hs_joblevel hs-joblevel hs-fieldtype-select field hs-form-field"><label id="label-joblevel-f73211c9-0317-43e8-8fbe-6eb475701286" class="" placeholder="Enter your Job level" for="joblevel-f73211c9-0317-43e8-8fbe-6eb475701286"><span>Job level</span><span class="hs-form-required">*</span></label><legend class="hs-field-desc" style="display: none;"></legend><div class="input"><select id="joblevel-f73211c9-0317-43e8-8fbe-6eb475701286" required="" class="hs-input is-placeholder" name="joblevel"><option disabled="" value="">Please Select</option><option value="C-Level">C-Level</option><option value="VP/Director">VP/Director</option><option value="Manager/Supervisor">Manager/Supervisor</option><option value="Mid Level or Senior Non-Managerial Staff">Mid Level or Senior Non-Managerial Staff</option><option value="Entry Level/Junior Staff">Entry Level/Junior Staff</option><option value="Freelancer/Contractor">Freelancer/Contractor</option><option value="Student/Intern">Student/Intern</option><option value="Other">Other</option></select></div></div><div class="hs_company hs-company hs-fieldtype-text field hs-form-field"><label id="label-company-f73211c9-0317-43e8-8fbe-6eb475701286" class="" placeholder="Enter your Company name" for="company-f73211c9-0317-43e8-8fbe-6eb475701286"><span>Company name</span><span class="hs-form-required">*</span></label><legend class="hs-field-desc" style="display: none;"></legend><div class="input"><input id="company-f73211c9-0317-43e8-8fbe-6eb475701286" name="company" required="" placeholder="" type="text" class="hs-input" inputmode="text" autocomplete="organization" value=""></div></div><div class="legal-consent-container"><div><div class="hs-dependent-field"><div class="hs_LEGAL_CONSENT.subscription_type_603985497 hs-LEGAL_CONSENT.subscription_type_603985497 hs-fieldtype-booleancheckbox field hs-form-field"><legend class="hs-field-desc" style="display: none;"></legend><div class="input"><ul class="inputs-list" required=""><li class="hs-form-booleancheckbox"><label for="LEGAL_CONSENT.subscription_type_603985497-f73211c9-0317-43e8-8fbe-6eb475701286" class="hs-form-booleancheckbox-display"><input id="LEGAL_CONSENT.subscription_type_603985497-f73211c9-0317-43e8-8fbe-6eb475701286" class="hs-input" type="checkbox" name="LEGAL_CONSENT.subscription_type_603985497" value="true"><span>I consent to receive newsletters and other communications from Towards Data Science publications.<span class="hs-form-required">*</span></span></label></li></ul></div></div></div><legend class="hs-field-desc checkbox-desc" style="display: none;"></legend></div></div><div class="hs_submit hs-submit"><div class="hs-field-desc" style="display: none;"></div><div class="actions"><input type="submit" class="hs-button primary large" value="Subscribe Now"></div></div><input name="hs_context" type="hidden" value="{&quot;embedAtTimestamp&quot;:&quot;1743235643481&quot;,&quot;formDefinitionUpdatedAt&quot;:&quot;1742399136333&quot;,&quot;lang&quot;:&quot;en&quot;,&quot;legalConsentOptions&quot;:&quot;{\&quot;communicationConsentCheckboxes\&quot;:[{\&quot;communicationTypeId\&quot;:603985497,\&quot;label\&quot;:\&quot;I consent to receive newsletters and other communications from Towards Data Science publications.\&quot;,\&quot;required\&quot;:true}],\&quot;legitimateInterestLegalBasis\&quot;:\&quot;LEGITIMATE_INTEREST_PQL\&quot;,\&quot;processingConsentType\&quot;:\&quot;IMPLICIT\&quot;,\&quot;processingConsentCheckboxLabel\&quot;:\&quot;I agree to allow The New Stack to store and process my personal data.\&quot;,\&quot;isLegitimateInterest\&quot;:false}&quot;,&quot;disableCookieSubmission&quot;:&quot;true&quot;,&quot;clonedFromForm&quot;:&quot;d3cc9508-2e21-4cd8-88e3-6f23775d52b9&quot;,&quot;renderRawHtml&quot;:&quot;true&quot;,&quot;userAgent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36&quot;,&quot;pageTitle&quot;:&quot;MovieLens-1M Deep Dive - Part I | Towards Data Science&quot;,&quot;pageUrl&quot;:&quot;https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/&quot;,&quot;referrer&quot;:&quot;https://www.google.com/&quot;,&quot;isHubSpotCmsGeneratedPage&quot;:false,&quot;formTarget&quot;:&quot;#hbspt-form-ace5c2b2-32ab-4959-a489-a26d27b92bc6&quot;,&quot;boolCheckBoxFields&quot;:&quot;LEGAL_CONSENT.subscription_type_603985497&quot;,&quot;rumScriptExecuteTime&quot;:2749.1999999284744,&quot;rumTotalRequestTime&quot;:3292.1999999284744,&quot;rumTotalRenderTime&quot;:3332.899999976158,&quot;rumServiceResponseTime&quot;:543,&quot;rumFormRenderTime&quot;:40.700000047683716,&quot;connectionType&quot;:&quot;4g&quot;,&quot;firstContentfulPaint&quot;:0,&quot;largestContentfulPaint&quot;:0,&quot;locale&quot;:&quot;en&quot;,&quot;timestamp&quot;:1743235644990,&quot;originalEmbedContext&quot;:{&quot;portalId&quot;:&quot;46095657&quot;,&quot;formId&quot;:&quot;f73211c9-0317-43e8-8fbe-6eb475701286&quot;,&quot;region&quot;:&quot;na1&quot;,&quot;target&quot;:&quot;#hbspt-form-ace5c2b2-32ab-4959-a489-a26d27b92bc6&quot;,&quot;isBuilder&quot;:false,&quot;isTestPage&quot;:false,&quot;isPreview&quot;:false,&quot;isMobileResponsive&quot;:true},&quot;correlationId&quot;:&quot;ace5c2b2-32ab-4959-a489-a26d27b92bc6&quot;,&quot;renderedFieldsIds&quot;:[&quot;email&quot;,&quot;firstname&quot;,&quot;lastname&quot;,&quot;jobtitle&quot;,&quot;joblevel&quot;,&quot;company&quot;,&quot;LEGAL_CONSENT.subscription_type_603985497&quot;],&quot;captchaStatus&quot;:&quot;NOT_APPLICABLE&quot;,&quot;emailResubscribeStatus&quot;:&quot;NOT_APPLICABLE&quot;,&quot;isInsideCrossOriginFrame&quot;:false,&quot;source&quot;:&quot;forms-embed-1.8109&quot;,&quot;sourceName&quot;:&quot;forms-embed&quot;,&quot;sourceVersion&quot;:&quot;1.8109&quot;,&quot;sourceVersionMajor&quot;:&quot;1&quot;,&quot;sourceVersionMinor&quot;:&quot;8109&quot;,&quot;allPageIds&quot;:{},&quot;_debug_embedLogLines&quot;:[{&quot;clientTimestamp&quot;:1743235644942,&quot;level&quot;:&quot;INFO&quot;,&quot;message&quot;:&quot;Retrieved customer callbacks used on embed context: [\&quot;onFormReady\&quot;]&quot;},{&quot;clientTimestamp&quot;:1743235644943,&quot;level&quot;:&quot;INFO&quot;,&quot;message&quot;:&quot;Retrieved pageContext values which may be overriden by the embed context: {\&quot;pageTitle\&quot;:\&quot;MovieLens-1M Deep Dive - Part I | Towards Data Science\&quot;,\&quot;pageUrl\&quot;:\&quot;https://towardsdatascience.com/movielens-1m-deep-dive-part-i-8acfeda1ad4/\&quot;,\&quot;referrer\&quot;:\&quot;https://www.google.com/\&quot;,\&quot;userAgent\&quot;:\&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36\&quot;,\&quot;isHubSpotCmsGeneratedPage\&quot;:false}&quot;},{&quot;clientTimestamp&quot;:1743235644946,&quot;level&quot;:&quot;INFO&quot;,&quot;message&quot;:&quot;Retrieved countryCode property from normalized embed definition response: \&quot;SK\&quot;&quot;}]}"><iframe name="target_iframe_f73211c9-0317-43e8-8fbe-6eb475701286" style="display: none;" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/saved_resource(4).html"></iframe></form></div>
</div>
</div>
</div>
</footer>
</div>
<script type="application/json" id="wp-script-module-data-@wordpress/interactivity">
{"config":{"tenup/site-header":{"debug":false,"navigationBreakpoint":900,"enableBackdrop":true,"enableHeadroom":false,"headroomOptions":{"offset":{"up":100,"down":100},"tolerance":0,"classes":{"initial":"headroom--initialized","pinned":"is-pinned","unpinned":"is-unpinned","top":"is-top","notTop":"not-top","bottom":"is-bottom","notBottom":"not-bottom"}},"focusableSelectors":["a[href]","input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","[contenteditable]","[tabindex]:not([tabindex^=\"-\"])"],"childRegions":[],"REGIONS":{"SEARCH":"search","MOBILE_NAVIGATION":"mobile-navigation"}},"tenup/navigation":{"icons":{"open":{"iconSet":"uikit","icon":"menu"},"close":{"iconSet":"uikit","icon":"close"}}},"tenup/search-button":{"icons":{"open":{"iconSet":"uikit","icon":"search"},"close":{"iconSet":"uikit","icon":"close"}}},"tenup/navigation-megamenu":{"icons":{"open":{"iconSet":"uikit","icon":"chevron-down"},"close":{"iconSet":"uikit","icon":"chevron-up"}}}},"state":{"tenup/site-header":{"isMobileNavigation":false,"isSubmenuExpanded":false,"isMobileNavigationExpanded":false,"isSearchExpanded":false,"hasSearch":false,"isInitialized":false,"expandedRegion":false,"triggerElement":null,"headroom":{"isPinned":false,"isTop":true,"isBottom":false},"isBackdropVisible":false,"isMegaMenuExpanded":false}}}
</script>
<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/post-template-view-script.js.download" id="ui-kit-theme-post-template-view-script-js"></script>
<script id="wp-block-template-skip-link-js-after">
	( function() {
		var skipLinkTarget = document.querySelector( 'main' ),
			sibling,
			skipLinkTargetID,
			skipLink;

		// Early exit if a skip-link target can't be located.
		if ( ! skipLinkTarget ) {
			return;
		}

		/*
		 * Get the site wrapper.
		 * The skip-link will be injected in the beginning of it.
		 */
		sibling = document.querySelector( '.wp-site-blocks' );

		// Early exit if the root element was not found.
		if ( ! sibling ) {
			return;
		}

		// Get the skip-link target's ID, and generate one if it doesn't exist.
		skipLinkTargetID = skipLinkTarget.id;
		if ( ! skipLinkTargetID ) {
			skipLinkTargetID = 'wp--skip-link--target';
			skipLinkTarget.id = skipLinkTargetID;
		}

		// Create the skip link.
		skipLink = document.createElement( 'a' );
		skipLink.classList.add( 'skip-link', 'screen-reader-text' );
		skipLink.href = '#' + skipLinkTargetID;
		skipLink.innerHTML = 'Skip to content';

		// Inject the skip link.
		sibling.parentElement.insertBefore( skipLink, sibling );
	}() );
	
</script>
<script id="tds-regwall-js-extra">
var tdsRegwall = {"ssoMetaApiEndpoint":"https:\/\/img-api.towardsdatascience.com\/api\/accounts\/sso\/meta?serverURL=https:\/\/img-api.towardsdatascience.com&redirect=https:\/\/towardsdatascience.com\/movielens-1m-deep-dive-part-i-8acfeda1ad4\/&failedRedirect=https:\/\/towardsdatascience.com\/movielens-1m-deep-dive-part-i-8acfeda1ad4\/","redirect":"https:\/\/towardsdatascience.com\/movielens-1m-deep-dive-part-i-8acfeda1ad4\/","ssoAccountEndpoint":"https:\/\/img-api.towardsdatascience.com\/api\/accounts\/me","ssoLogout":"https:\/\/img-api.towardsdatascience.com\/api\/accounts\/sso\/logout?redirect=https:\/\/towardsdatascience.com\/movielens-1m-deep-dive-part-i-8acfeda1ad4\/&failedRedirect=https:\/\/towardsdatascience.com\/movielens-1m-deep-dive-part-i-8acfeda1ad4\/"};
</script>
<script src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/regwall.js.download" id="tds-regwall-js" async="" data-wp-strategy="async"></script>


<div id="onetrust-consent-sdk" data-nosnippet="true"><div class="onetrust-pc-dark-filter ot-hide ot-fade-in" style="display: none;
                    transition: visibility 0s 400ms, opacity 400ms linear;
                    opacity: 0;visibility: hidden;"></div><div id="onetrust-banner-sdk" class="otFloatingRounded ot-bottom-left ot-wo-title vertical-align-content" tabindex="0" role="region" aria-label="Cookie banner" style="display: none;
                    transition: visibility 0s 400ms, opacity 400ms linear;
                    opacity: 0;visibility: hidden;"><div class="ot-sdk-container" role="dialog" aria-label="Privacy"><div class="ot-sdk-row"><div id="onetrust-group-container" class="ot-sdk-twelve ot-sdk-columns"><div class="banner_logo"></div><div id="onetrust-policy"><div id="onetrust-policy-text">By clicking “Accept All Cookies”, you agree to the storing of cookies on your device to enhance site navigation, analyze site usage, and assist in our marketing efforts. </div></div></div><div id="onetrust-button-group-parent" class="ot-sdk-twelve ot-sdk-columns has-reject-all-button"><div id="onetrust-button-group"><button id="onetrust-pc-btn-handler" class="cookie-setting-link">Cookies Settings</button><div class="onetrust-banner-options"><button id="onetrust-reject-all-handler">Reject All</button> <button id="onetrust-accept-btn-handler">Accept All Cookies</button></div></div></div><!-- Close Button --><div id="onetrust-close-btn-container"><button class="onetrust-close-btn-handler onetrust-close-btn-ui banner-close-button ot-close-icon" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/static/ot_close.svg&quot;);" aria-label="Close"></button></div><!-- Close Button END--></div></div></div><div id="onetrust-pc-sdk" class="otPcCenter ot-hide ot-fade-in ot-tgl-with-label" lang="en" aria-label="Preference center" role="region" style="display: none;
                    transition: visibility 0s 400ms, opacity 400ms linear;
                    opacity: 0;visibility: hidden;"><div role="dialog" aria-modal="true" style="height: 100%;" aria-label="Privacy Preference Center"><!-- Close Button --><div class="ot-pc-header"><!-- Logo Tag --><div class="ot-pc-logo" role="img" aria-label="Company Logo"><img alt="Company Logo" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/ot_company_logo.png"></div><button id="close-pc-btn-handler" class="ot-close-icon" aria-label="Close" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/static/ot_close.svg&quot;);"></button></div><!-- Close Button --><div id="ot-pc-content" class="ot-pc-scrollbar"><div class="ot-optout-signal ot-hide"><div class="ot-optout-icon"><svg xmlns="http://www.w3.org/2000/svg"><path class="ot-floating-button__svg-fill" d="M14.588 0l.445.328c1.807 1.303 3.961 2.533 6.461 3.688 2.015.93 4.576 1.746 7.682 2.446 0 14.178-4.73 24.133-14.19 29.864l-.398.236C4.863 30.87 0 20.837 0 6.462c3.107-.7 5.668-1.516 7.682-2.446 2.709-1.251 5.01-2.59 6.906-4.016zm5.87 13.88a.75.75 0 00-.974.159l-5.475 6.625-3.005-2.997-.077-.067a.75.75 0 00-.983 1.13l4.172 4.16 6.525-7.895.06-.083a.75.75 0 00-.16-.973z" fill="#FFF" fill-rule="evenodd"></path></svg></div><span></span></div><h2 id="ot-pc-title">Privacy Preference Center</h2><div id="ot-pc-desc">When you visit any website, it may store or retrieve information on your browser, mostly in the form of cookies. This information might be about you, your preferences or your device and is mostly used to make the site work as you expect it to. The information does not usually directly identify you, but it can give you a more personalized web experience. Because we respect your right to privacy, you can choose not to allow some types of cookies. Click on the different category headings to find out more and change our default settings. However, blocking some types of cookies may impact your experience of the site and the services we are able to offer.
            <br><a href="https://cookiepedia.co.uk/giving-consent-to-cookies" class="privacy-notice-link" rel="noopener" target="_blank" aria-label="More information about your privacy, opens in a new tab">More information</a></div><button id="accept-recommended-btn-handler">Allow All</button><section class="ot-sdk-row ot-cat-grp"><h3 id="ot-category-title"> Manage Consent Preferences</h3><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0003"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0003" aria-labelledby="ot-header-id-C0003"></button><!-- Accordion header --><div class="ot-acc-hdr"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0003">Functional Cookies</h4><div class="ot-tgl"><input type="checkbox" name="ot-group-id-C0003" id="ot-group-id-C0003" role="switch" class="category-switch-handler" data-optanongroupid="C0003" aria-labelledby="ot-header-id-C0003"> <label class="ot-switch" for="ot-group-id-C0003"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Functional Cookies</span></label> <span class="ot-label-status">Inactive</span></div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0003">These cookies enable the website to provide enhanced functionality and personalisation. They may be set by us or by third party providers whose services we have added to our pages. If you do not allow these cookies then some or all of these services may not function properly.</p></div></div><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0001"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0001" aria-labelledby="ot-header-id-C0001 ot-status-id-C0001"></button><!-- Accordion header --><div class="ot-acc-hdr ot-always-active-group"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0001">Strictly Necessary Cookies</h4><div id="ot-status-id-C0001" class="ot-always-active">Always Active</div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0001">These cookies are necessary for the website to function and cannot be switched off in our systems. They are usually only set in response to actions made by you which amount to a request for services, such as setting your privacy preferences, logging in or filling in forms. You can set your browser to block or alert you about these cookies, but some parts of the site will not then work. These cookies do not store any personally identifiable information.</p></div></div><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0002"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0002" aria-labelledby="ot-header-id-C0002"></button><!-- Accordion header --><div class="ot-acc-hdr"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0002">Performance Cookies</h4><div class="ot-tgl"><input type="checkbox" name="ot-group-id-C0002" id="ot-group-id-C0002" role="switch" class="category-switch-handler" data-optanongroupid="C0002" aria-labelledby="ot-header-id-C0002"> <label class="ot-switch" for="ot-group-id-C0002"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Performance Cookies</span></label> <span class="ot-label-status">Inactive</span></div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0002">These cookies allow us to count visits and traffic sources so we can measure and improve the performance of our site. They help us to know which pages are the most and least popular and see how visitors move around the site. All information these cookies collect is aggregated and therefore anonymous. If you do not allow these cookies we will not know when you have visited our site, and will not be able to monitor its performance.</p></div></div><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0004"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0004" aria-labelledby="ot-header-id-C0004"></button><!-- Accordion header --><div class="ot-acc-hdr"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0004">Targeting Cookies</h4><div class="ot-tgl"><input type="checkbox" name="ot-group-id-C0004" id="ot-group-id-C0004" role="switch" class="category-switch-handler" data-optanongroupid="C0004" aria-labelledby="ot-header-id-C0004"> <label class="ot-switch" for="ot-group-id-C0004"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Targeting Cookies</span></label> <span class="ot-label-status">Inactive</span></div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0004">These cookies may be set through our site by our advertising partners. They may be used by those companies to build a profile of your interests and show you relevant adverts on other sites. They do not store directly personal information, but are based on uniquely identifying your browser and internet device. If you do not allow these cookies, you will experience less targeted advertising.</p></div></div><!-- Groups sections starts --><!-- Group section ends --><!-- Accordion Group section starts --><!-- Accordion Group section ends --></section></div><section id="ot-pc-lst" class="ot-hide ot-hosts-ui ot-pc-scrollbar"><div id="ot-pc-hdr"><div id="ot-lst-title"><button class="ot-link-btn back-btn-handler" aria-label="Back"><svg id="ot-back-arw" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 444.531 444.531" xml:space="preserve"><title>Back Button</title><g><path fill="#656565" d="M213.13,222.409L351.88,83.653c7.05-7.043,10.567-15.657,10.567-25.841c0-10.183-3.518-18.793-10.567-25.835
                    l-21.409-21.416C323.432,3.521,314.817,0,304.637,0s-18.791,3.521-25.841,10.561L92.649,196.425
                    c-7.044,7.043-10.566,15.656-10.566,25.841s3.521,18.791,10.566,25.837l186.146,185.864c7.05,7.043,15.66,10.564,25.841,10.564
                    s18.795-3.521,25.834-10.564l21.409-21.412c7.05-7.039,10.567-15.604,10.567-25.697c0-10.085-3.518-18.746-10.567-25.978
                    L213.13,222.409z"></path></g></svg></button><h3>Cookie List</h3></div><div class="ot-lst-subhdr"><div class="ot-search-cntr"><p role="status" class="ot-scrn-rdr"></p><input id="vendor-search-handler" type="text" name="vendor-search-handler" placeholder="Search…" aria-label="Cookie list search"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 -30 110 110" aria-hidden="true"><title>Search Icon</title><path fill="#2e3644" d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23
            s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92
            c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17
            s-17-7.626-17-17S14.61,6,23.984,6z"></path></svg></div><div class="ot-fltr-cntr"><button id="filter-btn-handler" aria-label="Filter" aria-haspopup="true"><svg role="presentation" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 402.577 402.577" xml:space="preserve"><title>Filter Icon</title><g><path fill="#fff" d="M400.858,11.427c-3.241-7.421-8.85-11.132-16.854-11.136H18.564c-7.993,0-13.61,3.715-16.846,11.136
      c-3.234,7.801-1.903,14.467,3.999,19.985l140.757,140.753v138.755c0,4.955,1.809,9.232,5.424,12.854l73.085,73.083
      c3.429,3.614,7.71,5.428,12.851,5.428c2.282,0,4.66-0.479,7.135-1.43c7.426-3.238,11.14-8.851,11.14-16.845V172.166L396.861,31.413
      C402.765,25.895,404.093,19.231,400.858,11.427z"></path></g></svg></button></div><div id="ot-anchor"></div><section id="ot-fltr-modal"><div id="ot-fltr-cnt"><button id="clear-filters-handler">Clear</button><div class="ot-fltr-scrlcnt ot-pc-scrollbar"><div class="ot-fltr-opts" role="list"><div class="ot-fltr-opt" role="listitem"><div class="ot-chkbox"><input id="chkbox-id" type="checkbox" class="category-filter-handler"> <label for="chkbox-id"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div><div class="ot-fltr-btns"><button id="filter-apply-handler">Apply</button> <button id="filter-cancel-handler">Cancel</button></div></div></div></section></div></div><section id="ot-lst-cnt" class="ot-host-cnt ot-pc-scrollbar"><div id="ot-sel-blk"><div class="ot-sel-all"><div class="ot-sel-all-hdr"><span class="ot-consent-hdr">Consent</span> <span class="ot-li-hdr">Leg.Interest</span></div><div class="ot-sel-all-chkbox"><div class="ot-chkbox" id="ot-selall-hostcntr"><input id="select-all-hosts-groups-handler" type="checkbox"> <label for="select-all-hosts-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-vencntr"><input id="select-all-vendor-groups-handler" type="checkbox"> <label for="select-all-vendor-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-licntr"><input id="select-all-vendor-leg-handler" type="checkbox"> <label for="select-all-vendor-leg-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div></div><div class="ot-sdk-row"><div class="ot-sdk-column"></div></div></section></section><div class="ot-pc-footer ot-pc-scrollbar"><div class="ot-btn-container"><button class="ot-pc-refuse-all-handler">Reject All</button> <button class="save-preference-btn-handler onetrust-close-btn-handler">Confirm My Choices</button></div><!-- Footer logo --><div class="ot-pc-footer-logo"><a href="https://www.onetrust.com/products/cookie-consent/" target="_blank" rel="noopener noreferrer" aria-label="Powered by OneTrust Opens in a new Tab"><img alt="Powered by Onetrust" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/powered_by_logo.svg" title="Powered by OneTrust Opens in a new Tab"></a></div></div><!-- Cookie subgroup container --><!-- Vendor list link --><!-- Cookie lost link --><!-- Toggle HTML element --><!-- Checkbox HTML --><!-- plus minus--><!-- Arrow SVG element --><!-- Accordion basic element --><span class="ot-scrn-rdr" aria-atomic="true" aria-live="polite">Your Privacy [`dialog closed`]</span><!-- Vendor Service container and item template --></div><iframe class="ot-text-resize" sandbox="allow-same-origin" title="onetrust-text-resize" style="position: absolute; top: -50000px; width: 100em;" aria-hidden="true" src="./MovieLens-1M Deep Dive - Part I _ Towards Data Science_files/saved_resource(5).html"></iframe></div></div><div id="move-helper-text" style="position: absolute; top: -999em; left: -999em;">Some areas of this page may shift around if you resize the browser window. Be sure to check heading and document order.</div></body></html>