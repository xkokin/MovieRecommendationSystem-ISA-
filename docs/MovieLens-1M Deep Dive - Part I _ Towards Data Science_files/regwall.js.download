!function(){const e=()=>{const e=document.querySelector(".wp-block-tenup-site-header .tds-login"),t=document.querySelector(".wp-block-tenup-site-header .tds-logout");window.tdsRegwallAuthorize=()=>{fetch(window.tdsRegwall.ssoMetaApiEndpoint).then((e=>e.json())).then((e=>{window.location.href=e.authorizeURL}))};const n=(e,t,n)=>{const s=new Date;s.setTime(s.getTime()+60*n*60*1e3),document.cookie=`${e}=${t};expires=${s.toUTCString()};samesite=strict;path=/;secure`},s=()=>{e&&(e.style.display="flex"),t&&(t.style.display="none")},o=e=>{e.preventDefault(),fetch(window.tdsRegwall.ssoLogout,{credentials:"include"}),n("tds_logged_in_user","",-1),s()};e&&e.addEventListener("click",window.tdsRegwallAuthorize),t&&t.querySelector(".wp-block-button__link").addEventListener("click",o);let i=(d="tds_logged_in_user",document.cookie.split("; ").find((e=>e.startsWith(`${d}=`)))?.split("=")[1]);var d;(document.referrer.includes("oryapis.com")||document.referrer.includes("auth.insightmediagroup.io")||i)&&fetch(window.tdsRegwall.ssoAccountEndpoint,{credentials:"include"}).then((e=>e.json())).then((o=>{let d=!1;var l;o?.user?.author_id&&(i?o.user.author_id===i&&(d=!0):(i=o.user.author_id,n("tds_logged_in_user",i,2),d=!0),l=o.user.first_name,e&&(e.style.display="none"),t&&(t.style.display="flex",t.insertAdjacentHTML("afterbegin",`<span class="tds-user-name">Hi, ${l}.&nbsp;</span>`))),d||(n("tds_logged_in_user","",-1),s())}))};window?.tdsRegwall&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e())}();