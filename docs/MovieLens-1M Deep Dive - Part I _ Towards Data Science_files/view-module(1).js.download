import*as e from"@wordpress/interactivity";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const n=(e=>{var n={};return t.d(n,e),n})({getConfig:()=>e.getConfig,getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store}),{childRegions:o=[],debug:i,focusableSelectors:a,REGIONS:s}=(0,n.getConfig)("tenup/site-header");(0,n.store)("tenup/navigation",{state:{},context:{},actions:{},callbacks:{manageScrollLock(){const{ref:e}=(0,n.getElement)(),{actions:t,state:o}=(0,n.store)("tenup/site-header");o.isMobileNavigationExpanded&&o.isMobileNavigation?t.disablePageScroll(e):t.enablePageScroll(e)},manageBodyClasses(){const{state:e}=(0,n.store)("tenup/site-header");document.body.classList.toggle("is-mobile-navigation-expanded",e.isMobileNavigationExpanded&&e.isMobileNavigation)},manageFocus(){const{state:e}=(0,n.store)("tenup/site-header"),{isMobileNavigationExpanded:t,isMobileNavigation:s,expandedRegion:g}=e,{ref:r}=(0,n.getElement)(),l=o?.includes(g);if(s&&t&&!l){const e=r.querySelector(".wp-block-tenup-navigation__list").querySelector(a);e&&(i&&console.log("Focus first link in navigation menu"),e.focus())}}}});const{state:g}=(0,n.store)("tenup/site-header",{state:{get isMobileNavigationExpanded(){if(!g.isMobileNavigation)return!0;if(!(0,n.getContext)("tenup/navigation").collapseOnMobile)return!0;return o.some((e=>g.expandedRegion===e))||"mobile-navigation"===g.expandedRegion},get isSubmenuExpanded(){const e=(0,n.getContext)("tenup/navigation-submenu");return g.expandedRegion===e.region}},actions:{toggleMobileNavigation(){const{expandedRegion:e}=g,{ref:t}=(0,n.getElement)(),i=o.some((t=>e===t)),a=e!==s.MOBILE_NAVIGATION&&!i;a&&(g.triggerElement=t),g.expandedRegion=a?s.MOBILE_NAVIGATION:null},toggleSubmenu(){const{region:e,parentRegion:t}=(0,n.getContext)("tenup/navigation-submenu"),{ref:o}=(0,n.getElement)(),{expandedRegion:i,isMobileNavigation:a}=g,s=i!==e;s&&(g.triggerElement=o);const r=a&&!!t?t:null;g.expandedRegion=s?e:r},openMenuOnHover(){if(g.isMobileNavigation&&g.isMobileNavigationExpanded)return;const{region:e}=(0,n.getContext)("tenup/navigation-submenu");g.expandedRegion=e},closeMenuOnHover(){if(g.isMobileNavigation&&g.isMobileNavigationExpanded)return;const{parentRegion:e}=(0,n.getContext)("tenup/navigation-submenu"),{isMobileNavigation:t}=g,o=t&&!!e?e:null;g.expandedRegion=o}},callbacks:{manageFocusTrap(){const{ref:e}=(0,n.getElement)(),t=e.closest(".wp-site-blocks");if(!t||!g.isMobileNavigation)return;t.querySelectorAll("& > *:not(.wp-block-template-part--header)").forEach((e=>{g.isMobileNavigationExpanded?e.setAttribute("inert","true"):e.removeAttribute("inert")}))},handleSubmenuFocusout(e){const{state:t,actions:o}=(0,n.store)("tenup/site-header"),{isSubmenuExpanded:a,isMobileNavigation:s}=t,{relatedTarget:g,currentTarget:r}=e;if(!r||!a||!g||a&&r.contains(g))return;const l=(0,n.getContext)("tenup/navigation-submenu");s&&o.returnFocus();const u=l.parentRegion,d=s&&u?l.parentRegion:null;t.expandedRegion=d,i&&console.log("Close expanded region on focus out")}}});