import*as e from"@wordpress/interactivity";var o={518:e=>{e.exports=import("@10up-ui-kit/headroomjs")},391:e=>{e.exports=import("@10up-ui-kit/scroll-lock")}},n={};function t(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return o[e](r,r.exports,t),r.exports}t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o);const i=(e=>{var o={};return t.d(o,e),o})({getConfig:()=>e.getConfig,getElement:()=>e.getElement,store:()=>e.store,useEffect:()=>e.useEffect}),{navigationBreakpoint:r,childRegions:s=[],enableHeadroom:a,headroomOptions:d,enableBackdrop:l,debug:c,REGIONS:g}=(0,i.getConfig)("tenup/site-header"),{state:p,actions:u}=(0,i.store)("tenup/site-header",{state:{get isBackdropVisible(){return!!l&&(!!p.expandedRegion&&!p.isMobileNavigation)},get headerHeightValue(){return`${p.headerHeight}px`},headroomInstance:null},actions:{*disablePageScroll(...e){const{disablePageScroll:o}=yield Promise.resolve().then(t.bind(t,391));o(...e)},*enablePageScroll(...e){const{enablePageScroll:o}=yield Promise.resolve().then(t.bind(t,391));o(...e)},returnFocus(){const{triggerElement:e}=p;e&&(c&&console.log("Return focus to:",e),requestAnimationFrame((()=>{requestAnimationFrame((()=>{e.focus(),p.triggerElement=null}))})))}},callbacks:{*init(){const{ref:e}=(0,i.getElement)();if(p.isInitialized=!0,a){const{Headroom:o}=yield Promise.resolve().then(t.bind(t,518)),n=new o(e,{...d,onPin(){p.headroom.isPinned=!0},onUnpin(){p.headroom.isPinned=!1},onTop(){p.headroom.isTop=!0},onNotTop(){p.headroom.isTop=!1},onBottom(){p.headroom.isBottom=!0},onNotBottom(){p.headroom.isBottom=!1}});n.init(),p.headroomInstance=n,e.setAttribute("data-is-sticky","true")}},storeHeaderHeight(){const{ref:e}=(0,i.getElement)();p.headerHeight=e.offsetHeight,new ResizeObserver((()=>{p.headerHeight=e.offsetHeight,document.documentElement.style.setProperty("--header-height",`${p.headerHeight}px`)})).observe(e)},checkBrowserWidth(){const e=window.matchMedia(`(min-width: ${r}px)`).matches;p.isMobileNavigation=!e},closeExpandedRegionsOnBreakpointChange(){(0,i.useEffect)((()=>{p.triggerElement=null,p.expandedRegion=null,c&&console.log("Close expanded regions on breakpoint change")}),[p.isMobileNavigation])},handleKeydown(e){const{expandedRegion:o}=p;if(o&&"Escape"===e.key){const n=s?.includes(o),t=n&&p.isMobileNavigation?g.MOBILE_NAVIGATION:null;c&&(console.log("Close expanded region on escape key"),console.log("Return focus to:",t)),u.returnFocus(),p.expandedRegion=t,e.preventDefault()}},handleFocusout(e){const{expandedRegion:o}=p,{relatedTarget:n}=e;if(!o)return;if(!n)return;n&&n.closest(".wp-block-tenup-site-header")||(p.expandedRegion=null,c&&console.log("Close expanded region on focus out"))},handleWindowClick(e){const{expandedRegion:o}=p,{target:n}=e;if(!o)return;n.closest(".wp-block-tenup-site-header")||(p.expandedRegion=null,c&&console.log("Close expanded region on window click"))},manageHeaderPin(){const{headroomInstance:e}=p;e&&(p.expandedRegion?(e.pin(),e.freeze()):e.unfreeze())}}});